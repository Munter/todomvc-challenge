!function(){var t=function(){var t={};var e={};var i=function(){return function(){}};var r=function(t,r){var n={id:t,exports:{}};r(n.exports,i(),n);var o=e[t]=n.exports;return o};var n=function(i){if(e.hasOwnProperty(i))return e[i];if(t.hasOwnProperty(i))return r(i,t[i]);throw new Error('Cannot find module "'+i+'"')};n.register=function(e,i){t[e]=i};return n}();t.register("chaplin/application",function(e,i,r){"use strict";var n,o,s,l,u,a,c,p,h;h=t("underscore");o=t("backbone");p=t("chaplin/mediator");l=t("chaplin/dispatcher");a=t("chaplin/views/layout");s=t("chaplin/composer");c=t("chaplin/lib/router");u=t("chaplin/lib/event_broker");r.exports=n=function(){t.extend=o.Model.extend;h.extend(t.prototype,u);t.prototype.title="";t.prototype.dispatcher=null;t.prototype.layout=null;t.prototype.router=null;t.prototype.composer=null;t.prototype.started=false;function t(t){if(t==null){t={}}this.initialize(t)}t.prototype.initialize=function(t){if(t==null){t={}}if(this.started){throw new Error("Application#initialize: App was already started")}this.initRouter(t.routes,t);this.initDispatcher(t);this.initLayout(t);this.initComposer(t);this.initMediator();return this.start()};t.prototype.initDispatcher=function(t){return this.dispatcher=new l(t)};t.prototype.initLayout=function(t){var e;if(t==null){t={}}if((e=t.title)==null){t.title=this.title}return this.layout=new a(t)};t.prototype.initComposer=function(t){if(t==null){t={}}return this.composer=new s(t)};t.prototype.initMediator=function(){return p.seal()};t.prototype.initRouter=function(t,e){this.router=new c(e);return typeof t==="function"?t(this.router.match):void 0};t.prototype.start=function(){this.router.startHistory();this.started=true;return typeof Object.freeze==="function"?Object.freeze(this):void 0};t.prototype.disposed=false;t.prototype.dispose=function(){var t,e,i,r,n;if(this.disposed){return}t=typeof Object.isFrozen==="function"?Object.isFrozen(this):void 0;i=["dispatcher","layout","router","composer"];for(r=0,n=i.length;r<n;r++){e=i[r];if(!(this[e]!=null)){continue}this[e].dispose();if(!t){delete this[e]}}this.disposed=true;return typeof Object.freeze==="function"?Object.freeze(this):void 0};return t}()});t.register("chaplin/mediator",function(e,i,r){"use strict";var n,o,s,l,u,a,c=[].slice;n=t("backbone");a=t("underscore");l=t("chaplin/lib/support");u=t("chaplin/lib/utils");s={};s.subscribe=n.Events.on;s.unsubscribe=n.Events.off;s.publish=n.Events.trigger;s._callbacks=null;o=s._handlers={};s.setHandler=function(t,e,i){return o[t]={instance:i,method:e}};s.execute=function(){var t,e,i,r,n;r=arguments[0],t=2<=arguments.length?c.call(arguments,1):[];n=false;if(typeof r==="object"){n=r.silent;i=r.name}else{i=r}e=o[i];if(e){return e.method.apply(e.instance,t)}else if(!n){throw new Error("mediator.execute: "+i+" handler is not defined")}};s.removeHandlers=function(t){var e,i,r,n;if(!t){s._handlers={}}if(u.isArray(t)){for(r=0,n=t.length;r<n;r++){i=t[r];delete o[i]}}else{for(i in o){e=o[i];if(e.instance===t){delete o[i]}}}};u.readonly(s,"subscribe","unsubscribe","publish","setHandler","execute","removeHandlers");s.seal=function(){if(l.propertyDescriptors&&Object.seal){return Object.seal(s)}};u.readonly(s,"seal");r.exports=s});t.register("chaplin/dispatcher",function(e,i,r){"use strict";var n,o,s,l,u,a;a=t("underscore");n=t("backbone");l=t("chaplin/mediator");u=t("chaplin/lib/utils");s=t("chaplin/lib/event_broker");r.exports=o=function(){t.extend=n.Model.extend;a.extend(t.prototype,s);t.prototype.previousRoute=null;t.prototype.currentController=null;t.prototype.currentRoute=null;t.prototype.currentParams=null;t.prototype.currentQuery=null;function t(){this.initialize.apply(this,arguments)}t.prototype.initialize=function(t){if(t==null){t={}}this.settings=a.defaults(t,{controllerPath:"controllers/",controllerSuffix:"_controller"});return this.subscribeEvent("router:match",this.dispatch)};t.prototype.dispatch=function(t,e,i){var r,n,o=this;e=e?a.extend({},e):{};i=i?a.extend({},i):{};if(!(i.query!=null)){i.query={}}if(i.changeURL!==false){i.changeURL=true}if(i.forceStartup!==true){i.forceStartup=false}if(!i.forceStartup&&((r=this.currentRoute)!=null?r.controller:void 0)===t.controller&&((n=this.currentRoute)!=null?n.action:void 0)===t.action&&a.isEqual(this.currentParams,e)&&a.isEqual(this.currentQuery,i.query)){return}return this.loadController(t.controller,function(r){return o.controllerLoaded(t,e,i,r)})};t.prototype.loadController=function(t,e){var i,r;i=t+this.settings.controllerSuffix;r=this.settings.controllerPath+i;if(typeof define!=="undefined"&&define!==null?define.amd:void 0){return require([r],e)}else{return e(require(r))}};t.prototype.controllerLoaded=function(t,e,i,r){var n;this.previousRoute=this.currentRoute;this.currentRoute=a.extend({},t,{previous:u.beget(this.previousRoute)});n=new r(e,this.currentRoute,i);return this.executeBeforeAction(n,this.currentRoute,e,i)};t.prototype.executeAction=function(t,e,i,r){if(this.currentController){this.publishEvent("beforeControllerDispose",this.currentController);this.currentController.dispose(i,e,r)}this.currentController=t;this.currentParams=i;this.currentQuery=r.query;t[e.action](i,e,r);if(t.redirected){return}this.adjustURL(e,i,r);return this.publishEvent("dispatcher:dispatch",this.currentController,i,e,r)};t.prototype.executeBeforeAction=function(t,e,i,r){var n,o,s,l=this;n=t.beforeAction;o=function(){if(t.redirected||l.currentRoute&&e!==l.currentRoute){t.dispose();return}return l.executeAction(t,e,i,r)};if(!n){o();return}if(typeof n!=="function"){throw new TypeError("Controller#beforeAction: function expected. "+"Old object-like form is not supported.")}s=t.beforeAction(i,e,r);if(s&&s.then){return s.then(o)}else{return o()}};t.prototype.adjustURL=function(t,e,i){var r;if(t.path==null){return}r=t.path+(t.query?"?"+t.query:"");if(i.changeURL){return l.execute("router:changeURL",r,i)}};t.prototype.disposed=false;t.prototype.dispose=function(){if(this.disposed){return}this.unsubscribeAllEvents();this.disposed=true;return typeof Object.freeze==="function"?Object.freeze(this):void 0};return t}()});t.register("chaplin/composer",function(e,i,r){"use strict";var n,o,s,l,u,a,c;c=t("underscore");n=t("backbone");u=t("chaplin/mediator");a=t("chaplin/lib/utils");s=t("chaplin/lib/composition");l=t("chaplin/lib/event_broker");r.exports=o=function(){t.extend=n.Model.extend;c.extend(t.prototype,l);t.prototype.compositions=null;function t(){this.initialize.apply(this,arguments)}t.prototype.initialize=function(t){if(t==null){t={}}this.compositions={};u.setHandler("composer:compose",this.compose,this);u.setHandler("composer:retrieve",this.retrieve,this);return this.subscribeEvent("dispatcher:dispatch",this.cleanup)};t.prototype.compose=function(t,e,i){if(typeof e==="function"){if(i||e.prototype.dispose){if(e.prototype instanceof s){return this._compose(t,{composition:e,options:i})}else{return this._compose(t,{options:i,compose:function(){var t,i;this.item=new e(this.options);t=this.item.autoRender;i=t===void 0||!t;if(i&&typeof this.item.render==="function"){return this.item.render()}}})}}return this._compose(t,{compose:e})}if(typeof i==="function"){return this._compose(t,{compose:i,options:e})}return this._compose(t,e)};t.prototype._compose=function(t,e){var i,r,n,o;if(typeof e.compose!=="function"&&!(e.composition!=null)){throw new Error("Composer#compose was used incorrectly")}if(e.composition!=null){i=new e.composition(e.options)}else{i=new s(e.options);i.compose=e.compose;if(e.check){i.check=e.check}}r=this.compositions[t];n=false;if(r&&r.check(i.options)){r.stale(false)}else{if(r){r.dispose()}o=i.compose(i.options);n=typeof(o!=null?o.then:void 0)==="function";i.stale(false);this.compositions[t]=i}if(n){return o}else{return this.compositions[t].item}};t.prototype.retrieve=function(t){var e;e=this.compositions[t];if(e&&!e.stale()){return e.item}else{return void 0}};t.prototype.cleanup=function(){var t,e,i;i=this.compositions;for(e in i){t=i[e];if(t.stale()){t.dispose();delete this.compositions[e]}else{t.stale(true)}}};t.prototype.dispose=function(){var t,e,i;if(this.disposed){return}this.unsubscribeAllEvents();u.removeHandlers(this);i=this.compositions;for(e in i){t=i[e];t.dispose()}delete this.compositions;this.disposed=true;return typeof Object.freeze==="function"?Object.freeze(this):void 0};return t}()});t.register("chaplin/controllers/controller",function(e,i,r){"use strict";var n,o,s,l,u,a,c=[].slice,p={}.hasOwnProperty;a=t("underscore");n=t("backbone");s=t("chaplin/lib/event_broker");l=t("chaplin/lib/helpers");u=t("chaplin/mediator");r.exports=o=function(){t.extend=n.Model.extend;a.extend(t.prototype,n.Events);a.extend(t.prototype,s);t.prototype.view=null;t.prototype.redirected=false;function t(){this.initialize.apply(this,arguments)}t.prototype.initialize=function(){};t.prototype.beforeAction=function(){};t.prototype.adjustTitle=function(t){return u.execute("adjustTitle",t)};t.prototype.compose=function(t){var e;e=arguments.length===1?"retrieve":"compose";return u.execute.apply(u,["composer:"+e].concat(c.call(arguments)))};t.prototype.redirectTo=function(t,e,i){this.redirected=true;return l.redirectTo(t,e,i)};t.prototype.disposed=false;t.prototype.dispose=function(){var t,e;if(this.disposed){return}for(e in this){if(!p.call(this,e))continue;t=this[e];if(!(t&&typeof t.dispose==="function")){continue}t.dispose();delete this[e]}this.unsubscribeAllEvents();this.stopListening();this.disposed=true;return typeof Object.freeze==="function"?Object.freeze(this):void 0};return t}()});t.register("chaplin/models/collection",function(e,i,r){"use strict";var n,o,s,l,u,a,c={}.hasOwnProperty,p=function(t,e){for(var i in e){if(c.call(e,i))t[i]=e[i]}function r(){this.constructor=t}r.prototype=e.prototype;t.prototype=new r;t.__super__=e.prototype;return t};a=t("underscore");n=t("backbone");s=t("chaplin/lib/event_broker");l=t("chaplin/models/model");u=t("chaplin/lib/utils");r.exports=o=function(t){p(e,t);function e(){return e.__super__.constructor.apply(this,arguments)}a.extend(e.prototype,s);e.prototype.model=l;e.prototype.serialize=function(){return this.map(u.serialize)};e.prototype.disposed=false;e.prototype.dispose=function(){var t,e,i,r;if(this.disposed){return}this.trigger("dispose",this);this.reset([],{silent:true});this.unsubscribeAllEvents();this.stopListening();this.off();e=["model","models","_byId","_byCid","_callbacks"];for(i=0,r=e.length;i<r;i++){t=e[i];delete this[t]}this.disposed=true;return typeof Object.freeze==="function"?Object.freeze(this):void 0};return e}(n.Collection)});t.register("chaplin/models/model",function(e,i,r){"use strict";var n,o,s,l,u,a,c,p={}.hasOwnProperty,h=function(t,e){for(var i in e){if(p.call(e,i))t[i]=e[i]}function r(){this.constructor=t}r.prototype=e.prototype;t.prototype=new r;t.__super__=e.prototype;return t};c=t("underscore");n=t("backbone");a=t("chaplin/lib/utils");o=t("chaplin/lib/event_broker");l=function(t,e,i){var r,o,s,l,c,p,h,f;r=a.beget(e);if(i==null){i={}}i[t.cid]=true;for(o in e){c=e[o];if(c instanceof n.Model){r[o]=u(c,t,i)}else if(c instanceof n.Collection){l=[];f=c.models;for(p=0,h=f.length;p<h;p++){s=f[p];l.push(u(s,t,i))}r[o]=l}}delete i[t.cid];return r};u=function(t,e,i){var r;if(t===e||t.cid in i){return null}r=typeof t.getAttributes==="function"?t.getAttributes():t.attributes;return l(t,r,i)};r.exports=s=function(t){h(e,t);function e(){return e.__super__.constructor.apply(this,arguments)}c.extend(e.prototype,o);e.prototype.getAttributes=function(){return this.attributes};e.prototype.serialize=function(){return l(this,this.getAttributes())};e.prototype.disposed=false;e.prototype.dispose=function(){var t,e,i,r;if(this.disposed){return}this.trigger("dispose",this);this.unsubscribeAllEvents();this.stopListening();this.off();e=["collection","attributes","changed","_escapedAttributes","_previousAttributes","_silent","_pending","_callbacks"];for(i=0,r=e.length;i<r;i++){t=e[i];delete this[t]}this.disposed=true;return typeof Object.freeze==="function"?Object.freeze(this):void 0};return e}(n.Model)});t.register("chaplin/views/layout",function(e,i,r){"use strict";var n,o,s,l,u,a,c,p,h,f=function(t,e){return function(){return t.apply(e,arguments)}},d={}.hasOwnProperty,y=function(t,e){for(var i in e){if(d.call(e,i))t[i]=e[i]}function r(){this.constructor=t}r.prototype=e.prototype;t.prototype=new r;t.__super__=e.prototype;return t};h=t("underscore");o=t("backbone");c=t("chaplin/mediator");a=t("chaplin/lib/helpers");p=t("chaplin/lib/utils");s=t("chaplin/lib/event_broker");u=t("chaplin/views/view");n=o.$;r.exports=l=function(t){y(e,t);e.prototype.el="body";e.prototype.keepElement=true;e.prototype.title="";e.prototype.globalRegions=null;e.prototype.listen={"beforeControllerDispose mediator":"scroll"};function e(t){if(t==null){t={}}this.openLink=f(this.openLink,this);this.globalRegions=[];this.title=t.title;if(t.regions){this.regions=t.regions}this.settings=h.defaults(t,{titleTemplate:function(t){var e;e=t.subtitle?""+t.subtitle+" – ":"";return e+t.title},openExternalToBlank:false,routeLinks:"a, .go-to",skipRouting:".noscript",scrollTo:[0,0]});c.setHandler("region:show",this.showRegion,this);c.setHandler("region:register",this.registerRegionHandler,this);c.setHandler("region:unregister",this.unregisterRegionHandler,this);c.setHandler("region:find",this.regionByName,this);c.setHandler("adjustTitle",this.adjustTitle,this);e.__super__.constructor.apply(this,arguments);if(this.settings.routeLinks){this.startLinkRouting()}}e.prototype.scroll=function(t){var e;e=this.settings.scrollTo;if(e){return window.scrollTo(e[0],e[1])}};e.prototype.adjustTitle=function(t){var e,i=this;if(t==null){t=""}e=this.settings.titleTemplate({title:this.title,subtitle:t});setTimeout(function(){document.title=e;return i.publishEvent("adjustTitle",t,e)},50);return e};e.prototype.startLinkRouting=function(){var t;t=this.settings.routeLinks;if(!t){return}if(n){return this.$el.on("click",t,this.openLink)}else{return this.delegate("click",t,this.openLink)}};e.prototype.stopLinkRouting=function(){var t;t=this.settings.routeLinks;if(n){if(t){return this.$el.off("click",t)}}else{return this.undelegate("click",t,this.openLink)}};e.prototype.isExternalLink=function(t){var e,i;return t.target==="_blank"||t.rel==="external"||(e=t.protocol)!=="http:"&&e!=="https:"&&e!=="file:"||(i=t.hostname)!==location.hostname&&i!==""};e.prototype.openLink=function(t){var e,i,r,s,l,u;if(p.modifierKeyPressed(t)){return}e=n?t.currentTarget:t.delegateTarget;s=e.nodeName==="A";r=e.getAttribute("href")||e.getAttribute("data-href")||null;if(!(r!=null)||r===""||r.charAt(0)==="#"){return}l=this.settings.skipRouting;u=typeof l;if(u==="function"&&!l(r,e)||u==="string"&&(n?n(e).is(l):o.utils.matchesSelector(e,l))){return}i=s&&this.isExternalLink(e);if(i){if(this.settings.openExternalToBlank){t.preventDefault();window.open(r)}return}a.redirectTo({url:r});t.preventDefault()};e.prototype.registerRegionHandler=function(t,e,i){if(e!=null){return this.registerGlobalRegion(t,e,i)}else{return this.registerGlobalRegions(t)}};e.prototype.registerGlobalRegion=function(t,e,i){this.unregisterGlobalRegion(t,e);return this.globalRegions.unshift({instance:t,name:e,selector:i})};e.prototype.registerGlobalRegions=function(t){var e,i,r,n,o,s;s=p.getAllPropertyVersions(t,"regions");for(n=0,o=s.length;n<o;n++){r=s[n];for(e in r){i=r[e];this.registerGlobalRegion(t,e,i)}}};e.prototype.unregisterRegionHandler=function(t,e){if(e!=null){return this.unregisterGlobalRegion(t,e)}else{return this.unregisterGlobalRegions(t)}};e.prototype.unregisterGlobalRegion=function(t,e){var i,r;i=t.cid;return this.globalRegions=function(){var t,n,o,s;o=this.globalRegions;s=[];for(t=0,n=o.length;t<n;t++){r=o[t];if(r.instance.cid!==i||r.name!==e){s.push(r)}}return s}.call(this)};e.prototype.unregisterGlobalRegions=function(t){var e;return this.globalRegions=function(){var i,r,n,o;n=this.globalRegions;o=[];for(i=0,r=n.length;i<r;i++){e=n[i];if(e.instance.cid!==t.cid){o.push(e)}}return o}.call(this)};e.prototype.regionByName=function(t){var e,i,r,n;n=this.globalRegions;for(i=0,r=n.length;i<r;i++){e=n[i];if(e.name===t&&!e.instance.stale){return e}}};e.prototype.showRegion=function(t,e){var i;i=this.regionByName(t);if(!i){throw new Error("No region registered under "+t)}return e.container=i.selector===""?n?i.instance.$el:i.instance.el:i.instance.noWrap?n?n(i.instance.container).find(i.selector):i.instance.container.querySelector(i.selector):i.instance[n?"$":"find"](i.selector)};e.prototype.dispose=function(){var t,i,r,n;if(this.disposed){return}this.stopLinkRouting();n=["globalRegions","title","route"];for(i=0,r=n.length;i<r;i++){t=n[i];delete this[t]}c.removeHandlers(this);return e.__super__.dispose.apply(this,arguments)};return e}(u)});t.register("chaplin/views/view",function(e,i,r){"use strict";var n,o,s,l,u,a,c,p,h,f,d={}.hasOwnProperty,y=function(t,e){for(var i in e){if(d.call(e,i))t[i]=e[i]}function r(){this.constructor=t}r.prototype=e.prototype;t.prototype=new r;t.__super__=e.prototype;return t},g=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++){if(e in this&&this[e]===t)return e}return-1};f=t("underscore");o=t("backbone");c=t("chaplin/mediator");s=t("chaplin/lib/event_broker");h=t("chaplin/lib/utils");n=o.$;a=function(){if(Function.prototype.bind){return function(t,e){return t.bind(e)}}else if(f.bind){return f.bind}}();p=function(){if(n){return function(t,e){return t.html(e)}}else{return function(t,e){return t.innerHTML=e}}}();u=function(){if(n){return function(t){var e;e=n(t.container);if(typeof t.containerMethod==="function"){return t.containerMethod(e,t.el)}else{return e[t.containerMethod](t.el)}}}else{return function(t){var e;e=typeof t.container==="string"?document.querySelector(t.container):t.container;if(typeof t.containerMethod==="function"){return t.containerMethod(e,t.el)}else{return e[t.containerMethod](t.el)}}}}();r.exports=l=function(t){y(e,t);f.extend(e.prototype,s);e.prototype.autoRender=false;e.prototype.autoAttach=true;e.prototype.container=null;e.prototype.containerMethod=n?"append":"appendChild";e.prototype.regions=null;e.prototype.region=null;e.prototype.stale=false;e.prototype.noWrap=false;e.prototype.keepElement=false;e.prototype.subviews=null;e.prototype.subviewsByName=null;e.prototype.optionNames=["autoAttach","autoRender","container","containerMethod","region","regions","noWrap"];function e(t){var i,r,o,s,l=this;if(t){for(i in t){r=t[i];if(g.call(this.optionNames,i)>=0){this[i]=r}}}s=this.render;this.render=function(){if(l.disposed){return false}s.apply(l,arguments);if(l.autoAttach){l.attach.apply(l,arguments)}return l};this.subviews=[];this.subviewsByName={};if(this.noWrap){if(this.region){o=c.execute("region:find",this.region);if(o!=null){this.el=o.instance.container!=null?o.instance.region!=null?n(o.instance.container).find(o.selector):o.instance.container:o.instance.$(o.selector)}}if(this.container){this.el=this.container}}e.__super__.constructor.apply(this,arguments);this.delegateListeners();if(this.model){this.listenTo(this.model,"dispose",this.dispose)}if(this.collection){this.listenTo(this.collection,"dispose",function(t){if(!t||t===l.collection){return l.dispose()}})}if(this.regions!=null){c.execute("region:register",this)}if(this.autoRender){this.render()}}e.prototype.delegate=function(t,i,r){var n,s,l,u,c,p;if(o.View.prototype.delegate){return e.__super__.delegate.apply(this,arguments)}if(typeof t!=="string"){throw new TypeError("View#delegate: first argument must be a string")}if(arguments.length===2){u=i}else if(arguments.length===3){p=i;if(typeof p!=="string"){throw new TypeError("View#delegate: "+"second argument must be a string")}u=r}else{throw new TypeError("View#delegate: "+"only two or three arguments are allowed")}if(typeof u!=="function"){throw new TypeError("View#delegate: "+"handler argument must be function")}c=function(){var e,i,r,n;r=t.split(" ");n=[];for(e=0,i=r.length;e<i;e++){s=r[e];n.push(""+s+".delegate"+this.cid)}return n}.call(this);l=c.join(" ");n=a(u,this);this.$el.on(l,p||null,n);return n};e.prototype._delegateEvents=function(t){var e,i,r,n,s,l,u;if(o.View.prototype.delegateEvents.length===2){return o.View.prototype.delegateEvents.call(this,t,true)}for(n in t){u=t[n];r=typeof u==="function"?u:this[u];if(!r){throw new Error("Method '"+r+"' does not exist")}s=n.match(/^(\S+)\s*(.*)$/);i=""+s[1]+".delegateEvents"+this.cid;l=s[2];e=a(r,this);this.$el.on(i,l||null,e)}};e.prototype.delegateEvents=function(t,e){var i,r,n,o;if(!e){this.undelegateEvents()}if(t){return this._delegateEvents(t)}o=h.getAllPropertyVersions(this,"events");for(r=0,n=o.length;r<n;r++){i=o[r];if(typeof i==="function"){throw new TypeError("View#delegateEvents: functions are not supported")}this._delegateEvents(i)}};e.prototype.undelegate=function(t,i,r){var n,s,l,u,a;if(o.View.prototype.undelegate){return e.__super__.undelegate.apply(this,arguments)}if(t){if(typeof t!=="string"){throw new TypeError("View#undelegate: first argument must be a string")}if(arguments.length===2){if(typeof i==="string"){a=i}else{l=i}}else if(arguments.length===3){a=i;if(typeof a!=="string"){throw new TypeError("View#undelegate: "+"second argument must be a string")}l=r}u=function(){var e,i,r,o;r=t.split(" ");o=[];for(e=0,i=r.length;e<i;e++){n=r[e];o.push(""+n+".delegate"+this.cid)}return o}.call(this);s=u.join(" ");return this.$el.off(s,a||null)}else{return this.$el.off(".delegate"+this.cid)}};e.prototype.delegateListeners=function(){var t,e,i,r,n,o,s,l,u;if(!this.listen){return}l=h.getAllPropertyVersions(this,"listen");for(o=0,s=l.length;o<s;o++){n=l[o];for(e in n){i=n[e];if(typeof i!=="function"){i=this[i]}if(typeof i!=="function"){throw new Error("View#delegateListeners: "+(""+i+" must be function"))}u=e.split(" "),t=u[0],r=u[1];this.delegateListener(t,r,i)}}};e.prototype.delegateListener=function(t,e,i){var r;if(e==="model"||e==="collection"){r=this[e];if(r){this.listenTo(r,t,i)}}else if(e==="mediator"){this.subscribeEvent(t,i)}else if(!e){this.on(t,i,this)}};e.prototype.registerRegion=function(t,e){return c.execute("region:register",this,t,e)};e.prototype.unregisterRegion=function(t){return c.execute("region:unregister",this,t)};e.prototype.unregisterAllRegions=function(){return c.execute({name:"region:unregister",silent:true},this)};e.prototype.subview=function(t,e){var i,r;r=this.subviews;i=this.subviewsByName;if(t&&e){this.removeSubview(t);r.push(e);i[t]=e;return e}else if(t){return i[t]}};e.prototype.removeSubview=function(t){var e,i,r,n,o,s,l;if(!t){return}s=this.subviews;e=this.subviewsByName;if(typeof t==="string"){r=t;l=e[r]}else{l=t;for(n in e){o=e[n];if(!(o===l)){continue}r=n;break}}if(!(r&&l&&l.dispose)){return}l.dispose();i=h.indexOf(s,l);if(i!==-1){s.splice(i,1)}return delete e[r]};e.prototype.getTemplateData=function(){var t,e;t=this.model?h.serialize(this.model):this.collection?{items:h.serialize(this.collection),length:this.collection.length}:{};e=this.model||this.collection;if(e){if(typeof e.isSynced==="function"&&!("synced"in t)){t.synced=e.isSynced()}}return t};e.prototype.getTemplateFunction=function(){throw new Error("View#getTemplateFunction must be overridden")};e.prototype.render=function(){var t,e,i;if(this.disposed){return false}i=this.getTemplateFunction();if(typeof i==="function"){e=i(this.getTemplateData());if(this.noWrap){t=document.createElement("div");t.innerHTML=e;if(t.children.length>1){throw new Error("There must be a single top-level element when "+"using `noWrap`.")}this.undelegateEvents();this.setElement(t.firstChild,true)}else{p(n?this.$el:this.el,e)}}return this};e.prototype.attach=function(){if(this.region!=null){c.execute("region:show",this.region,this)}if(this.container&&!document.body.contains(this.el)){u(this);return this.trigger("addedToDOM")}};e.prototype.disposed=false;e.prototype.dispose=function(){var t,e,i,r,n,o,s,l;if(this.disposed){return}this.unregisterAllRegions();l=this.subviews;for(r=0,o=l.length;r<o;r++){i=l[r];i.dispose()}this.unsubscribeAllEvents();this.off();if(this.keepElement){this.undelegateEvents();this.undelegate();this.stopListening()}else{this.remove()}e=["el","$el","options","model","collection","subviews","subviewsByName","_callbacks"];for(n=0,s=e.length;n<s;n++){t=e[n];delete this[t]}this.disposed=true;return typeof Object.freeze==="function"?Object.freeze(this):void 0};return e}(o.View)});t.register("chaplin/views/collection_view",function(e,i,r){"use strict";var n,o,s,l,u,a,c,p,h,f,d,y,g=function(t,e){return function(){return t.apply(e,arguments)}},m={}.hasOwnProperty,b=function(t,e){for(var i in e){if(m.call(e,i))t[i]=e[i]}function r(){this.constructor=t}r.prototype=e.prototype;t.prototype=new r;t.__super__=e.prototype;return t};y=t("underscore");o=t("backbone");l=t("chaplin/views/view");d=t("chaplin/lib/utils");n=o.$;c=function(t,e){var i,r,n,s;if(!e){return t}s=[];for(r=0,n=t.length;r<n;r++){i=t[r];if(o.utils.matchesSelector(i,e)){s.push(i)}}return s};f=function(){if(n){return function(t,e){return t.toggle(e)}}else{return function(t,e){return t.style.display=e?"":"none"}}}();u=function(){if(n){return function(t,e){return t.addClass(e)}}else{return function(t,e){return t.classList.add(e)}}}();h=function(){if(n){return function(t,e,i){if(e){return u(t,i)}else{return t.css("opacity",0)}}}else{return function(t,e,i){if(e){return u(t,i)}else{return t.style.opacity=0}}}}();a=function(){if(n){return function(t,e){return t.animate({opacity:1},e)}}else{return function(t,e){t.style.transition="opacity "+e/1e3+"s";return t.opacity=1}}}();p=function(){if(n){return function(t,e,i,r,n){var o,s,l,u,a;l=0<i&&i<r;u=function(t){return t===0||i===t};if(l||n){o=t.children(n);s=o.length;if(o[i]!==e){if(u(s)){return t.append(e)}else{if(i===0){return o.eq(i).before(e)}else{return o.eq(i-1).after(e)}}}}else{a=u(r)?"append":"prepend";return t[a](e)}}}else{return function(t,e,i,r,n){var o,s,l,u,a;l=0<i&&i<r;u=function(t){return t===0||i===t};if(l||n){o=c(t.children,n);s=o.length;if(o[i]!==e){if(u(s)){return t.appendChild(e)}else if(i===0){return t.insertBefore(e,o[i])}else{a=o[i-1];if(t.lastChild===a){return t.appendChild(e)}else{return t.insertBefore(e,a.nextElementSibling)}}}}else if(u(r)){return t.appendChild(e)}else{return t.insertBefore(e,t.firstChild)}}}}();r.exports=s=function(t){b(e,t);e.prototype.itemView=null;e.prototype.autoRender=true;e.prototype.renderItems=true;e.prototype.animationDuration=500;e.prototype.useCssAnimation=false;e.prototype.animationStartClass="animated-item-view";e.prototype.animationEndClass="animated-item-view-end";e.prototype.listSelector=null;e.prototype.$list=null;e.prototype.fallbackSelector=null;e.prototype.$fallback=null;e.prototype.loadingSelector=null;e.prototype.$loading=null;e.prototype.itemSelector=void 0;e.prototype.filterer=null;e.prototype.filterCallback=function(t,e){if(n){t.$el.stop(true,true)}return f(n?t.$el:t.el,e)};e.prototype.visibleItems=null;e.prototype.optionNames=l.prototype.optionNames.concat(["renderItems","itemView"]);function e(t){this.renderAllItems=g(this.renderAllItems,this);this.toggleFallback=g(this.toggleFallback,this);this.itemsReset=g(this.itemsReset,this);this.itemRemoved=g(this.itemRemoved,this);this.itemAdded=g(this.itemAdded,this);this.visibleItems=[];e.__super__.constructor.apply(this,arguments)}e.prototype.initialize=function(t){if(t==null){t={}}this.addCollectionListeners();if(t.filterer!=null){return this.filter(t.filterer)}};e.prototype.addCollectionListeners=function(){this.listenTo(this.collection,"add",this.itemAdded);this.listenTo(this.collection,"remove",this.itemRemoved);return this.listenTo(this.collection,"reset sort",this.itemsReset)};e.prototype.getTemplateData=function(){var t;t={length:this.collection.length};if(typeof this.collection.isSynced==="function"){t.synced=this.collection.isSynced()}return t};e.prototype.getTemplateFunction=function(){};e.prototype.render=function(){e.__super__.render.apply(this,arguments);if(n){this.$list=this.listSelector?this.$(this.listSelector):this.$el}else{this.list=this.listSelector?this.find(this.listSelector):this.el}this.initFallback();this.initLoadingIndicator();if(this.renderItems){return this.renderAllItems()}};e.prototype.itemAdded=function(t,e,i){return this.insertView(t,this.renderItem(t),i.at)};e.prototype.itemRemoved=function(t){return this.removeViewForItem(t)};e.prototype.itemsReset=function(){return this.renderAllItems()};e.prototype.initFallback=function(){if(!this.fallbackSelector){return}if(n){this.$fallback=this.$(this.fallbackSelector)}else{this.fallback=this.find(this.fallbackSelector)}this.on("visibilityChange",this.toggleFallback);this.listenTo(this.collection,"syncStateChange",this.toggleFallback);return this.toggleFallback()};e.prototype.toggleFallback=function(){var t;t=this.visibleItems.length===0&&(typeof this.collection.isSynced==="function"?this.collection.isSynced():true);return f(n?this.$fallback:this.fallback,t)};e.prototype.initLoadingIndicator=function(){if(!(this.loadingSelector&&typeof this.collection.isSyncing==="function")){return}if(n){this.$loading=this.$(this.loadingSelector)}else{this.loading=this.find(this.loadingSelector)}this.listenTo(this.collection,"syncStateChange",this.toggleLoadingIndicator);return this.toggleLoadingIndicator()};e.prototype.toggleLoadingIndicator=function(){var t;t=this.collection.length===0&&this.collection.isSyncing();return f(n?this.$loading:this.loading,t)};e.prototype.getItemViews=function(){var t,e,i,r;t={};if(this.subviews.length>0){r=this.subviewsByName;for(e in r){i=r[e];if(e.slice(0,9)==="itemView:"){t[e.slice(9)]=i}}}return t};e.prototype.filter=function(t,e){var i,r,n,o,s,l,u,a,c=this;this.filterer=t;if(e){this.filterCallback=e}if(e==null){e=this.filterCallback}i=function(){var t;if(c.subviews.length>0){for(t in c.subviewsByName){if(t.slice(0,9)==="itemView:"){return true}}}return false}();if(i){a=this.collection.models;for(n=l=0,u=a.length;l<u;n=++l){o=a[n];r=typeof t==="function"?t(o,n):true;s=this.subview("itemView:"+o.cid);if(!s){throw new Error("CollectionView#filter: "+("no view found for "+o.cid))}this.filterCallback(s,r);this.updateVisibleItems(s.model,r,false)}}return this.trigger("visibilityChange",this.visibleItems)};e.prototype.renderAllItems=function(){var t,e,i,r,n,o,s,l,u,a,c;r=this.collection.models;this.visibleItems=[];n={};for(s=0,u=r.length;s<u;s++){i=r[s];o=this.subview("itemView:"+i.cid);if(o){n[i.cid]=o}}c=this.getItemViews();for(t in c){if(!m.call(c,t))continue;o=c[t];if(!(t in n)){this.removeSubview("itemView:"+t)}}for(e=l=0,a=r.length;l<a;e=++l){i=r[e];o=this.subview("itemView:"+i.cid);if(o){this.insertView(i,o,e,false)}else{this.insertView(i,this.renderItem(i),e)}}if(r.length===0){return this.trigger("visibilityChange",this.visibleItems)}};e.prototype.renderItem=function(t){var e;e=this.subview("itemView:"+t.cid);if(!e){e=this.initItemView(t);this.subview("itemView:"+t.cid,e)}e.render();return e};e.prototype.initItemView=function(t){if(this.itemView){return new this.itemView({autoRender:false,model:t})}else{throw new Error("The CollectionView#itemView property "+"must be defined or the initItemView() must be overridden.")}};e.prototype.insertView=function(t,e,i,r){var o,s,l,c,f=this;if(r==null){r=true}if(this.animationDuration===0){r=false}if(typeof i!=="number"){i=this.collection.indexOf(t)}s=typeof this.filterer==="function"?this.filterer(t,i):true;o=n?e.$el:e.el;if(s&&r){h(o,this.useCssAnimation,this.animationStartClass)}if(this.filterer){this.filterCallback(e,s)}l=this.collection.length;c=n?this.$list:this.list;p(c,o,i,l,this.itemSelector);e.trigger("addedToParent");this.updateVisibleItems(t,s);if(s&&r){if(this.useCssAnimation){setTimeout(function(){return u(o,f.animationEndClass)},0)}else{a(o,this.animationDuration)}}return e};e.prototype.removeViewForItem=function(t){this.updateVisibleItems(t,false);return this.removeSubview("itemView:"+t.cid)};e.prototype.updateVisibleItems=function(t,e,i){var r,n,o;if(i==null){i=true}n=false;o=d.indexOf(this.visibleItems,t);r=o!==-1;if(e&&!r){this.visibleItems.push(t);
n=true}else if(!e&&r){this.visibleItems.splice(o,1);n=true}if(n&&i){this.trigger("visibilityChange",this.visibleItems)}return n};e.prototype.dispose=function(){var t,i,r,n;if(this.disposed){return}i=["$list","$fallback","$loading","visibleItems"];for(r=0,n=i.length;r<n;r++){t=i[r];delete this[t]}return e.__super__.dispose.apply(this,arguments)};return e}(l)});t.register("chaplin/lib/route",function(e,i,r){"use strict";var n,o,s,l,u,a,c=function(t,e){return function(){return t.apply(e,arguments)}},p={}.hasOwnProperty;a=t("underscore");n=t("backbone");s=t("chaplin/lib/event_broker");o=t("chaplin/controllers/controller");u=t("chaplin/lib/utils");r.exports=l=function(){var t;e.extend=n.Model.extend;a.extend(e.prototype,s);t=/[-[\]{}()+?.,\\^$|#\s]/g;function e(t,e,i,r){var n;this.pattern=t;this.controller=e;this.action=i;this.handler=c(this.handler,this);this.addParamName=c(this.addParamName,this);if(typeof this.pattern!=="string"){throw new Error("Route: RegExps are not supported.        Use strings with :names and `constraints` option of route")}this.options=r?a.extend({},r):{};if(this.options.name!=null){this.name=this.options.name}if(this.name&&this.name.indexOf("#")!==-1){throw new Error('Route: "#" cannot be used in name')}if((n=this.name)==null){this.name=this.controller+"#"+this.action}this.paramNames=[];if(this.action in o.prototype){throw new Error("Route: You should not use existing controller "+"properties as action names")}this.createRegExp();if(typeof Object.freeze==="function"){Object.freeze(this)}}e.prototype.matches=function(t){var e,i,r,n,o,s,l;if(typeof t==="string"){return t===this.name}else{r=0;l=["name","action","controller"];for(o=0,s=l.length;o<s;o++){i=l[o];r++;n=t[i];if(n&&n!==this[i]){return false}}e=r===1&&(i==="action"||i==="controller");return!e}};e.prototype.reverse=function(t,e){var i,r,n,o,s,l,a;t=this.normalizeParams(t);if(t===false){return false}n=this.pattern;a=this.paramNames;for(s=0,l=a.length;s<l;s++){i=a[s];o=t[i];n=n.replace(RegExp("[:*]"+i,"g"),o)}if(!e){return n}if(typeof e==="object"){r=u.queryParams.stringify(e);return n+=r?"?"+r:""}else{return n+=(e[0]==="?"?"":"?")+e}};e.prototype.normalizeParams=function(t){var e,i,r,n,o,s;if(u.isArray(t)){if(t.length<this.paramNames.length){return false}r={};s=this.paramNames;for(e=n=0,o=s.length;n<o;e=++n){i=s[e];r[i]=t[e]}if(!this.testConstraints(r)){return false}t=r}else{if(t==null){t={}}if(!this.testParams(t)){return false}}return t};e.prototype.testConstraints=function(t){var e,i,r;i=this.options.constraints;if(i){for(r in i){if(!p.call(i,r))continue;e=i[r];if(!e.test(t[r])){return false}}}return true};e.prototype.testParams=function(t){var e,i,r,n;n=this.paramNames;for(i=0,r=n.length;i<r;i++){e=n[i];if(t[e]===void 0){return false}}return this.testConstraints(t)};e.prototype.createRegExp=function(){var e;e=this.pattern.replace(t,"\\$&").replace(/(?::|\*)(\w+)/g,this.addParamName);return this.regExp=RegExp("^"+e+"(?=\\?|$)")};e.prototype.addParamName=function(t,e){this.paramNames.push(e);if(t.charAt(0)===":"){return"([^/?]+)"}else{return"(.*?)"}};e.prototype.test=function(t){var e,i;i=this.regExp.test(t);if(!i){return false}e=this.options.constraints;if(e){return this.testConstraints(this.extractParams(t))}return true};e.prototype.handler=function(t,e){var i,r,n,o,s,l;e=e?a.extend({},e):{};if(typeof t==="object"){o=u.queryParams.stringify(e.query);r=t;n=this.reverse(r)}else{l=t.split("?"),n=l[0],o=l[1];if(!(o!=null)){o=""}else{e.query=u.queryParams.parse(o)}r=this.extractParams(n)}i=a.extend({},r,this.options.params);s={path:n,action:this.action,controller:this.controller,name:this.name,query:o};return this.publishEvent("router:match",s,i,e)};e.prototype.extractParams=function(t){var e,i,r,n,o,s,l,u;o={};r=this.regExp.exec(t);u=r.slice(1);for(e=s=0,l=u.length;s<l;e=++s){i=u[e];n=this.paramNames.length?this.paramNames[e]:e;o[n]=i}return o};return e}()});t.register("chaplin/lib/router",function(e,i,r){"use strict";var n,o,s,l,u,a,c,p,h=function(t,e){return function(){return t.apply(e,arguments)}};p=t("underscore");n=t("backbone");a=t("chaplin/mediator");o=t("chaplin/lib/event_broker");s=t("chaplin/lib/history");l=t("chaplin/lib/route");c=t("chaplin/lib/utils");r.exports=u=function(){t.extend=n.Model.extend;p.extend(t.prototype,o);function t(t){var e;this.options=t!=null?t:{};this.match=h(this.match,this);e=window.location.protocol!=="file:";p.defaults(this.options,{pushState:e,root:"/"});this.removeRoot=new RegExp("^"+c.escapeRegExp(this.options.root)+"(#)?");this.subscribeEvent("!router:route",this.oldEventError);this.subscribeEvent("!router:routeByName",this.oldEventError);this.subscribeEvent("!router:changeURL",this.oldURLEventError);a.setHandler("router:route",this.route,this);a.setHandler("router:reverse",this.reverse,this);a.setHandler("router:changeURL",this.changeURL,this);this.createHistory()}t.prototype.oldEventError=function(){throw new Error("!router:route and !router:routeByName events were removed.  Use `Chaplin.helpers.redirectTo`")};t.prototype.oldURLEventError=function(){throw new Error('!router:changeURL event was removed.  Use mediator.execute("router:changeURL")')};t.prototype.createHistory=function(){return n.history=new s};t.prototype.startHistory=function(){return n.history.start(this.options)};t.prototype.stopHistory=function(){if(n.History.started){return n.history.stop()}};t.prototype.findHandler=function(t){var e,i,r,o;o=n.history.handlers;for(i=0,r=o.length;i<r;i++){e=o[i];if(t(e)){return e}}};t.prototype.match=function(t,e,i){var r,o,s,u;if(i==null){i={}}if(arguments.length===2&&typeof e==="object"){i=e;o=i.controller,r=i.action;if(!(o&&r)){throw new Error("Router#match must receive either target or "+"options.controller & options.action")}}else{o=i.controller,r=i.action;if(o||r){throw new Error("Router#match cannot use both target and "+"options.controller / options.action")}u=e.split("#"),o=u[0],r=u[1]}s=new l(t,o,r,i);n.history.handlers.push({route:s,callback:s.handler});return s};t.prototype.route=function(t,e,i){var r,n;e=e?c.isArray(e)?e.slice():p.extend({},e):{};if(typeof t==="object"){n=t.url}if(n!=null){n=n.replace(this.removeRoot,"");r=this.findHandler(function(t){return t.route.test(n)});i=e;e=null}else{i=i?p.extend({},i):{};r=this.findHandler(function(i){if(i.route.matches(t)){e=i.route.normalizeParams(e);if(e){return true}}return false})}if(r){p.defaults(i,{changeURL:true});r.callback(n||e,i);return true}else{throw new Error("Router#route: request was not routed")}};t.prototype.reverse=function(t,e,i){var r,o,s,l,u,a,c;l=this.options.root;if(e!=null&&typeof e!=="object"){throw new TypeError("Router#reverse: params must be an array or an "+"object")}o=n.history.handlers;for(a=0,c=o.length;a<c;a++){r=o[a];if(!r.route.matches(t)){continue}s=r.route.reverse(e,i);if(s!==false){u=l?l+s:s;return u}}throw new Error("Router#reverse: invalid route specified")};t.prototype.changeURL=function(t,e){var i;if(e==null){e={}}i={trigger:e.trigger===true,replace:e.replace===true};return n.history.navigate(t,i)};t.prototype.disposed=false;t.prototype.dispose=function(){if(this.disposed){return}this.stopHistory();delete n.history;this.unsubscribeAllEvents();a.removeHandlers(this);this.disposed=true;return typeof Object.freeze==="function"?Object.freeze(this):void 0};return t}()});t.register("chaplin/lib/history",function(e,i,r){"use strict";var n,o,s,l,u,a,c,p={}.hasOwnProperty,h=function(t,e){for(var i in e){if(p.call(e,i))t[i]=e[i]}function r(){this.constructor=t}r.prototype=e.prototype;t.prototype=new r;t.__super__=e.prototype;return t};c=t("underscore");n=t("backbone");u=/^[#\/]|\s+$/g;l=/^\/+|\/+$/g;s=/msie [\w.]+/;a=/\/$/;o=function(t){h(e,t);function e(){return e.__super__.constructor.apply(this,arguments)}e.prototype.getFragment=function(t,e){var i;if(!(t!=null)){if(this._hasPushState||!this._wantsHashChange||e){t=this.location.pathname+this.location.search;i=this.root.replace(a,"");if(!t.indexOf(i)){t=t.substr(i.length)}}else{t=this.getHash()}}return t.replace(u,"")};e.prototype.start=function(t){var e,i,r;if(n.History.started){throw new Error("Backbone.history has already been started")}n.History.started=true;this.options=c.extend({},{root:"/"},this.options,t);this.root=this.options.root;this._wantsHashChange=this.options.hashChange!==false;this._wantsPushState=Boolean(this.options.pushState);this._hasPushState=Boolean(this.options.pushState&&this.history&&this.history.pushState);i=this.getFragment();this.root=("/"+this.root+"/").replace(l,"/");if(this._hasPushState){n.$(window).on("popstate",this.checkUrl)}else if(this._wantsHashChange&&"onhashchange"in window){n.$(window).on("hashchange",this.checkUrl)}else if(this._wantsHashChange){this._checkUrlInterval=setInterval(this.checkUrl,this.interval)}this.fragment=i;r=this.location;e=r.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!e){this.fragment=this.getFragment(null,true);this.location.replace(this.root+"#"+this.fragment);return true}else if(this._wantsPushState&&this._hasPushState&&e&&r.hash){this.fragment=this.getHash().replace(u,"");this.history.replaceState({},document.title,this.root+this.fragment)}if(!this.options.silent){return this.loadUrl()}};return e}(n.History);r.exports=n.$?o:n.History});t.register("chaplin/lib/delayer",function(t,e,i){"use strict";var r;r={setTimeout:function(t,e,i){var r,n,o,s=this;if((o=this.timeouts)==null){this.timeouts={}}this.clearTimeout(t);n=function(){delete s.timeouts[t];return i()};r=setTimeout(n,e);this.timeouts[t]=r;return r},clearTimeout:function(t){if(!(this.timeouts&&this.timeouts[t]!=null)){return}clearTimeout(this.timeouts[t]);delete this.timeouts[t]},clearAllTimeouts:function(){var t,e,i;if(!this.timeouts){return}i=this.timeouts;for(e in i){t=i[e];this.clearTimeout(e)}},setInterval:function(t,e,i){var r,n;this.clearInterval(t);if((n=this.intervals)==null){this.intervals={}}r=setInterval(i,e);this.intervals[t]=r;return r},clearInterval:function(t){if(!(this.intervals&&this.intervals[t])){return}clearInterval(this.intervals[t]);delete this.intervals[t]},clearAllIntervals:function(){var t,e,i;if(!this.intervals){return}i=this.intervals;for(e in i){t=i[e];this.clearInterval(e)}},clearDelayed:function(){this.clearAllTimeouts();this.clearAllIntervals()}};if(typeof Object.freeze==="function"){Object.freeze(r)}i.exports=r});t.register("chaplin/lib/event_broker",function(e,i,r){"use strict";var n,o,s=[].slice;o=t("chaplin/mediator");n={subscribeEvent:function(t,e){if(typeof t!=="string"){throw new TypeError("EventBroker#subscribeEvent: "+"type argument must be a string")}if(typeof e!=="function"){throw new TypeError("EventBroker#subscribeEvent: "+"handler argument must be a function")}o.unsubscribe(t,e,this);return o.subscribe(t,e,this)},unsubscribeEvent:function(t,e){if(typeof t!=="string"){throw new TypeError("EventBroker#unsubscribeEvent: "+"type argument must be a string")}if(typeof e!=="function"){throw new TypeError("EventBroker#unsubscribeEvent: "+"handler argument must be a function")}return o.unsubscribe(t,e)},unsubscribeAllEvents:function(){return o.unsubscribe(null,null,this)},publishEvent:function(){var t,e;e=arguments[0],t=2<=arguments.length?s.call(arguments,1):[];if(typeof e!=="string"){throw new TypeError("EventBroker#publishEvent: "+"type argument must be a string")}return o.publish.apply(o,[e].concat(s.call(t)))}};if(typeof Object.freeze==="function"){Object.freeze(n)}r.exports=n});t.register("chaplin/lib/support",function(t,e,i){"use strict";var r;r={propertyDescriptors:function(){var t;if(!(typeof Object.defineProperty==="function"&&typeof Object.defineProperties==="function")){return false}try{t={};Object.defineProperty(t,"foo",{value:"bar"});return t.foo==="bar"}catch(e){return false}}()};i.exports=r});t.register("chaplin/lib/composition",function(e,i,r){"use strict";var n,o,s,l,u,a={}.hasOwnProperty;u=t("underscore");n=t("backbone");s=t("chaplin/lib/event_broker");l=Object.prototype.hasOwnProperty;r.exports=o=function(){t.extend=n.Model.extend;u.extend(t.prototype,n.Events);u.extend(t.prototype,s);t.prototype.item=null;t.prototype.options=null;t.prototype._stale=false;function t(t){if(t!=null){this.options=u.extend({},t)}this.item=this;this.initialize(this.options)}t.prototype.initialize=function(){};t.prototype.compose=function(){};t.prototype.check=function(t){return u.isEqual(this.options,t)};t.prototype.stale=function(t){var e,i;if(t==null){return this._stale}this._stale=t;for(i in this){e=this[i];if(e&&e!==this&&typeof e==="object"&&l.call(e,"stale")){e.stale=t}}};t.prototype.disposed=false;t.prototype.dispose=function(){var t,e,i,r,n;if(this.disposed){return}for(e in this){if(!a.call(this,e))continue;t=this[e];if(t&&typeof t.dispose==="function"){if(t!==this){t.dispose();delete this[e]}}}this.unsubscribeAllEvents();this.stopListening();i=["redirected"];for(r=0,n=i.length;r<n;r++){e=i[r];delete this[e]}this.disposed=true;return typeof Object.freeze==="function"?Object.freeze(this):void 0};return t}()});t.register("chaplin/lib/sync_machine",function(t,e,i){"use strict";var r,n,o,s,l,u,a,c,p,h;l="unsynced";o="syncing";n="synced";r="syncStateChange";s={_syncState:l,_previousSyncState:null,syncState:function(){return this._syncState},isUnsynced:function(){return this._syncState===l},isSynced:function(){return this._syncState===n},isSyncing:function(){return this._syncState===o},unsync:function(){var t;if((t=this._syncState)===o||t===n){this._previousSync=this._syncState;this._syncState=l;this.trigger(this._syncState,this,this._syncState);this.trigger(r,this,this._syncState)}},beginSync:function(){var t;if((t=this._syncState)===l||t===n){this._previousSync=this._syncState;this._syncState=o;this.trigger(this._syncState,this,this._syncState);this.trigger(r,this,this._syncState)}},finishSync:function(){if(this._syncState===o){this._previousSync=this._syncState;this._syncState=n;this.trigger(this._syncState,this,this._syncState);this.trigger(r,this,this._syncState)}},abortSync:function(){if(this._syncState===o){this._syncState=this._previousSync;this._previousSync=this._syncState;this.trigger(this._syncState,this,this._syncState);this.trigger(r,this,this._syncState)}}};h=[l,o,n,r];a=function(t){return s[t]=function(e,i){if(i==null){i=this}this.on(t,e,i);if(this._syncState===t){return e.call(i)}}};for(c=0,p=h.length;c<p;c++){u=h[c];a(u)}if(typeof Object.freeze==="function"){Object.freeze(s)}i.exports=s});t.register("chaplin/lib/utils",function(e,i,r){"use strict";var n,o,s,l=[].slice,u=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++){if(e in this&&this[e]===t)return e}return-1},a={}.hasOwnProperty;s=t("underscore");n=t("chaplin/lib/support");o={beget:function(){var t;if(typeof Object.create==="function"){return Object.create}else{t=function(){};return function(e){t.prototype=e;return new t}}}(),indexOf:function(){if(Array.prototype.indexOf){return function(t,e){return t.indexOf(e)}}else if(s.indexOf){return s.indexOf}}(),isArray:Array.isArray||s.isArray,serialize:function(t){if(typeof t.serialize==="function"){return t.serialize()}else if(typeof t.toJSON==="function"){return t.toJSON()}else{throw new TypeError("utils.serialize: Unknown data was passed")}},readonly:function(){var t;if(n.propertyDescriptors){t={writable:false,enumerable:true,configurable:false};return function(){var e,i,r,n,o;e=arguments[0],r=2<=arguments.length?l.call(arguments,1):[];for(n=0,o=r.length;n<o;n++){i=r[n];t.value=e[i];Object.defineProperty(e,i,t)}return true}}else{return function(){return false}}}(),getPrototypeChain:function(t){var e,i,r,n;e=[t.constructor.prototype];while(t=(i=(r=t.constructor)!=null?r.__super__:void 0)!=null?i:(n=t.constructor)!=null?n.superclass:void 0){e.push(t)}return e.reverse()},getAllPropertyVersions:function(t,e){var i,r,n,s,l,a;r=[];a=o.getPrototypeChain(t);for(s=0,l=a.length;s<l;s++){i=a[s];n=i[e];if(n&&u.call(r,n)<0){r.push(n)}}return r},upcase:function(t){return t.charAt(0).toUpperCase()+t.substring(1)},escapeRegExp:function(t){return String(t||"").replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")},modifierKeyPressed:function(t){return t.shiftKey||t.altKey||t.ctrlKey||t.metaKey},queryParams:{stringify:function(t){var e,i,r,n,s,l,u,c;n="";s=function(t,e){if(e!=null){return"&"+t+"="+encodeURIComponent(e)}else{return""}};for(r in t){if(!a.call(t,r))continue;l=t[r];i=encodeURIComponent(r);if(o.isArray(l)){for(u=0,c=l.length;u<c;u++){e=l[u];n+=s(i,e)}}else{n+=s(i,l)}}return n&&n.substring(1)},parse:function(t){var e,i,r,n,o,s,l,u,a;o={};if(!t){return o}n=t.split("&");for(l=0,u=n.length;l<u;l++){r=n[l];if(!r.length){continue}a=r.split("="),i=a[0],s=a[1];if(!i.length){continue}i=decodeURIComponent(i);s=decodeURIComponent(s);e=o[i];if(e){if(e.push){e.push(s)}else{o[i]=[e,s]}}else{o[i]=s}}return o}}};if(typeof Object.seal==="function"){Object.seal(o)}r.exports=o});t.register("chaplin/lib/helpers",function(e,i,r){"use strict";var n,o;o=t("chaplin/mediator");n={reverse:function(t,e,i){return o.execute("router:reverse",t,e,i)},redirectTo:function(t,e,i){return o.execute("router:route",t,e,i)}};r.exports=n});t.register("chaplin",function(e,i,r){r.exports={Application:t("chaplin/application"),mediator:t("chaplin/mediator"),Dispatcher:t("chaplin/dispatcher"),Controller:t("chaplin/controllers/controller"),Composer:t("chaplin/composer"),Composition:t("chaplin/lib/composition"),Collection:t("chaplin/models/collection"),Model:t("chaplin/models/model"),Layout:t("chaplin/views/layout"),View:t("chaplin/views/view"),CollectionView:t("chaplin/views/collection_view"),Route:t("chaplin/lib/route"),Router:t("chaplin/lib/router"),Delayer:t("chaplin/lib/delayer"),EventBroker:t("chaplin/lib/event_broker"),helpers:t("chaplin/lib/helpers"),support:t("chaplin/lib/support"),SyncMachine:t("chaplin/lib/sync_machine"),utils:t("chaplin/lib/utils")}});var e=function(e,i){t.register("backbone",function(t,i,r){r.exports=e});t.register("underscore",function(t,e,r){r.exports=i})};if(typeof define==="function"&&define.amd){define(["backbone","underscore"],function(i,r){e(i,r);return t("chaplin")})}else if(typeof module==="object"&&module&&module.exports){e(require("backbone"),require("underscore"));module.exports=t("chaplin")}else if(typeof require==="function"){e(window.Backbone,window._||window.Backbone.utils);window.Chaplin=t("chaplin")}else{throw new Error("Chaplin requires Common.js or AMD modules")}}();