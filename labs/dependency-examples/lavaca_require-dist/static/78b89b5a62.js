!function(){"use strict";function e(){"tastejs.github.io"===location.hostname&&(location.href=location.href.replace("tastejs.github.io/todomvc","todomvc.com"))}function t(){var e;return[/labs/,/\w*-examples/].forEach(function(t){var n=location.href.match(t);!e&&n&&(e=location.href.indexOf(n))}),location.href.substr(0,e)}function n(e,n){if(!location.host)return console.info("Miss the info bar? Run TodoMVC from a server to avoid a cross-origin error.");var i=new XMLHttpRequest;i.open("GET",t()+e,!0),i.send(),i.onload=function(){200===i.status&&n&&n(i.responseText)}}function i(e,t){if(!(this instanceof i))return new i(e,t);var n,r;if("object"!=typeof e)try{e=JSON.parse(e)}catch(o){return}t&&(n=t.template,r=t.framework),!n&&e.templates&&(n=e.templates.todomvc),!r&&document.querySelector("[data-framework]")&&(r=document.querySelector("[data-framework]").getAttribute("data-framework")),n&&e[r]&&(this.frameworkJSON=e[r],this.template=n,this.append())}var r=function(e){e.defaults=function(e){if(!e)return e;for(var t=1,n=arguments.length;n>t;t++){var i=arguments[t];if(i)for(var r in i)null==e[r]&&(e[r]=i[r])}return e},e.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var t=/(.)^/,n={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},i=/\\|'|\r|\n|\t|\u2028|\u2029/g;return e.template=function(r,o,s){var a;s=e.defaults({},s,e.templateSettings);var u=new RegExp([(s.escape||t).source,(s.interpolate||t).source,(s.evaluate||t).source].join("|")+"|$","g"),c=0,l="__p+='";r.replace(u,function(e,t,o,s,a){return l+=r.slice(c,a).replace(i,function(e){return"\\"+n[e]}),t&&(l+="'+\n((__t=("+t+"))==null?'':_.escape(__t))+\n'"),o&&(l+="'+\n((__t=("+o+"))==null?'':__t)+\n'"),s&&(l+="';\n"+s+"\n__p+='"),c=a+e.length,e}),l+="';\n",s.variable||(l="with(obj||{}){\n"+l+"}\n"),l="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+l+"return __p;\n";try{a=new Function(s.variable||"obj","_",l)}catch(f){throw f.source=l,f}if(o)return a(o,e);var h=function(t){return a.call(this,t,e)};return h.source="function("+(s.variable||"obj")+"){\n"+l+"}",h},e}({});"todomvc.com"===location.hostname&&(window._gaq=[["_setAccount","UA-31081062-1"],["_trackPageview"]],function(e,t){var n=e.createElement(t),i=e.getElementsByTagName(t)[0];n.src="//www.google-analytics.com/ga.js",i.parentNode.insertBefore(n,i)}(document,"script")),i.prototype.append=function(){var e=document.createElement("aside");e.innerHTML=r.template(this.template,this.frameworkJSON),e.className="learn";var n=e.querySelectorAll(".demo-link");Array.prototype.forEach.call(n,function(e){e.setAttribute("href",t()+e.getAttribute("href"))}),document.body.className=(document.body.className+" learn-bar").trim(),document.body.insertAdjacentHTML("afterBegin",e.outerHTML)},e(),n("learn.json",i)}();/** vim: et:ts=4:sw=4:sts=4
 * @license RequireJS 2.1.8 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/requirejs for details
 */
var requirejs,require,define;!function(global){function isFunction(e){return"[object Function]"===ostring.call(e)}function isArray(e){return"[object Array]"===ostring.call(e)}function each(e,t){if(e){var n;for(n=0;n<e.length&&(!e[n]||!t(e[n],n,e));n+=1);}}function eachReverse(e,t){if(e){var n;for(n=e.length-1;n>-1&&(!e[n]||!t(e[n],n,e));n-=1);}}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){var n;for(n in e)if(hasProp(e,n)&&t(e[n],n))break}function mixin(e,t,n,i){return t&&eachProp(t,function(t,r){(n||!hasProp(e,r))&&(i&&"string"!=typeof t?(e[r]||(e[r]={}),mixin(e[r],t,n,i)):e[r]=t)}),e}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeError(e,t,n,i){var r=new Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e);return r.requireType=e,r.requireModules=i,n&&(r.originalError=n),r}function newContext(e){function t(e){var t,n;for(t=0;e[t];t+=1)if(n=e[t],"."===n)e.splice(t,1),t-=1;else if(".."===n){if(1===t&&(".."===e[2]||".."===e[0]))break;t>0&&(e.splice(t-1,2),t-=2)}}function n(e,n,i){var r,o,s,a,u,c,l,f,h,d,p,v=n&&n.split("/"),m=v,g=E.map,y=g&&g["*"];if(e&&"."===e.charAt(0)&&(n?(m=getOwn(E.pkgs,n)?v=[n]:v.slice(0,v.length-1),e=m.concat(e.split("/")),t(e),o=getOwn(E.pkgs,r=e[0]),e=e.join("/"),o&&e===r+"/"+o.main&&(e=r)):0===e.indexOf("./")&&(e=e.substring(2))),i&&g&&(v||y)){for(a=e.split("/"),u=a.length;u>0;u-=1){if(l=a.slice(0,u).join("/"),v)for(c=v.length;c>0;c-=1)if(s=getOwn(g,v.slice(0,c).join("/")),s&&(s=getOwn(s,l))){f=s,h=u;break}if(f)break;!d&&y&&getOwn(y,l)&&(d=getOwn(y,l),p=u)}!f&&d&&(f=d,h=p),f&&(a.splice(0,h,f),e=a.join("/"))}return e}function i(e){isBrowser&&each(scripts(),function(t){return t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===b.contextName?(t.parentNode.removeChild(t),!0):void 0})}function r(e){var t=getOwn(E.paths,e);return t&&isArray(t)&&t.length>1?(i(e),t.shift(),b.require.undef(e),b.require([e]),!0):void 0}function o(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function s(e,t,i,r){var s,a,u,c,l=null,f=t?t.name:null,h=e,d=!0,p="";return e||(d=!1,e="_@r"+(A+=1)),c=o(e),l=c[0],e=c[1],l&&(l=n(l,f,r),a=getOwn(O,l)),e&&(l?p=a&&a.normalize?a.normalize(e,function(e){return n(e,f,r)}):n(e,f,r):(p=n(e,f,r),c=o(p),l=c[0],p=c[1],i=!0,s=b.nameToUrl(p))),u=!l||a||i?"":"_unnormalized"+(N+=1),{prefix:l,name:p,parentMap:t,unnormalized:!!u,url:s,originalName:h,isDefine:d,id:(l?l+"!"+p:p)+u}}function a(e){var t=e.id,n=getOwn(C,t);return n||(n=C[t]=new b.Module(e)),n}function u(e,t,n){var i=e.id,r=getOwn(C,i);!hasProp(O,i)||r&&!r.defineEmitComplete?(r=a(e),r.error&&"error"===t?n(r.error):r.on(t,n)):"defined"===t&&n(O[i])}function c(e,t){var n=e.requireModules,i=!1;t?t(e):(each(n,function(t){var n=getOwn(C,t);n&&(n.error=e,n.events.error&&(i=!0,n.emit("error",e)))}),i||req.onError(e))}function l(){globalDefQueue.length&&(apsp.apply(k,[k.length-1,0].concat(globalDefQueue)),globalDefQueue=[])}function f(e){delete C[e],delete j[e]}function h(e,t,n){var i=e.map.id;e.error?e.emit("error",e.error):(t[i]=!0,each(e.depMaps,function(i,r){var o=i.id,s=getOwn(C,o);!s||e.depMatched[r]||n[o]||(getOwn(t,o)?(e.defineDep(r,O[o]),e.check()):h(s,t,n))}),n[i]=!0)}function d(){var e,t,n,o,s=1e3*E.waitSeconds,a=s&&b.startTime+s<(new Date).getTime(),u=[],l=[],f=!1,p=!0;if(!y){if(y=!0,eachProp(j,function(n){if(e=n.map,t=e.id,n.enabled&&(e.isDefine||l.push(n),!n.error))if(!n.inited&&a)r(t)?(o=!0,f=!0):(u.push(t),i(t));else if(!n.inited&&n.fetched&&e.isDefine&&(f=!0,!e.prefix))return p=!1}),a&&u.length)return n=makeError("timeout","Load timeout for modules: "+u,null,u),n.contextName=b.contextName,c(n);p&&each(l,function(e){h(e,{},{})}),a&&!o||!f||!isBrowser&&!isWebWorker||T||(T=setTimeout(function(){T=0,d()},50)),y=!1}}function p(e){hasProp(O,e[0])||a(s(e[0],null,!0)).init(e[1],e[2])}function v(e,t,n,i){e.detachEvent&&!isOpera?i&&e.detachEvent(i,t):e.removeEventListener(n,t,!1)}function m(e){var t=e.currentTarget||e.srcElement;return v(t,b.onScriptLoad,"load","onreadystatechange"),v(t,b.onScriptError,"error"),{node:t,id:t&&t.getAttribute("data-requiremodule")}}function g(){var e;for(l();k.length;){if(e=k.shift(),null===e[0])return c(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));p(e)}}var y,w,b,x,T,E={waitSeconds:7,baseUrl:"./",paths:{},pkgs:{},shim:{},config:{}},C={},j={},S={},k=[],O={},M={},A=1,N=1;return x={require:function(e){return e.require?e.require:e.require=b.makeRequire(e.map)},exports:function(e){return e.usingExports=!0,e.map.isDefine?e.exports?e.exports:e.exports=O[e.map.id]={}:void 0},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){var t,n=getOwn(E.pkgs,e.map.id);return t=n?getOwn(E.config,e.map.id+"/"+n.main):getOwn(E.config,e.map.id),t||{}},exports:O[e.map.id]}}},w=function(e){this.events=getOwn(S,e.id)||{},this.map=e,this.shim=getOwn(E.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},w.prototype={init:function(e,t,n,i){i=i||{},this.inited||(this.factory=t,n?this.on("error",n):this.events.error&&(n=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=n,this.inited=!0,this.ignore=i.ignore,i.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,b.startTime=(new Date).getTime();var e=this.map;return this.shim?(b.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()})),void 0):e.prefix?this.callPlugin():this.load()}},load:function(){var e=this.map.url;M[e]||(M[e]=!0,b.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var e,t,n=this.map.id,i=this.depExports,r=this.exports,o=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(o)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{r=b.execCb(n,o,i,r)}catch(s){e=s}else r=b.execCb(n,o,i,r);if(this.map.isDefine&&(t=this.module,t&&void 0!==t.exports&&t.exports!==this.exports?r=t.exports:void 0===r&&this.usingExports&&(r=this.exports)),e)return e.requireMap=this.map,e.requireModules=this.map.isDefine?[this.map.id]:null,e.requireType=this.map.isDefine?"define":"require",c(this.error=e)}else r=o;this.exports=r,this.map.isDefine&&!this.ignore&&(O[n]=r,req.onResourceLoad&&req.onResourceLoad(b,this.map,this.depMaps)),f(n),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else this.fetch()}},callPlugin:function(){var e=this.map,t=e.id,i=s(e.prefix);this.depMaps.push(i),u(i,"defined",bind(this,function(i){var r,o,l,h=this.map.name,d=this.map.parentMap?this.map.parentMap.name:null,p=b.makeRequire(e.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(i.normalize&&(h=i.normalize(h,function(e){return n(e,d,!0)})||""),o=s(e.prefix+"!"+h,this.map.parentMap),u(o,"defined",bind(this,function(e){this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),l=getOwn(C,o.id),l&&(this.depMaps.push(o),this.events.error&&l.on("error",bind(this,function(e){this.emit("error",e)})),l.enable()),void 0):(r=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})}),r.error=bind(this,function(e){this.inited=!0,this.error=e,e.requireModules=[t],eachProp(C,function(e){0===e.map.id.indexOf(t+"_unnormalized")&&f(e.map.id)}),c(e)}),r.fromText=bind(this,function(n,i){var o=e.name,u=s(o),l=useInteractive;i&&(n=i),l&&(useInteractive=!1),a(u),hasProp(E.config,t)&&(E.config[o]=E.config[t]);try{req.exec(n)}catch(f){return c(makeError("fromtexteval","fromText eval for "+t+" failed: "+f,f,[t]))}l&&(useInteractive=!0),this.depMaps.push(u),b.completeLoad(o),p([o],r)}),i.load(e.name,p,r,E),void 0)})),b.enable(i,this),this.pluginMaps[i.id]=i},enable:function(){j[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var n,i,r;if("string"==typeof e){if(e=s(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,r=getOwn(x,e.id))return this.depExports[t]=r(this),void 0;this.depCount+=1,u(e,"defined",bind(this,function(e){this.defineDep(t,e),this.check()})),this.errback&&u(e,"error",bind(this,this.errback))}n=e.id,i=C[n],hasProp(x,n)||!i||i.enabled||b.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(C,e.id);t&&!t.enabled&&b.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var n=this.events[e];n||(n=this.events[e]=[]),n.push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),"error"===e&&delete this.events[e]}},b={config:E,contextName:e,registry:C,defined:O,urlFetched:M,defQueue:k,Module:w,makeModuleMap:s,nextTick:req.nextTick,onError:c,configure:function(e){e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/");var t=E.pkgs,n=E.shim,i={paths:!0,config:!0,map:!0};eachProp(e,function(e,t){i[t]?"map"===t?(E.map||(E.map={}),mixin(E[t],e,!0,!0)):mixin(E[t],e,!0):E[t]=e}),e.shim&&(eachProp(e.shim,function(e,t){isArray(e)&&(e={deps:e}),!e.exports&&!e.init||e.exportsFn||(e.exportsFn=b.makeShimExports(e)),n[t]=e}),E.shim=n),e.packages&&(each(e.packages,function(e){var n;e="string"==typeof e?{name:e}:e,n=e.location,t[e.name]={name:e.name,location:n||e.name,main:(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}}),E.pkgs=t),eachProp(C,function(e,t){e.inited||e.map.unnormalized||(e.map=s(t))}),(e.deps||e.callback)&&b.require(e.deps||[],e.callback)},makeShimExports:function(e){function t(){var t;return e.init&&(t=e.init.apply(global,arguments)),t||e.exports&&getGlobal(e.exports)}return t},makeRequire:function(t,i){function r(n,o,u){var l,f,h;return i.enableBuildCallback&&o&&isFunction(o)&&(o.__requireJsBuild=!0),"string"==typeof n?isFunction(o)?c(makeError("requireargs","Invalid require call"),u):t&&hasProp(x,n)?x[n](C[t.id]):req.get?req.get(b,n,t,r):(f=s(n,t,!1,!0),l=f.id,hasProp(O,l)?O[l]:c(makeError("notloaded",'Module name "'+l+'" has not been loaded yet for context: '+e+(t?"":". Use require([])")))):(g(),b.nextTick(function(){g(),h=a(s(null,t)),h.skipMap=i.skipMap,h.init(n,o,u,{enabled:!0}),d()}),r)}return i=i||{},mixin(r,{isBrowser:isBrowser,toUrl:function(e){var i,r=e.lastIndexOf("."),o=e.split("/")[0],s="."===o||".."===o;return-1!==r&&(!s||r>1)&&(i=e.substring(r,e.length),e=e.substring(0,r)),b.nameToUrl(n(e,t&&t.id,!0),i,!0)},defined:function(e){return hasProp(O,s(e,t,!1,!0).id)},specified:function(e){return e=s(e,t,!1,!0).id,hasProp(O,e)||hasProp(C,e)}}),t||(r.undef=function(e){l();var n=s(e,t,!0),i=getOwn(C,e);delete O[e],delete M[n.url],delete S[e],i&&(i.events.defined&&(S[e]=i.events),f(e))}),r},enable:function(e){var t=getOwn(C,e.id);t&&a(e).enable()},completeLoad:function(e){var t,n,i,o=getOwn(E.shim,e)||{},s=o.exports;for(l();k.length;){if(n=k.shift(),null===n[0]){if(n[0]=e,t)break;t=!0}else n[0]===e&&(t=!0);p(n)}if(i=getOwn(C,e),!t&&!hasProp(O,e)&&i&&!i.inited){if(!(!E.enforceDefine||s&&getGlobal(s)))return r(e)?void 0:c(makeError("nodefine","No define call for "+e,null,[e]));p([e,o.deps||[],o.exportsFn])}d()},nameToUrl:function(e,t,n){var i,r,o,s,a,u,c,l,f;if(req.jsExtRegExp.test(e))l=e+(t||"");else{for(i=E.paths,r=E.pkgs,a=e.split("/"),u=a.length;u>0;u-=1){if(c=a.slice(0,u).join("/"),o=getOwn(r,c),f=getOwn(i,c)){isArray(f)&&(f=f[0]),a.splice(0,u,f);break}if(o){s=e===o.name?o.location+"/"+o.main:o.location,a.splice(0,u,s);break}}l=a.join("/"),l+=t||(/\?/.test(l)||n?"":".js"),l=("/"===l.charAt(0)||l.match(/^[\w\+\.\-]+:/)?"":E.baseUrl)+l}return E.urlArgs?l+((-1===l.indexOf("?")?"?":"&")+E.urlArgs):l},load:function(e,t){req.load(b,e,t)},execCb:function(e,t,n,i){return t.apply(i,n)},onScriptLoad:function(e){if("load"===e.type||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=m(e);b.completeLoad(t.id)}},onScriptError:function(e){var t=m(e);return r(t.id)?void 0:c(makeError("scripterror","Script error for: "+t.id,e,[t.id]))}},b.require=b.makeRequire(),b}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(e){return"interactive"===e.readyState?interactiveScript=e:void 0}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.1.8",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,ap=Array.prototype,apsp=ap.splice,isBrowser=!("undefined"==typeof window||!navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if("undefined"==typeof define){if("undefined"!=typeof requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}"undefined"==typeof require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(e,t,n,i){var r,o,s=defContextName;return isArray(e)||"string"==typeof e||(o=e,isArray(t)?(e=t,t=n,n=i):e=[]),o&&o.context&&(s=o.context),r=getOwn(contexts,s),r||(r=contexts[s]=req.s.newContext(s)),o&&r.configure(o),r.require(e,t,n)},req.config=function(e){return req(e)},req.nextTick="undefined"!=typeof setTimeout?function(e){setTimeout(e,4)}:function(e){e()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(e){req[e]=function(){var t=contexts[defContextName];return t.require[e].apply(t,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(e){var t=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return t.type=e.scriptType||"text/javascript",t.charset="utf-8",t.async=!0,t},req.load=function(e,t,n){var i,r=e&&e.config||{};if(isBrowser)return i=req.createNode(r,t,n),i.setAttribute("data-requirecontext",e.contextName),i.setAttribute("data-requiremodule",t),!i.attachEvent||i.attachEvent.toString&&i.attachEvent.toString().indexOf("[native code")<0||isOpera?(i.addEventListener("load",e.onScriptLoad,!1),i.addEventListener("error",e.onScriptError,!1)):(useInteractive=!0,i.attachEvent("onreadystatechange",e.onScriptLoad)),i.src=n,currentlyAddingScript=i,baseElement?head.insertBefore(i,baseElement):head.appendChild(i),currentlyAddingScript=null,i;if(isWebWorker)try{importScripts(n),e.completeLoad(t)}catch(o){e.onError(makeError("importscripts","importScripts failed for "+t+" at "+n,o,[t]))}},isBrowser&&eachReverse(scripts(),function(e){return head||(head=e.parentNode),dataMain=e.getAttribute("data-main"),dataMain?(mainScript=dataMain,cfg.baseUrl||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0):void 0}),define=function(e,t,n){var i,r;"string"!=typeof e&&(n=t,t=e,e=null),isArray(t)||(n=t,t=null),!t&&isFunction(n)&&(t=[],n.length&&(n.toString().replace(commentRegExp,"").replace(cjsRequireRegExp,function(e,n){t.push(n)}),t=(1===n.length?["require"]:["require","exports","module"]).concat(t))),useInteractive&&(i=currentlyAddingScript||getInteractiveScript(),i&&(e||(e=i.getAttribute("data-requiremodule")),r=contexts[i.getAttribute("data-requirecontext")])),(r?r.defQueue:globalDefQueue).push([e,t,n])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}}(this),function(){define("cordova",[],function(){return window.cordova}),define("lavaca/util/extend",[],function(){var e=function(t,n,i){function r(){}if("object"==typeof t?(i=t,t=Object,n=function(){}):"object"==typeof n&&(i=n,n=t,t=Object),r.prototype=t.prototype,n.prototype=new r,n.prototype.constructor=n,i)for(var o in i)n.prototype[o]=i[o];return n.extend=function(t,i){return"object"==typeof t&&(i=t,t=function(){n.apply(this,arguments)}),e(n,t,i),t},n};return e}),define("lavaca/util/Promise",["require","./extend"],function(e){var t=e("./extend"),n=t(function(e){this.thisp=e,this.resolvedQueue=[],this.rejectedQueue=[]},{succeeded:!1,failed:!1,success:function(e){return e&&(this.succeeded?e.apply(this.thisp,this.resolveArgs):this.resolvedQueue.push(e)),this},error:function(e){return e&&(this.failed?e.apply(this.thisp,this.rejectArgs):this.rejectedQueue.push(e)),this},always:function(e){return this.then(e,e)},then:function(e,t){return this.success(e).error(t)},resolve:function(){if(!this.succeeded&&!this.failed){this.succeeded=!0,this.resolveArgs=[].slice.call(arguments,0);for(var e,t=-1;e=this.resolvedQueue[++t];)e.apply(this.thisp,this.resolveArgs)}return this},reject:function(){if(!this.succeeded&&!this.failed){this.failed=!0,this.rejectArgs=[].slice.call(arguments,0);for(var e,t=-1;e=this.rejectedQueue[++t];)e.apply(this.thisp,this.rejectArgs)}return this},when:function(){for(var e,t=this,n=[],i=-1,r=arguments.length;e=arguments[++i];)!function(i){e.success(function(e){n[i]=e,--r<1&&t.resolve.apply(t,n)}).error(function(){t.reject.apply(t,arguments)})}(i);return e=null,this},resolver:function(){var e=this;return function(){e.resolve.apply(e,arguments)}},rejector:function(){var e=this;return function(){e.reject.apply(e,arguments)}}});return n.when=function(e){var t=e instanceof n,i=new n(t?window:e),r=[].slice.call(arguments,t?0:1);return i.when.apply(i,r)},n}),define("lavaca/env/Device",["require","$","cordova","lavaca/util/Promise"],function(e){var t=e("$"),n=e("cordova"),i=e("lavaca/util/Promise"),r=!1,o=[],s={};return s.isCordova=function(){return!!n},s.register=function(e,t){function n(){window.plugins||(window.plugins={}),window.plugins[e]=new t}r?n():o.push(n)},s.exec=function(e,t,r){var o=new i(window);return n?n.exec(o.resolver(),o.rejector(),e,t,r):o.reject(),o},s.init=function(e){n?document.addEventListener?document.addEventListener("deviceready",e,!1):t(document).on("deviceready",e):t(document).ready(e)},t(document).ready(function(){for(var e,t=-1;e=o[++t];)e();r=!0}),s}),define("lavaca/util/Disposable",["require","./extend"],function(e){function t(e){var n,i,r;for(n in e)if(e.hasOwnProperty(n)&&(i=e[n]))if("object"==typeof i&&"function"==typeof i.dispose)i.dispose();else if(i instanceof Array)for(r=i.length-1;r>-1;r--)i[r]&&"function"==typeof i[r].dispose?i[r].dispose():t(i[r])}var n=e("./extend"),i=n({dispose:function(){t(this)}});return i}),define("mout/object/hasOwn",[],function(){function e(e,t){return Object.prototype.hasOwnProperty.call(e,t)}return e}),define("mout/object/forIn",[],function(){function e(){r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],i=!0;for(var e in{toString:null})i=!1}function t(t,o,s){var a,u=0;null==i&&e();for(a in t)if(n(o,t,a,s)===!1)break;if(i)for(;(a=r[u++])&&(t[a]===Object.prototype[a]||n(o,t,a,s)!==!1););}function n(e,t,n,i){return e.call(i,t[n],n,t)}var i,r;return t}),define("mout/object/forOwn",["./hasOwn","./forIn"],function(e,t){function n(n,i,r){t(n,function(t,o){return e(n,o)?i.call(r,n[o],o,n):void 0})}return n}),define("mout/lang/isPlainObject",[],function(){function e(e){return!!e&&"object"==typeof e&&e.constructor===Object}return e}),define("mout/object/deepMixIn",["./forOwn","../lang/isPlainObject"],function(e,t){function n(t){for(var n,r=0,o=arguments.length;++r<o;)n=arguments[r],n&&e(n,i,t);return t}function i(e,i){var r=this[i];t(e)&&t(r)?n(r,e):this[i]=e}return n}),define("lavaca/events/EventDispatcher",["require","lavaca/util/Disposable","mout/object/deepMixIn"],function(e){var t=e("lavaca/util/Disposable"),n=e("mout/object/deepMixIn"),i=t.extend({suppressEvents:!1,on:function(e,t,n){var i=this.callbacks||(this.callbacks={}),r=i[e]||(i[e]=[]);return r[r.length]={fn:t,thisp:n},this},off:function(e,t,n){var i,r,o,s,a,u=this.callbacks,c=-1;if(e){if(u)if(t){if(i=u[e])for(o=u[e]=[];r=i[++c];)s=r.fn===t||r.fn.fn===t||r.fn.guid&&r.fn.guid===t.guid||r.fn._zid&&r.fn._zid===t._zid,a=n&&(r.thisp===n||r.fn.thisp===n),(!s||n&&!a)&&(o[o.length]=r)}else delete u[e]}else delete this.callbacks;return this},trigger:function(e,t){if(!this.suppressEvents&&this.callbacks){var n,i=this.callbacks[e],r=this.createEvent(e,t),o=-1;if(i)for(;n=i[++o];)n.fn.apply(n.thisp||this,[r])}return this},createEvent:function(e,t){return n({},t||{},{type:e,target:t&&t.target?t.target:this,currentTarget:this})}});return i}),define("lavaca/env/ChildBrowser",["require","lavaca/env/Device","lavaca/events/EventDispatcher","lavaca/util/Promise"],function(e){var t=e("lavaca/env/Device"),n=e("lavaca/events/EventDispatcher"),i=e("lavaca/util/Promise"),r=n.extend({showWebPage:function(e){return t.isCordova()?t.exec("ChildBrowser","showWebPage",[e]).error(function(){window.location.href=e}):(window.open(e),new i(window).resolve())},close:function(){return t.exec("ChildBrowser","close",[])}});return t.register("childBrowser",r),r}),define("lavaca/env/Detection",["require","$"],function(e){var t=e("$"),n={};return n.agent=navigator.userAgent.toLowerCase(),n.scrWidth=screen.width,n.scrHeight=screen.height,n.viewportWidth=window.innerWidth,n.viewportHeight=window.innerHeight,n.elemWidth=document.documentElement.clientWidth,n.elemHeight=document.documentElement.clientHeight,n.otherBrowser=n.agent.search(/series60/i)>-1||n.agent.search(/symbian/i)>-1||n.agent.search(/windows\sce/i)>-1||n.agent.search(/blackberry/i)>-1,n.mobileOS="undefined"!=typeof orientation,n.touchOS="ontouchstart"in document.documentElement,n.blackberry=n.agent.search(/blackberry/i)>-1,n.ipad=n.agent.search(/ipad/i)>-1,n.ipod=n.agent.search(/ipod/i)>-1,n.iphone=n.agent.search(/iphone/i)>-1,n.palm=n.agent.search(/palm/i)>-1,n.symbian=n.agent.search(/symbian/i)>-1,n.iOS=n.iphone||n.ipod||n.ipad,n.iOS5=n.iOS&&n.agent.search(/os 5_/i)>0,n.iOSChrome=n.iOS&&n.agent.search(/CriOS/i)>0,n.android=n.agent.search(/android/i)>-1||!n.iOS&&!n.otherBrowser&&n.touchOS&&n.mobileOS,n.android2=n.android&&n.agent.search(/android\s2/i)>-1,n.isMobile=n.android||n.iOS||n.mobileOS||n.touchOS,n.android23AndBelow=function(){var e,t,i=n.agent.match(/android\s(\d)\.(\d)/i);return Array.isArray(i)&&3===i.length?(e=parseInt(i[1],10),t=parseInt(i[2],10),2===e&&3>t||2>e):!1}(),n.iOS4AndBelow=function(){var e,t=n.agent.match(/os\s(\d)_/i);return Array.isArray(t)&&2===t.length?(e=parseInt(t[1],10),4>=e):!1}(),n.addCustomDetection=function(e,i,r){var o;if(n.hasOwnProperty(i))throw Error('Namespace "'+i+'" is already taken by Detection module');n[i]=e,null!==r&&(o=r?t(r):t(document.documentElement),o.toggleClass(i,"function"==typeof e?e():e))},n.animationEnabled=!n.android,n}),define("lavaca/env/Device",["require","$","cordova","lavaca/util/Promise"],function(e){var t=e("$"),n=e("cordova"),i=e("lavaca/util/Promise"),r=!1,o=[],s={};return s.isCordova=function(){return!!n},s.register=function(e,t){function n(){window.plugins||(window.plugins={}),window.plugins[e]=new t}r?n():o.push(n)},s.exec=function(e,t,r){var o=new i(window);return n?n.exec(o.resolver(),o.rejector(),e,t,r):o.reject(),o},s.init=function(e){n?document.addEventListener?document.addEventListener("deviceready",e,!1):t(document).on("deviceready",e):t(document).ready(e)},t(document).ready(function(){for(var e,t=-1;e=o[++t];)e();r=!0}),s}),define("lavaca/events/EventDispatcher",["require","lavaca/util/Disposable","mout/object/deepMixIn"],function(e){var t=e("lavaca/util/Disposable"),n=e("mout/object/deepMixIn"),i=t.extend({suppressEvents:!1,on:function(e,t,n){var i=this.callbacks||(this.callbacks={}),r=i[e]||(i[e]=[]);return r[r.length]={fn:t,thisp:n},this},off:function(e,t,n){var i,r,o,s,a,u=this.callbacks,c=-1;if(e){if(u)if(t){if(i=u[e])for(o=u[e]=[];r=i[++c];)s=r.fn===t||r.fn.fn===t||r.fn.guid&&r.fn.guid===t.guid||r.fn._zid&&r.fn._zid===t._zid,a=n&&(r.thisp===n||r.fn.thisp===n),(!s||n&&!a)&&(o[o.length]=r)}else delete u[e]}else delete this.callbacks;return this},trigger:function(e,t){if(!this.suppressEvents&&this.callbacks){var n,i=this.callbacks[e],r=this.createEvent(e,t),o=-1;if(i)for(;n=i[++o];)n.fn.apply(n.thisp||this,[r])}return this},createEvent:function(e,t){return n({},t||{},{type:e,target:t&&t.target?t.target:this,currentTarget:this})}});return i}),define("lavaca/fx/Transform",["require","$"],function(e){function t(e){return e===c}function n(e){return"number"==typeof e?100*e+"%":e}function i(e){return"number"==typeof e?e+"deg":e}function r(e){return"number"==typeof e?e+"px":e}function o(e){return"number"==typeof e?e+","+e:e}function s(e,t){var n,s=0===e.indexOf("rotate"),a="scale"===e,u=0===e.indexOf("translate"),c=[];if("object"==typeof t)for(n in t)c.push(e+n.toUpperCase()+"("+(u?r(t[n]):s?i(t[n]):a?o(t[n]):t[n])+")");else a?t=o(t):s?t=i(t):u&&(t=r(t)),c.push(e+"("+t+")");return c.join(" ")}var a,u,c,l=e("$"),f={transform:"transform",webkitTransform:"-webkit-transform",MozTransform:"-moz-transform",OTransform:"-o-transform",MSTransform:"-ms-transform"},h=!1,d={};return function(){var e,t=document.createElement("div").style;for(e in f)if(e in t){a=e,u=f[e],t[e]="translate3d(0,0,0)",h=t[e].indexOf("translate3d")>-1&&-1===navigator.userAgent.indexOf("Android");break}}(),d.isSupported=function(){return!!a},d.is3dSupported=function(){return h},d.toCSS=function(e){var t,n=[];if("object"==typeof e)for(t in e)n.push(s(t,e[t]));else n.push(e);return n.join(" ")},d.cssProperty=function(){return u},l.fn.transform=function(e,i){return d.isSupported()&&(e=d.toCSS(e),i&&"object"==typeof i&&(i=n(i.x)+(t(i.y)?"":" "+n(i.y))),this.each(function(){this.style[a]=e,i&&(this.style[a+"Origin"]=i)})),this},d}),define("lavaca/fx/Animation",["require","$","./Transform"],function(e){var t,n,i,r,o=e("$"),s=e("./Transform"),a={},u={animation:["animation","animationend","keyframes"],webkitAnimation:["-webkit-animation","webkitAnimationEnd","-webkit-keyframes"],MozAnimation:["-moz-animation","animationend","-moz-keyframes"],OAnimation:["-o-animation","oAnimationEnd","-o-keyframes"],MSAnimation:["-ms-animation","MSAnimationEnd","-ms-keyframes"]};return function(){var e,o,s=document.createElement("div").style;for(e in u)if(e in s){o=u[e],t=e,n=o[0],r=o[1],i=o[2];break}}(),a.isSupported=function(){return!!t},a.keyframesToCSS=function(e,t){var n,r,o,a,u=["@",i," ",e,"{"];for(n in t){if(u.push(n,"{"),r=t[n],"string"==typeof r)u.push(r);else for(o in r)a=r[o],"transform"===o&&s&&(o=s.cssProperty(),a=s.toCSS(a)),u.push(o,":",a,";");u.push("}")}return u.push("}"),u.join("")},a.generateKeyframes=function(e,t){"object"==typeof e&&(t=e,e="a"+(new Date).getTime());var n=a.keyframesToCSS(e,t);return o("<style>"+n+"</style>").appendTo("head"),e},a.cssProperty=function(){return n},o.fn.keyframe=function(e,t,n,i,r,o,s){return a.isSupported()&&("object"==typeof e&&(e=a.generateKeyframes(e)),"object"==typeof t&&(s=t.complete,o=t.direction,r=t.iterations,i=t.delay,n=t.easing,t=t.duration),o=o||"normal",r=r||1,i=i||0,n=n||"linear",t=t||1,"number"==typeof t&&(t+="ms"),"number"==typeof i&&(i+="ms"),s&&this.nextAnimationEnd(s),this.css(a.cssProperty(),[e,t,n,i,r,o].join(" "))),this},o.fn.animationEnd=function(e,t){return r?this.on(r,e,t):this},o.fn.nextAnimationEnd=function(e,t){return r?this.one(r,e,t):this},a}),define("lavaca/fx/Transition",["require","$"],function(e){var t,n,i,r=e("$"),o={},s={transition:["transition","transitionend"],webkitTransition:["-webkit-transition","webkitTransitionEnd"],MozTransition:["-moz-transition","MozTransitionEnd"],OTransition:["-o-transition","OTransitionEnd"],MSTransition:["-ms-transition","MSTransitionEnd"]};return function(){var e,r=document.createElement("div").style;for(e in s)if(e in r){t=e,n=s[e][0],i=s[e][1];break}}(),o.isSupported=function(){return!!t},o.toCSS=function(e,t,n){n=n||"linear";var i,r=[],o=e instanceof Array;for(i in e)o&&(i=e[i]),r.push(i+" "+t+"ms "+n);return r.join(",")},o.cssProperty=function(){return n},r.fn.transition=function(e,n,i,r){if(i instanceof Function&&(r=i,i=null),o.isSupported()){var s=o.toCSS(e,n,i);r&&this.nextTransitionEnd(r),this.each(function(){this.style[t]=s}),this.css(e)}else this.css(e),r&&r.call(this[0],{});return this},r.fn.transitionEnd=function(e,t){return i?this.on(i,e,t):this},r.fn.nextTransitionEnd=function(e,t){return i?this.one(i,e,t):this},o}),define("lavaca/util/uuid",[],function(){var e={},t=function(t){return t=t||"__defaultNS","number"!=typeof e[t]&&(e[t]=0),e[t]++};return t}),define("lavaca/net/History",["require","lavaca/events/EventDispatcher","lavaca/util/uuid"],function(e){function t(e,t,i,r,o,s){e.position=t;var a={id:i,state:r,title:o,url:s};return e.sequence[t]=a,location.hash=n=s+"#@"+i,a}var n,i,r,o=e("lavaca/events/EventDispatcher"),s=e("lavaca/util/uuid"),a=navigator.userAgent.indexOf("Android")>-1,u=!a&&"function"==typeof history.pushState,c=!1,l=0,f=o.extend(function(){o.call(this),this.sequence=[],this.position=-1,this.replace({},document.title,location.pathname);var e=this;if(u){var e=this;this.onPopState=function(t){if(t.state){l--;var n=r;r=t.state.id,e.trigger("popstate",{state:t.state.state,title:t.state.title,url:t.state.url,id:t.state.id,direction:r>n?"forward":"back"})}},window.addEventListener("popstate",this.onPopState,!1)}else this.onPopState=function(){var t,i,r,o,s=location.hash,a=-1;if(s&&(s=s.replace(/^#/,"")),s!==n&&(o=n.split("#@")[1],n=s,s)){for(l--,t=s.split("#@")[1];r=e.sequence[++a];)if(r.id===parseInt(t,10)){i=r,e.position=a;break}i&&(location.hash=i.url+"#@"+i.id,document.title=i.title,e.trigger("popstate",{state:i.state,title:i.title,url:i.url,id:i.id,direction:i.id>parseInt(o,10)?"forward":"back"}))}},window.attachEvent?window.attachEvent("onhashchange",this.onPopState):window.addEventListener("hashchange",this.onPopState,!1)},{current:function(){return this.sequence[this.position]||null},hasHistory:function(){return l>0},push:function(e,n,i){l++,c?(document.title=n,r=s("history"),u?history.pushState({state:e,title:n,url:i,id:r},n,i):t(this,++this.position,r,e,n,i)):this.replace(e,n,i)},replace:function(e,n,i){c=!0,document.title=n,u?history.replaceState({state:e,title:n,url:i,id:r},n,i):(this.position<0&&(this.position=0),t(this,this.position,"undefined"!=typeof r?r:s("history"),e,n,i))},dispose:function(){this.onPopState&&(u?window.removeEventListener("popstate",this.onPopState,!1):window.detachEvent?window.detachEvent("onhashchange",this.onPopState):window.removeEventListener("hashchange",this.onPopState,!1)),o.prototype.dispose.call(this)}});return f.init=function(e){return i||(e&&f.overrideStandardsMode(),i=new f),i},f.push=function(){f.init().push.apply(i,arguments)},f.replace=function(){f.init().replace.apply(i,arguments)},f.back=function(){history.back()},f.forward=function(){history.forward()},f.dispose=function(){i&&(i.dispose(),i=null)},f.on=function(){return f.init().on.apply(i,arguments)},f.off=function(){return f.init().off.apply(i,arguments)},f.overrideStandardsMode=function(){u=!1},f.animationBreadcrumb=[],f.isRoutingBack=!1,f
}),define("lavaca/util/delay",[],function(){var e=function(e,t,n){return setTimeout(function(){e.call(t)},n||0)};return e}),define("mout/lang/kindOf",[],function(){function e(e){return null===e?"Null":e===t?"Undefined":n.exec(i.call(e))[1]}var t,n=/^\[object (.*)\]$/,i=Object.prototype.toString;return e}),define("mout/object/mixIn",["./forOwn"],function(e){function t(t){for(var i,r=0,o=arguments.length;++r<o;)i=arguments[r],null!=i&&e(i,n,t);return t}function n(e,t){this[t]=e}return t}),define("mout/lang/clone",["./kindOf","./isPlainObject","../object/mixIn"],function(e,t,n){function i(t){switch(e(t)){case"Object":return r(t);case"Array":return a(t);case"RegExp":return o(t);case"Date":return s(t);default:return t}}function r(e){return t(e)?n({},e):e}function o(e){var t="";return t+=e.multiline?"m":"",t+=e.global?"g":"",t+=e.ignorecase?"i":"",new RegExp(e.source,t)}function s(e){return new Date(+e)}function a(e){return e.slice()}return i}),define("mout/lang/deepClone",["./clone","../object/forOwn","./kindOf","./isPlainObject"],function(e,t,n,i){function r(t,i){switch(n(t)){case"Object":return o(t,i);case"Array":return s(t,i);default:return e(t)}}function o(e,n){if(i(e)){var o={};return t(e,function(e,t){this[t]=r(e,n)},o),o}return n?n(e):e}function s(e,t){for(var n=[],i=-1,o=e.length;++i<o;)n[i]=r(e[i],t);return n}return r}),define("mout/lang/isKind",["./kindOf"],function(e){function t(t,n){return e(t)===n}return t}),define("mout/lang/isObject",["./isKind"],function(e){function t(t){return e(t,"Object")}return t}),define("mout/object/merge",["./hasOwn","../lang/deepClone","../lang/isObject"],function(e,t,n){function i(){var r,o,s,a,u=1;for(a=t(arguments[0]);s=arguments[u++];)for(r in s)e(s,r)&&(o=s[r],a[r]=n(o)&&n(a[r])?i(a[r],o):t(o));return a}return i}),define("lavaca/mvc/Route",["require","lavaca/util/Disposable","lavaca/util/delay","mout/lang/deepClone","mout/object/merge"],function(e){function t(){return new RegExp("\\{\\*(.*?)\\}","g")}function n(){return new RegExp("\\{([^\\/]*?)\\}","g")}function i(){return new RegExp("[\\{\\}\\*]","g")}function r(){return new RegExp("^\\d{4}-[0-1]\\d-[0-3]\\d$","g")}function o(e){if("/"===e)return new RegExp("^\\/(\\?.*)?(#.*)?$","g");"/"===e.charAt(0)&&(e=e.slice(1)),e=e.split("/");for(var i,r="^",o=-1;i=e[++o];)r+=t().test(i)?"(/([^/?#]+))*?":n().test(i)?"/([^/?#]+)":"/"+i;return r+="(\\?.*)?(#\\.*)?$",new RegExp(r,"g")}function s(e){return e=decodeURIComponent(e),isNaN(e)?"true"===e.toLowerCase()?e=!0:"false"===e.toLowerCase()?e=!1:r().test(e)&&(e=e.split("-"),e=new Date(Number(e[0]),Number(e[1])-1,Number(e[2]))):e=Number(e),e}var a=e("lavaca/util/Disposable"),u=e("lavaca/util/delay"),c=e("mout/lang/deepClone"),l=e("mout/object/merge"),f=a.extend(function(e,t,n,i){a.call(this),this.pattern=e,this.TController=t,this.action=n,this.params=i||{}},{matches:function(e){return o(this.pattern).test(e)},parse:function(e){var r,o,a,u,l,f,h=c(this.params),d=this.pattern.slice(1),p=e.split("#");if(h.url=e,h.route=this,p=p[1]?p[1].split("?"):p[0].split("?"),o=p[1])for(r=-1,o=o.split("&");u=o[++r];)u=u.split("="),f=decodeURIComponent(u[0]),void 0!==h[f]?(h[f]instanceof Array||(h[f]=[h[f]]),h[f].push(s(u[1]))):h[f]=s(u[1]);r=0,a=p[0].replace(/(^(http(s?)\:\/\/[^\/]+)?\/?)|(\/$)/,"");for(var v=new RegExp(d.replace(t(),"(.+)").replace(n(),"([^/]+)")),m=v.exec(a),g=v.exec(d);u=m[++r];)l=g[r],t().test(l)&&(u=u.split("/")),h[l.replace(i(),"")]=u;return h},exec:function(e,t,n,i,r){function o(){u(s.dispose,s)}var s=new this.TController(t,n),a=this.parse(e),c=s.exec(this.action,l(a,r),i);return c.then(o,o),c}});return f}),define("lavaca/mvc/Router",["require","./Route","lavaca/net/History","lavaca/util/Disposable","lavaca/util/Promise"],function(e){var t=e("./Route"),n=e("lavaca/net/History"),i=e("lavaca/util/Disposable"),r=e("lavaca/util/Promise"),o=i.extend(function(e){i.call(this),this.routes=[],this.viewManager=e},{locked:!1,hasNavigated:!1,startHistory:function(){this.onpopstate=function(e){this.hasNavigated&&(n.isRoutingBack="back"===e.direction,this.exec(e.url,e).always(function(){n.isRoutingBack=!1}))},n.on("popstate",this.onpopstate,this)},setViewManager:function(e){return this.viewManager=e,this},add:function(e,n,i,r){if("object"==typeof e)for(var o in e){var s=e[o];s instanceof Array?(n=s[0],i=s[1],r=s[2]):(n=s.controller,i=s.action,r=s.params),this.add(o,n,i,r)}else this.routes.push(new t(e,n,i,r));return this},exec:function(e,t,n){if(this.locked)return new r(this).reject("locked");this.locked=!0,e||(e="/"),0===e.indexOf("http")&&(e=e.replace(/^http(s?):\/\/.+?/,""));var i,o=-1,s=new r(this);for(s.always(function(){this.unlock()}),this.hasNavigated||s.success(function(){this.hasNavigated=!0});i=this.routes[++o];)if(i.matches(e))return s.when(i.exec(e,this,this.viewManager,t,n));return s.reject(e,t)},unlock:function(){return this.locked=!1,this},dispose:function(){this.onpopstate&&(n.off("popstate",this.onpopstate),this.onpopstate=null),i.prototype.dispose.apply(this,arguments)}});return new o}),define("lavaca/util/resolve",[],function(){var e=function(e,t,n){if(!e)return null;e=e.split(".");for(var i,r=n||window,o=n||window,s=-1;i=e[++s];){if(o=o[i],!o){if(!t)return null;o=r[i]={}}r=o}return o};return e}),define("lavaca/net/Connectivity",["require","$","lavaca/util/Promise","lavaca/util/resolve"],function(e){function t(e){if(e===a)for(var t,n=-1;t=s[++n];)t(e)}var n=e("$"),i=e("lavaca/util/Promise"),r=e("lavaca/util/resolve"),o="boolean"==typeof navigator.onLine,s=[],a="offline",u={};return u.isOffline=function(){var e=r("navigator.connection.type");return null!==e?e===r("Connection.NONE"):o?!navigator.onLine:!1},u.ajax=function(e){var r=new i,o=e.success,s=e.error;return e.success=function(){o&&o.apply(this,arguments),r.resolve.apply(r,arguments)},e.error=function(){s&&s.apply(this,arguments),r.reject.apply(r,arguments)},u.isOffline()?r.reject(a):n.ajax(e),r.error(t),r},u.registerOfflineAjaxHandler=function(e){s.push(e)},u}),define("lavaca/util/ArrayUtils",[],function(){var e={};return e.indexOf=function(e,t){if(e){if(e.indexOf)return e.indexOf(t);for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1}return-1},e.contains=function(t,n){return e.indexOf(t,n)>-1},e.remove=function(t,n){var i=e.indexOf(t,n);return i>-1&&t.splice(i,1),i},e.pushIfNotExists=function(t,n){var i=e.indexOf(t,n);return-1===i&&(t[i=t.length]=n),i},e.isArray=function(e){return"function"===Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},e}),define("lavaca/util/Cache",["require","lavaca/util/Disposable","lavaca/util/uuid"],function(e){var t=e("lavaca/util/Disposable"),n=e("lavaca/util/uuid"),i=t.extend({get:function(e,t){var n=this["@"+e];return void 0===n&&void 0!==t&&(n=this["@"+e]=t),void 0===n?null:n},set:function(e,t){this["@"+e]=t},add:function(e){var t=n();return this.set(t,e),t},remove:function(e){delete this["@"+e]},each:function(e,t){var n,i;for(n in this)if(this.hasOwnProperty(n)&&0===n.indexOf("@")&&(i=e.call(t||this,n.slice(1),this[n]),i===!1))break},toObject:function(){var e={};return this.each(function(t,n){e[t]=n&&"function"==typeof n.toObject?n.toObject():n}),e},toJSON:function(){return JSON.stringify(this.toObject())},toArray:function(){var e=[];return e.ids=[],this.each(function(t,n){e.push("function"==typeof n.toObject?n.toObject():n),e.ids.push(t)}),e},clear:function(){this.each(function(e){this.remove(e)},this)},count:function(){var e=0;return this.each(function(){e++},this),e},dispose:function(){this.clear(),t.prototype.dispose.apply(this,arguments)}});return i}),define("lavaca/util/Map",["require","$","./Cache","./Disposable","lavaca/net/Connectivity"],function(e){function t(e){return e&&0!==e.indexOf("http")&&(e="/"===e.charAt(0)?location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")+(0===e.indexOf("/")?e:"/"+e):location.toString().split("#")[0].split("?")[0].replace(/\w+\.\w+$/,"")+e),e}var n=e("$"),i=e("./Cache"),r=e("./Disposable"),o=e("lavaca/net/Connectivity"),s=r.extend(function(e,n,o){r.call(this),this.hasLoaded=!1,this.name=e,this.src=t(n),this.code=o,this.cache=new i},{is:function(e){return this.name===e},get:function(e){return this.hasLoaded||(this.code?this.add(this.code):this.src&&this.load(this.src),this.hasLoaded=!0),this.cache.get(e)},add:function(e){for(var t in e)this.cache.set(t,e[t])},process:function(e){this.add("string"==typeof e?JSON.parse(e):e)},load:function(e){var t=this;o.ajax({async:!1,url:e,success:function(e){t.process(e)}})}});return s.setDefault=function(e,t){var n=t;"string"==typeof n&&(n=e.get(t)),e.set("default",n)},s.get=function(e,t,n,i){if(n||(n=t,t=i),t){var r=e.get(t);if(r)return r.get(n)}return null},s.init=function(e,t,i,r){n(r||document.documentElement).find('script[type="'+t+'"]').each(function(){var t,r=n(this),o=r.attr("data-src"),a=r.attr("data-name"),u="string"==typeof r.attr("data-default"),c=r.text();t=i(a,o,c),e.set(t.name,t),u&&s.setDefault(e,a)})},s.dispose=function(e){e.dispose()},s}),define("lavaca/util/Config",["require","./Cache","./Map"],function(e){function t(e,t,n){return n&&(n=JSON.parse(n)),new o(e,t,n)}var n=e("./Cache"),i=e("./Map"),r=new n,o=i.extend({});return o.setDefault=function(e){i.setDefault(r,e)},o.currentEnvironment=function(){return r.get("default").name},o.get=function(e,t){return i.get(r,e,t,"default")},o.init=function(e){i.init(r,"text/x-config",t,e)},o.dispose=function(){i.dispose(r)},o.init(),o}),define("lavaca/mvc/Model",["require","lavaca/events/EventDispatcher","lavaca/net/Connectivity","lavaca/util/ArrayUtils","lavaca/util/Cache","lavaca/util/Promise","mout/lang/deepClone","mout/object/merge","lavaca/util/Config"],function(e){function t(e,t,n,i,r,s){e.trigger(t,{attribute:n,previous:i===o?null:i,value:r===o?e.get(n):r,messages:s||[]})}function n(e,t,n){var i=e.flags[n];i||(i=e.flags[n]=[]),u.contains(i,t)||i.push(t)}function i(e,t,n){t=!!t;for(var i,r,o=["suppressValidation","suppressEvents","suppressTracking"],s={},a=-1;i=o[++a];)s[i]=e[i],e[i]=t||e[i];for(r=n.call(e),a=-1;i=o[++a];)e[i]=s[i];return r}function r(e){var t=!0;for(var n in e)e[n].length>0&&(t=!1);return e.isValid=t,e}var o,s=e("lavaca/events/EventDispatcher"),a=e("lavaca/net/Connectivity"),u=e("lavaca/util/ArrayUtils"),c=e("lavaca/util/Cache"),l=e("lavaca/util/Promise"),f=e("mout/lang/deepClone"),h=e("mout/object/merge"),d=e("lavaca/util/Config"),p=s.extend(function(e){s.call(this),this.attributes=new c,this.rules=new c,this.unsavedAttributes=[],this.flags={},this.defaults&&(e=h({},this.defaults,e)),e&&(this.suppressEvents=this.suppressTracking=!0,this.apply(e),this.suppressEvents=this.suppressTracking=!1)},{suppressValidation:!1,suppressTracking:!1,get:function(e){var t,n=this.attributes.get(e);return"function"==typeof n?(t=this.flags[p.DO_NOT_COMPUTE],t&&-1!==u.indexOf(t,e)?n:n.call(this)):n},canSet:function(){return!0},set:function(e,r,o,s){return i(this,s,function(){if(!this.canSet(e))return!1;var i=this.attributes.get(e),s=this.suppressValidation?[]:this.validate(e,r);return s.length?(t(this,"invalid",e,i,r,s),!1):(i!==r&&(this.attributes.set(e,r),o&&n(this,e,o),t(this,"change",e,i,r),this.suppressTracking||u.contains(this.unsavedAttributes,e)||this.unsavedAttributes.push(e)),!0)})},has:function(e){return null!==this.get(e)},idAttribute:"id",id:function(){return this.get(this.idAttribute)},isNew:function(){return null===this.id()},parse:function(e){return"string"==typeof e&&(e=JSON.parse(e)),e},apply:function(e,t){i(this,t,function(){e=this.parse(e);for(var t in e)this.set(t,e[t])})},clear:function(e){if(e){var t,n,i=this.flags[e],r=-1;if(i)for(;t=i[++r];)u.remove(this.unsavedAttributes,t),n=this.get(t),n&&n.dispose&&n.dispose(),this.set(t,null)}else this.attributes.dispose(),this.attributes=new c,this.unsavedAttributes.length=0},clone:function(){return new this.constructor(this.attributes.toObject())},addRule:function(e,t,n){this.rules.get(e,[]).push({rule:t,message:n})},validate:function(e,t){var n,i,s,a=-1;if(e){if(n=[],t=t===o?this.get(e,t):t,i=this.rules.get(e))for(;s=i[++a];)s.rule(e,t)||n.push(s.message);return n}return n={},this.rules.each(function(e){n[e]=this.validate(e)},this),r(n)},onFetchSuccess:function(e){e=this.parse(e),this.responseFilter&&"function"==typeof this.responseFilter&&(e=this.responseFilter(e)),this.apply(e,!0),this.trigger("fetchSuccess",{response:e})},onFetchError:function(e){this.trigger("fetchError",{response:e})},fetch:function(e,t){return"object"==typeof e?t=e:(t=f(t||{}),t.url=e),t.url=this.getApiURL(t.url||this.url),l.when(this,a.ajax(t)).success(this.onFetchSuccess).error(this.onFetchError)},getApiURL:function(e){var t,n="/please_set_model_url",i=d.get("apiRoot");return e?t=(i||"")+e:n},save:function(e,t){for(var n,i,r=new l(this),s=this.toObject(),a={},u=-1;n=this.unsavedAttributes[++u];)a[n]=s[n];return r.success(function(e){var t=this.idAttribute;this.isNew()&&e[t]!==o&&this.set(t,e[t]),this.unsavedAttributes=[],this.trigger("saveSuccess",{response:e})}).error(function(e){this.trigger("saveError",{response:e})}),i=e.call(t||this,this,a,s),i instanceof l?r.when(i):i?r.resolve(i):r.reject(i),r},saveToServer:function(e){return this.save(function(t,n,i){var r,o=this.id();return this.isNew()?r=i:(n[this.idAttribute]=o,r=n),l.when(this,a.ajax({url:e,cache:!1,type:"POST",data:r,dataType:"json"}))})},toObject:function(){var e,t=this.attributes.toObject();for(var n in t)"function"==typeof t[n]&&(e=this.flags[p.DO_NOT_COMPUTE],e&&-1!==u.indexOf(e,n)||(t[n]=t[n].call(this)));return t},toJSON:function(){return JSON.stringify(this.toObject())},on:function(e,t,n,i){function r(e){t&&e.attribute!==t||n.call(i||this,e)}return"function"==typeof t&&(i=n,n=t,t=null),r.fn=n,r.thisp=i,s.prototype.on.call(this,e,r,i)},responseFilter:function(e){return e}});return p.SENSITIVE="sensitive",p.DO_NOT_COMPUTE="do_not_compute",p}),define("lavaca/ui/Template",["require","lavaca/util/Cache","lavaca/util/Map"],function(e){var t=e("lavaca/util/Cache"),n=e("lavaca/util/Map"),i=new t,r=[],o=n.extend({compile:function(){},render:function(){throw"Abstract"},process:function(e){this.code=e}});return o.get=function(e){return i.get(e)},o.init=function(e){for(var t,o,s,a,u=-1;t=r[++u];){var c=function(e,n,i){return new t.js(e,n,i)};if("function"==typeof t.js.getCompiledTemplates){o=t.js.getCompiledTemplates();for(s in o)a=c(s,null,o[s]),a.compiled=!0,i.set(s,a)}t.mime&&n.init(i,t.mime,c,e)}},o.dispose=function(){n.dispose(i)},o.render=function(e,t){var n=o.get(e);if(n)return n.render(t);throw'No template named "'+e+'"'},o.register=function(e,t){"function"==typeof e&&(t=e,e=null),r[r.length]={mime:e,js:t}},o}),define("lavaca/util/log",[],function(){var e=function(){window.console?console.log.apply(console,arguments):alert([].join.call(arguments," "))};return e}),define("lavaca/mvc/View",["require","$","lavaca/events/EventDispatcher","lavaca/mvc/Model","lavaca/ui/Template","lavaca/util/Cache","lavaca/util/Promise","lavaca/util/log","lavaca/util/uuid"],function(e){var t=e("$"),n=e("lavaca/events/EventDispatcher"),i=e("lavaca/mvc/Model"),r=e("lavaca/ui/Template"),o=e("lavaca/util/Cache"),s=e("lavaca/util/Promise"),a=e("lavaca/util/log"),u=e("lavaca/util/uuid"),c=n.extend(function(e,i,r){n.call(this),this.model=i||null,this.id=this.className+"-"+u(),this.parentView=r||null,this.el="string"==typeof e?t(e):e||null,this.eventMap={},this.childViewMap={},this.childViews=new o,this.widgetMap={},this.widgets=new o,this.childViewEventMap={},this.on("rendersuccess",this.onRenderSuccess).on("rendererror",this.onRenderError),this.autoRender&&this.render()},{el:null,template:null,className:null,autoRender:!1,render:function(){var e=this,t=new s(this),n=new s(this),o=r.get(this.template),a=this.model;return a instanceof i&&(a=a.toObject()),t.success(function(e){this.trigger("rendersuccess",{html:e}),n.resolve()}).error(function(e){this.trigger("rendererror",{err:e}),n.reject()}),o.render(a).success(t.resolver()).error(t.rejector()).then(function(){e.className&&e.el.addClass(e.className)}),n},redraw:function(e,n){function o(){u.createWidgets(),u.createChildViews(),u.applyChildViewEvents()}var a,u=this,c=new s(this),l=new s(this),f=r.get(this.template);return"object"==typeof e||e instanceof i?(n=e,a=!0,e=null):"boolean"==typeof e?(a=e,e=null):e||(a=!0),n=n||this.model,n instanceof i&&(n=n.toObject()),c.success(function(n){if(a)return this.disposeChildViews(this.el),this.disposeWidgets(this.el),this.el.html(n),o(),l.resolve(n),void 0;if(e){var i=t("<div>"+n+"</div>").find(e),r=this.el.find(e);i.length===r.length?(r.each(function(e){var n=t(this);u.disposeChildViews(n),u.disposeWidgets(n),n.replaceWith(i.eq(e)).remove()}),o(),l.resolve(n)):l.reject("Count of items matching selector is not the same in the original html and in the newly rendered html.")}else l.resolve(n)}).error(l.rejector()),f.render(n).success(c.resolver()).error(c.rejector()),l},disposeChildViews:function(e){var n,i=this;n=e.find("[data-view-id]"),e!==i.el&&e.is("[data-view-id]")&&(n=n.add(e)),n.each(function(e,n){var r=t(n),o=r.data("view");i.childViews.remove(o.id),o.dispose()})},disposeWidgets:function(e){var n=this;e.add(e.find("[data-has-widgets]")).each(function(e,i){var r,o,s=t(i),a=s.data("widgets");for(r in a)o=a[r],n.widgets.remove(o.id),o.dispose()}),e.removeData("widgets")},clearModelEvents:function(){var e,t,i;if(this.eventMap&&this.eventMap.model&&this.model&&this.model instanceof n)for(e in this.eventMap.model)t=this.eventMap.model[e],"object"==typeof t&&(t=t.on),i=e.indexOf("."),-1!==i&&(e=e.substr(0,i)),this.model.off(e,t)},bindMappedEvents:function(){var e,t,n;for(t in this.eventMap){e=this.eventMap[t];for(n in e)"string"==typeof this.eventMap[t][n]&&(this.eventMap[t][n]=this[this.eventMap[t][n]].bind(this))}},applyEvents:function(){var e,t,n,r,o,s,a,u=this.el;for(r in this.eventMap){e=this.eventMap[r],"self"===r&&(r=null);for(o in e)t=e[o],"object"==typeof t?(a=t,t=t.on):a=void 0,"string"==typeof t&&t in this&&(t=this[t].bind(this)),"model"===r?this.model&&this.model instanceof i&&(s=o.indexOf("."),-1!==s&&(n=o.substr(s+1),o=o.substr(0,s)),this.model.on(o,n,t,this)):"animationEnd"===o&&u.animationEnd?u.animationEnd(r,t):"transitionEnd"===o&&u.transitionEnd?u.transitionEnd(r,t):u.on(o,r,t)}},mapEvent:function(e,t,n){var i;if("object"==typeof e){i=e;for(e in i)for(t in i[e])this.mapEvent(e,t,i[e][t])}else i=this.eventMap[e],i||(i=this.eventMap[e]={}),i[t]=n;return this},createWidgets:function(){var e,n,i=this.widgets;for(e in this.widgetMap)n=this.widgetMap[e],("self"===e?this.el:this.el.find(e)).each(function(r,o){var s,a=t(o),u=a.data("widgets")||{};u[e]||(s=new n(t(o)),u[e]=s,i.set(s.id,s),a.data("widgets",u),a.attr("data-has-widgets",""))})},mapWidget:function(e,t){if("object"==typeof e){var n=e;for(e in n)this.mapWidget(e,n[e])}else this.widgetMap[e]=t;return this},createChildViews:function(){var e,n,i=this.childViews,r=this;for(e in this.childViewMap)n=this.childViewMap[e],this.el.find(e).each(function(e,o){var s,a=t(o);a.data("view")||(s=new n.TView(a,n.model||r.model,r),i.set(s.id,s))})},mapChildView:function(e,t,n){if("object"==typeof e){var i=e;for(e in i)this.mapChildView(e,i[e].TView,i[e].model)}else this.childViewMap[e]={TView:t,model:n};return this},mapChildViewEvent:function(e,t,n){if("object"==typeof e){var i=e;for(e in i)this.mapChildViewEvent(e,i[e].callback,i[e].TView)}else this.childViewEventMap[e]={TView:n,callback:t}},applyChildViewEvents:function(){var e,t=this.childViewEventMap;for(e in t)this.childViews.each(function(n,i){var r,o,s=-1;if(!t[e].TView||i instanceof t[e].TView){for(r=i.callbacks[e]||[];o=r[++s];)if(o===t[e].callback)return;i.on(e,t[e].callback)}})},onRenderSuccess:function(e){this.el.html(e.html),this.bindMappedEvents(),this.applyEvents(),this.createWidgets(),this.createChildViews(),this.applyChildViewEvents(),this.el.data("view",this),this.el.attr("data-view-id",this.id),this.hasRendered=!0},onRenderError:function(e){a(e.err)},dispose:function(){this.model&&this.clearModelEvents(),this.childViews.count()&&this.disposeChildViews(this.el),this.widgets.count()&&this.disposeWidgets(this.el),this.template=this.model=this.parentView=null,n.prototype.dispose.apply(this,arguments)}});return c}),define("lavaca/mvc/PageView",["require","$","lavaca/mvc/Model","lavaca/mvc/View","lavaca/ui/Template","lavaca/util/Promise","lavaca/util/delay"],function(e){var t=e("$"),n=e("lavaca/mvc/Model"),i=e("lavaca/mvc/View"),r=e("lavaca/ui/Template"),o=e("lavaca/util/Promise"),s=e("lavaca/util/delay"),a=i.extend(function(e,t,n){i.call(this,e,t),this.layer=n||0},{shell:null,wrapper:function(){return t('<div class="view"></div>')},interior:function(){return t('<div class="view-interior"></div>')},insertInto:function(e){if(this.shell.parent()[0]!==e[0]){for(var n,i=e.children("[data-layer-index]"),r=-1;n=i[++r];)if(n=t(n),n.attr("data-layer-index")>this.index)return this.shell.insertBefore(n),void 0;e.append(this.shell)}},render:function(){var e=new o(this),t=new o(this),i=r.get(this.template),s=this.model;return s instanceof n&&(s=s.toObject()),this.el&&this.el.remove(),this.shell=this.wrapper(),this.el=this.interior(),this.shell.append(this.el),this.shell.attr("data-layer-index",this.layer),this.className&&this.shell.addClass(this.className),e.success(function(e){this.trigger("rendersuccess",{html:e}),t.resolve()}).error(function(e){this.trigger("rendererror",{err:e}),t.reject()}),i.render(s).success(e.resolver()).error(e.rejector()),t},enter:function(e){var n,i=new o(this);return e=t(e),this.hasRendered||(n=this.render().error(i.rejector())),this.insertInto(e),n?i.when(n):s(i.resolver()),i.then(function(){this.trigger("enter")}),i},exit:function(){var e=new o(this);return this.shell.detach(),s(e.resolver()),e.then(function(){this.trigger("exit")}),e}});return a}),define("lavaca/mvc/ViewManager",["require","$","lavaca/mvc/PageView","lavaca/util/ArrayUtils","lavaca/util/Cache","lavaca/util/Disposable","lavaca/util/Promise","lavaca/util/delay","mout/object/merge","lavaca/net/History"],function(e){var t=e("$"),n=e("lavaca/mvc/PageView"),i=e("lavaca/util/ArrayUtils"),r=e("lavaca/util/Cache"),o=e("lavaca/util/Disposable"),s=e("lavaca/util/Promise"),a=e("lavaca/util/delay"),u=e("mout/object/merge"),c=e("lavaca/net/History"),l=o.extend(function(e){o.call(this),this.el=t(e||document.body),this.pageViews=new r,this.layers=[],this.exitingPageViews=[],this.enteringPageViews=[]},{locked:!1,setEl:function(e){return this.el="string"==typeof e?t(e):e,this},load:function(e,t,n,i){function r(){o.enteringPageViews=[f],h.success(function(){a(function(){o.enteringPageViews=[]})}),v=o.dismissLayersAbove(l-1,f),o.layers[l]!==f?(d.when(f.enter(o.el,o.exitingPageViews),v).then(h.resolve),o.layers[l]=f):h.when(v)}if(this.locked)return new s(this).reject("locked");this.locked=!0,i=i||{};var o=this,l=l||0,f=this.pageViews.get(e),h=new s(this),d=new s(h),p=null,v=null;return h.always(function(){this.locked=!1}),"number"==typeof i?l=i:i.layer&&(l=i.layer),f||(c.isRoutingBack&&o.layers[l]instanceof t?f=o.layers[l]:(f=new t(null,n,l),"object"==typeof i&&u(f,i),p=f.render(),null!==e&&(this.pageViews.set(e,f),f.cacheKey=e))),p?p.then(r,h.rejector()):r(),h},dismiss:function(e){if("number"==typeof e)this.dismissLayersAbove(e-1);else if(e instanceof n)this.dismiss(e.layer);else{e=t(e);var i=e.attr("data-layer-index");null===i&&(e=e.closest("[data-layer-index]"),i=e.attr("data-layer-index")),null!==i&&this.dismiss(Number(i))}},dismissLayersAbove:function(e,t){var n,r,o=new s(this),u=!1;for(n=this.layers.length-1;n>e;n--)!(r=this.layers[n])||t&&t===r||(function(e){this.exitingPageViews.push(e),o.when(e.exit(this.el,this.enteringPageViews)).success(function(){a(function(){i.remove(this.exitingPageViews,e),(!e.cacheKey||t&&t.cacheKey===e.cacheKey)&&e.dispose()},this)}),this.layers[n]=null}.call(this,r),u=!0);return u||o.resolve(),o},flush:function(e){if(e)this.pageViews.remove(e);else{for(var t,n=-1;t=this.layers[++n];)t.cacheKey&&this.pageViews.remove(t.cacheKey);this.pageViews.dispose(),this.pageViews=new r}},dispose:function(){o.prototype.dispose.call(this)}});return new l(null)}),define("lavaca/env/ChildBrowser",["require","lavaca/env/Device","lavaca/events/EventDispatcher","lavaca/util/Promise"],function(e){var t=e("lavaca/env/Device"),n=e("lavaca/events/EventDispatcher"),i=e("lavaca/util/Promise"),r=n.extend({showWebPage:function(e){return t.isCordova()?t.exec("ChildBrowser","showWebPage",[e]).error(function(){window.location.href=e}):(window.open(e),new i(window).resolve())},close:function(){return t.exec("ChildBrowser","close",[])}});return t.register("childBrowser",r),r}),define("lavaca/util/Translation",["require","./Cache","./Map"],function(e){function t(e,t,n){n&&(n=JSON.parse(n));var i=new o(e,t,n);return r.get(i.language)||r.set(i.language,i),i}var n=e("./Cache"),i=e("./Map"),r=new n,o=i.extend(function(e){i.apply(this,arguments);var t=e.toLowerCase().split("_");this.language=t[0],this.country=t[1]||"",this.locale=this.country?this.language+"_"+this.country:this.language},{is:function(e,t){return!(e!==this.language||t&&this.country&&t!==this.country)}});return o.setDefault=function(e){r.remove("default"),i.setDefault(r,o.forLocale(e))},o.forLocale=function(e){return e=(e||"default").toLowerCase(),r.get(e)||r.get(e.split("_")[0])||r.get("default")},o.get=function(e,t){t||(t=e,e="default");var n=o.forLocale(e),i=null;return n&&(i=n.get(t)),null===i&&(n=o.forLocale(e.split("_")[0]),n&&(i=n.get(t))),null===i&&(n=o.forLocale("default"),n&&(i=n.get(t))),i},o.init=function(e,n){i.init(r,"text/x-translation",t,n),o.setDefault(e)},o.dispose=function(){i.dispose(r)},o}),define("jquery-mobile/jquery.mobile.vmouse",["jquery"],function(e){!function(e,t,n,i){function r(e){for(;e&&"undefined"!=typeof e.originalEvent;)e=e.originalEvent;return e}function o(t,n){var o,s,a,u,c,l,f,h,d,p=t.type;if(t=e.Event(t),t.type=n,o=t.originalEvent,s=e.event.props,p.search(/^(mouse|click)/)>-1&&(s=M),o)for(f=s.length,u;f;)u=s[--f],t[u]=o[u];if(p.search(/mouse(down|up)|click/)>-1&&!t.which&&(t.which=1),-1!==p.search(/^touch/)&&(a=r(o),p=a.touches,c=a.changedTouches,l=p&&p.length?p[0]:c&&c.length?c[0]:i))for(h=0,d=k.length;d>h;h++)u=k[h],t[u]=l[u];return t}function s(t){for(var n,i,r={};t;){n=e.data(t,C);for(i in n)n[i]&&(r[i]=r.hasVirtualBinding=!0);t=t.parentNode}return r}function a(t,n){for(var i;t;){if(i=e.data(t,C),i&&(!n||i[n]))return t;t=t.parentNode}return null}function u(){L=!1}function c(){L=!0}function l(){_=0,V.length=0,I=!1,c()}function f(){u()}function h(){d(),N=setTimeout(function(){N=0,l()},e.vmouse.resetTimerDuration)}function d(){N&&(clearTimeout(N),N=0)}function p(t,n,i){var r;return(i&&i[t]||!i&&a(n.target,t))&&(r=o(n,t),e(n.target).trigger(r)),r}function v(t){var n=e.data(t.target,j);if(!(I||_&&_===n)){var i=p("v"+t.type,t);i&&(i.isDefaultPrevented()&&t.preventDefault(),i.isPropagationStopped()&&t.stopPropagation(),i.isImmediatePropagationStopped()&&t.stopImmediatePropagation())}}function m(t){var n,i,o=r(t).touches;if(o&&1===o.length&&(n=t.target,i=s(n),i.hasVirtualBinding)){_=$++,e.data(n,j,_),d(),f(),P=!1;var a=r(t).touches[0];D=a.pageX,q=a.pageY,p("vmouseover",t,i),p("vmousedown",t,i)}}function g(e){L||(P||p("vmousecancel",e,s(e.target)),P=!0,h())}function y(t){if(!L){var n=r(t).touches[0],i=P,o=e.vmouse.moveDistanceThreshold,a=s(t.target);P=P||Math.abs(n.pageX-D)>o||Math.abs(n.pageY-q)>o,P&&!i&&p("vmousecancel",t,a),p("vmousemove",t,a),h()}}function w(e){if(!L){c();var t,n=s(e.target);if(p("vmouseup",e,n),!P){var i=p("vclick",e,n);i&&i.isDefaultPrevented()&&(t=r(e).changedTouches[0],V.push({touchID:_,x:t.clientX,y:t.clientY}),I=!0)}p("vmouseout",e,n),P=!1,h()}}function b(t){var n,i=e.data(t,C);if(i)for(n in i)if(i[n])return!0;return!1}function x(){}function T(t){var n=t.substr(1);return{setup:function(){b(this)||e.data(this,C,{});var i=e.data(this,C);i[t]=!0,A[t]=(A[t]||0)+1,1===A[t]&&H.bind(n,v),e(this).bind(n,x),R&&(A.touchstart=(A.touchstart||0)+1,1===A.touchstart&&H.bind("touchstart",m).bind("touchend",w).bind("touchmove",y).bind("scroll",g))},teardown:function(){--A[t],A[t]||H.unbind(n,v),R&&(--A.touchstart,A.touchstart||H.unbind("touchstart",m).unbind("touchmove",y).unbind("touchend",w).unbind("scroll",g));var i=e(this),r=e.data(this,C);r&&(r[t]=!1),i.unbind(n,x),b(this)||i.removeData(C)}}}var E,C="virtualMouseBindings",j="virtualTouchID",S="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),k="clientX clientY pageX pageY screenX screenY".split(" "),O=e.event.mouseHooks?e.event.mouseHooks.props:[],M=e.event.props.concat(O),A={},N=0,D=0,q=0,P=!1,V=[],I=!1,L=!1,R="addEventListener"in n,H=e(n),$=1,_=0;e.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};for(var F=0;F<S.length;F++)e.event.special[S[F]]=T(S[F]);R&&n.addEventListener("click",function(t){var n,i,r,o,s,a,u=V.length,c=t.target;if(u)for(n=t.clientX,i=t.clientY,E=e.vmouse.clickDistanceThreshold,r=c;r;){for(o=0;u>o;o++)if(s=V[o],a=0,r===c&&Math.abs(s.x-n)<E&&Math.abs(s.y-i)<E||e.data(r,j)===s.touchID)return t.preventDefault(),t.stopPropagation(),void 0;r=r.parentNode}},!0)}(e,window,document)}),define("jquery-mobile/jquery.mobile.ns",["jquery"],function(e){!function(e){e.mobile={}}(e)}),define("jquery-mobile/jquery.mobile.support.touch",["jquery","./jquery.mobile.ns"],function(e){!function(e){var t={touch:"ontouchend"in document};e.mobile.support=e.mobile.support||{},e.extend(e.support,t),e.extend(e.mobile.support,t)}(e)}),define("jquery-mobile/events/touch",["jquery","../jquery.mobile.vmouse","../jquery.mobile.support.touch"],function(e){!function(e,t,n){function i(t,n,i){var r=i.type;i.type=n,e.event.dispatch.call(t,i),i.type=r}var r=e(document);e.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(t,n){e.fn[n]=function(e){return e?this.bind(n,e):this.trigger(n)},e.attrFn&&(e.attrFn[n]=!0)});var o=e.mobile.support.touch,s="touchmove scroll",a=o?"touchstart":"mousedown",u=o?"touchend":"mouseup",c=o?"touchmove":"mousemove";e.event.special.scrollstart={enabled:!0,setup:function(){function t(e,t){n=t,i(o,n?"scrollstart":"scrollstop",e)}var n,r,o=this,a=e(o);a.bind(s,function(i){e.event.special.scrollstart.enabled&&(n||t(i,!0),clearTimeout(r),r=setTimeout(function(){t(i,!1)},50))})}},e.event.special.tap={tapholdThreshold:750,setup:function(){var t=this,n=e(t);n.bind("vmousedown",function(o){function s(){clearTimeout(c)}function a(){s(),n.unbind("vclick",u).unbind("vmouseup",s),r.unbind("vmousecancel",a)}function u(e){a(),l===e.target&&i(t,"tap",e)}if(o.which&&1!==o.which)return!1;var c,l=o.target;o.originalEvent,n.bind("vmouseup",s).bind("vclick",u),r.bind("vmousecancel",a),c=setTimeout(function(){i(t,"taphold",e.Event("taphold",{target:l}))},e.event.special.tap.tapholdThreshold)})}},e.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:75,start:function(t){var n=t.originalEvent.touches?t.originalEvent.touches[0]:t;return{time:(new Date).getTime(),coords:[n.pageX,n.pageY],origin:e(t.target)}},stop:function(e){var t=e.originalEvent.touches?e.originalEvent.touches[0]:e;return{time:(new Date).getTime(),coords:[t.pageX,t.pageY]}},handleSwipe:function(t,n){n.time-t.time<e.event.special.swipe.durationThreshold&&Math.abs(t.coords[0]-n.coords[0])>e.event.special.swipe.horizontalDistanceThreshold&&Math.abs(t.coords[1]-n.coords[1])<e.event.special.swipe.verticalDistanceThreshold&&t.origin.trigger("swipe").trigger(t.coords[0]>n.coords[0]?"swipeleft":"swiperight")},setup:function(){var t=this,i=e(t);i.bind(a,function(t){function r(t){s&&(o=e.event.special.swipe.stop(t),Math.abs(s.coords[0]-o.coords[0])>e.event.special.swipe.scrollSupressionThreshold&&t.preventDefault())}var o,s=e.event.special.swipe.start(t);i.bind(c,r).one(u,function(){i.unbind(c,r),s&&o&&e.event.special.swipe.handleSwipe(s,o),s=o=n})})}},e.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe",swiperight:"swipe"},function(t,n){e.event.special[t]={setup:function(){e(this).bind(n,e.noop)
}}})}(e,this)}),define("jquery-mobile/jquery.mobile.support.orientation",["jquery"],function(e){!function(e){e.extend(e.support,{orientation:"orientation"in window&&"onorientationchange"in window})}(e)}),define("jquery-mobile/events/throttledresize",["jquery"],function(e){!function(e){e.event.special.throttledresize={setup:function(){e(this).bind("resize",o)},teardown:function(){e(this).unbind("resize",o)}};var t,n,i,r=250,o=function(){n=(new Date).getTime(),i=n-s,i>=r?(s=n,e(this).trigger("throttledresize")):(t&&clearTimeout(t),t=setTimeout(o,r-i))},s=0}(e)}),define("jquery-mobile/events/orientationchange",["jquery","../jquery.mobile.support.orientation","./throttledresize"],function(e){!function(e,t){function n(){var e=i();e!==r&&(r=e,a.trigger(u))}var i,r,o,s,a=e(t),u="orientationchange",c={0:!0,180:!0};if(e.support.orientation){var l=t.innerWidth||a.width(),f=t.innerHeight||a.height(),h=50;o=l>f&&l-f>h,s=c[t.orientation],(o&&s||!o&&!s)&&(c={"-90":!0,90:!0})}e.event.special.orientationchange=e.extend({},e.event.special.orientationchange,{setup:function(){return e.support.orientation&&!e.event.special.orientationchange.disabled?!1:(r=i(),a.bind("throttledresize",n),void 0)},teardown:function(){return e.support.orientation&&!e.event.special.orientationchange.disabled?!1:(a.unbind("throttledresize",n),void 0)},add:function(e){var t=e.handler;e.handler=function(e){return e.orientation=i(),t.apply(this,arguments)}}}),e.event.special.orientationchange.orientation=i=function(){var n=!0,i=document.documentElement;return n=e.support.orientation?c[t.orientation]:i&&i.clientWidth/i.clientHeight<1.1,n?"portrait":"landscape"},e.fn[u]=function(e){return e?this.bind(u,e):this.trigger(u)},e.attrFn&&(e.attrFn[u]=!0)}(e,this)}),define("lavaca/mvc/Application",["require","$","lavaca/net/History","lavaca/env/Device","lavaca/events/EventDispatcher","lavaca/mvc/Router","lavaca/mvc/ViewManager","lavaca/net/Connectivity","lavaca/ui/Template","lavaca/util/Config","lavaca/util/Promise","lavaca/env/ChildBrowser","lavaca/util/Translation","jquery-mobile/events/touch","jquery-mobile/events/orientationchange"],function(e){function t(e){e.preventDefault(),e.stopPropagation()}function n(e){var t=e.match(/^(?:#)(\/.*)#?@?/);return t instanceof Array&&t[1]?t[1].replace(/#.*/,""):null}var i=e("$"),r=e("lavaca/net/History"),o=e("lavaca/env/Device"),s=e("lavaca/events/EventDispatcher"),a=e("lavaca/mvc/Router"),u=e("lavaca/mvc/ViewManager"),c=e("lavaca/net/Connectivity"),l=e("lavaca/ui/Template"),f=e("lavaca/util/Config"),h=e("lavaca/util/Promise"),d=e("lavaca/env/ChildBrowser");e("lavaca/util/Translation"),e("jquery-mobile/events/touch"),e("jquery-mobile/events/orientationchange");var p=s.extend(function(e){e&&(this._callback=e.bind(this)),o.init(function(){this.beforeInit(f).then(this.init.bind(this))}.bind(this))},{initRoute:"/",initState:null,initParams:null,viewRootSelector:"#view-root",onInvalidRoute:function(e){"locked"!==e&&alert("An error occurred while trying to display this URL.")},onTapLink:function(e){var t=i(e.currentTarget),n=t.attr("href"),o=t.attr("rel"),s=t.attr("target"),a=t.is("[data-external]");return/^((mailto)|(tel)|(sms))\:/.test(n)||t.is(".ignore")?(location.href=n,!0):(e.preventDefault(),"back"===o?r.back():a||"nofollow"===o||"_blank"===s?(e.stopPropagation(),(new d).showWebPage(n)):"cancel"===o?this.viewManager.dismiss(e.currentTarget):n&&this.router.exec(n,null,null).error(this.onInvalidRoute),void 0)},ajax:function(){return c.ajax.apply(c,arguments)},init:function(e){var n,o,s=new h(this);return l.init(),this.viewManager=u.setEl(this.viewRootSelector),this.router=a.setViewManager(this.viewManager),o=function(){this.router.startHistory(),this.router.hasNavigated?s.resolve():(s.when(this.router.exec(this.initialHashRoute||this.initRoute,this.initState,this.initParams)),this.initState&&r.replace(this.initState.state,this.initState.title,this.initState.url))}.bind(this),i(document.body).on("tap","a",this.onTapLink.bind(this)).on("tap",".ui-blocker",t),this._callback?(n=this._callback(e),n instanceof h?n.then(o,s.rejector()):o()):o(),s.then(function(){this.trigger("ready")})},initialHashRoute:function(e){return n(e)}(window.location.hash),beforeInit:function(){var e=new h;return e.resolve(null)}});return p}),define("lavaca/mvc/Collection",["require","lavaca/mvc/Model","lavaca/net/Connectivity","lavaca/util/ArrayUtils","lavaca/util/Promise","mout/lang/deepClone","mout/object/merge"],function(e){function t(e,t,n,i,r){e.trigger(t,{previousIndex:n,index:i,model:r})}function n(e,t){var n=t?1:-1;return function(t,i){var r=t.get(e),o=i.get(e);return r===o?0:o>r?n:-n}}var i,r=e("lavaca/mvc/Model"),o=e("lavaca/net/Connectivity"),s=e("lavaca/util/ArrayUtils"),a=e("lavaca/util/Promise"),u=e("mout/lang/deepClone"),c=e("mout/object/merge"),l=r.extend(function(e,t){r.call(this,t),this.models=[],this.changedOrder=!1,this.addedItems=[],this.removedItems=[],this.changedItems=[],e&&(this.suppressEvents=!0,this.add.apply(this,e),this.suppressEvents=!1)},{TModel:r,itemsProperty:"items",allowDuplicatedIds:!1,clear:function(){r.prototype.clear.apply(this,arguments),this.clearModels()},clearModels:function(){for(var e,t=-1;e=this.models[++t];)this.remove(e);this.changedOrder=!1,this.addedItems.length=this.removedItems.length=this.changedItems.length=this.models.length=0},prepare:function(e){var t=e instanceof this.TModel?e:this.TModel.prototype instanceof l?new this.TModel(e[this.TModel.prototype.itemsProperty],e):new this.TModel(e),n=s.indexOf(this.models,t);return-1===n&&t.on("change",this.onItemEvent,this).on("invalid",this.onItemEvent,this).on("saveSuccess",this.onItemEvent,this).on("saveError",this.onItemEvent,this),t},canSet:function(e){return e!==this.itemsProperty},insert:function(e,n){var i,r,o,a,u,c,l=!1,f=this.TModel.prototype.idAttribute,h={};for(c=n&&s.isArray(n)?n:Array.prototype.slice.call(arguments,1),r=0,o=c.length;o>r;r++){if(a=c[r],"object"!=typeof a)throw"Only objects can be added to a Collection.";a=this.prepare(a),i=a.get(f),null!==i&&(h[f]=i,u=this.indexOf(h),u>-1&&!this.allowDuplicatedIds&&this.remove(u)),this.models.splice(e,0,a),this.suppressTracking||(s.remove(this.removedItems,a),s.remove(this.changedItems,a),s.pushIfNotExists(this.addedItems,a)),t(this,"addItem",null,e,this.models[e]),e++,l=!0}return l},add:function(){return arguments.length&&arguments[0]instanceof Array?this.add.apply(this,arguments[0]):this.insert.call(this,this.count(),Array.prototype.slice.call(arguments,0))},moveTo:function(e,n){if(e instanceof this.TModel&&(e=s.indexOf(this.models,e)),e>-1){var i=this.models.splice(e,1)[0];i&&(this.models.splice(n,0,i),this.suppressTracking||(this.changedOrder=!0),t(this,"moveItem",e,n,i))}},remove:function(e){var n,i,r,o,a,u;if(1===arguments.length&&s.isArray(e)){for(n=0,u=[];i=e[n++];)u.push(this.remove(i));return u}if(arguments.length>1)return"number"==typeof e&&0===e%1?this.remove(e):this.remove([].slice.call(arguments));if(e instanceof this.TModel)return o=s.remove(this.models,e),o>-1?(this.suppressTracking||(s.remove(this.addedItems,e),s.remove(this.changedItems,e),s.pushIfNotExists(this.removedItems,e)),e.off("change",this.onItemEvent).off("invalid",this.onItemEvent).off("saveSuccess",this.onItemEvent).off("saveError",this.onItemEvent),t(this,"removeItem",o,null,e),!0):!1;if("number"==typeof e&&0===e%1)return e>=0&&e<this.count()?this.remove(this.itemAt(e)):!1;for(r=this.filter(e),a=-1,u=!1;e=r[++a];)u=this.remove(e)||u;return u},filter:function(e,t){t=t===i?Number.MAX_VALUE:t;var n,r,o=[],s=-1;for("function"!=typeof e&&(r=e,e=function(e,t){for(var n in r)if(t.get(n)!==r[n])return!1;return!0});(n=this.models[++s])&&!(e(s,n)&&(o.push(n),--t<1)););return o},first:function(e){return this.filter(e,1)[0]||null},indexOf:function(e){var t=this.first(e);return t?s.indexOf(this.models,t):-1},itemAt:function(e){return this.models[e]},count:function(){return this.models.length},each:function(e,t){for(var n,i,r=-1;(i=this.itemAt(++r))&&(n=e.call(t||this,r,i),n!==!1););},sort:function(e,i){var r,o="function"==typeof e?e:n(e,i),a=u(this.models);return this.models.sort(o,this),this.suppressTracking||(this.changedOrder=!0),this.suppressEvents||this.each(function(e,n){r=s.indexOf(a,n),r!==e&&t(this,"moveItem",s.indexOf(a,n),e,n)}),this},reverse:function(){var e,n=u(this.models);return this.models.reverse(),this.suppressTracking||(this.changedOrder=!0),this.suppressEvents||this.each(function(i,r){e=s.indexOf(n,r),e!==i&&t(this,"moveItem",s.indexOf(n,r),i,r)}),this},onItemEvent:function(e){var t=e.target,n=s.indexOf(this.models,t);"change"===e.type?s.pushIfNotExists(this.changedItems,t):"saveSuccess"===e.type&&s.remove(this.changedItems,t),this.trigger(e.type+"Item",c({},e,{target:t,model:t,index:n,previousIndex:null}))},onFetchSuccess:function(e){var t;e=this.parse(e),this.responseFilter&&"function"==typeof this.responseFilter&&(e=this.responseFilter(e)),t=e,t instanceof Array||(this.apply(e),e&&e.hasOwnProperty(this.itemsProperty)&&(t=e[this.itemsProperty])),this.add.apply(this,t),this.trigger("fetchSuccess",{response:e})},saveToServer:function(e){return this.save(function(t,n,i){var r,s=this.id();return this.isNew()?r=i:(n[this.idAttribute]=s,r=n),new a(this).when(o.ajax({url:e,cache:!1,type:"POST",data:r,dataType:"json"}))})},toObject:function(e){for(var t,n=r.prototype.toObject.apply(this,arguments),i=this.itemsProperty,o=n[i]=[],s=-1;t=this.models[++s];)o[n[i].length]=e&&!t.isNew()?t.id():t.toObject();return n},responseFilter:function(e){return e}});return l}),define("lavaca/util/StringUtils",["require"],function(){function e(e){return e}var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;"},n={};return n.format=function(t){var n,i,r,o=e;for(arguments[1]instanceof Array?(n=arguments[1],o=arguments[2]||e):n=[].slice.call(arguments,1),i=0,r=n.length;r>i;i++)t=t.split("{"+i+"}").join(o(n[i]+""));return t},n.escapeHTML=function(e){e=""+e;for(var n in t)e=e.split(n).join(t[n]);return e},n}),define("lavaca/mvc/Controller",["require","lavaca/net/Connectivity","lavaca/net/History","lavaca/util/Disposable","lavaca/util/Promise","lavaca/util/StringUtils","lavaca/util/Translation"],function(e){var t=(e("lavaca/net/Connectivity"),e("lavaca/net/History")),n=e("lavaca/util/Disposable"),i=e("lavaca/util/Promise"),r=e("lavaca/util/StringUtils");e("lavaca/util/Translation");var o=n.extend(function(e,t){e instanceof o?(this.router=e.router,this.viewManager=e.viewManager):(this.router=e,this.viewManager=t)},{router:null,viewManager:null,exec:function(e,t,n){this.params=t,this.state=n;var r,o,s=new i(this);return n&&(r=n.state,s.success(function(){document.title=n.title})),o=this[e](t,r),o instanceof i?s.when(o):s.resolve(),s},view:function(e,t,n,r){return i.when(this,this.viewManager.load(e,t,n,r))},history:function(e,n,i,r){var o=!this.state;return function(){o&&t[r?"replace":"push"](e,n,i)}},url:function(e,t){return r.format(e,t,encodeURIComponent)},redirect:function(e,t){return this.router.unlock().exec(this.url(e,t||[]))},dispose:function(){this.router=this.viewManager=null,n.prototype.dispose.apply(this,arguments)}});return o}),define("lavaca/mvc/Model",["require","lavaca/events/EventDispatcher","lavaca/net/Connectivity","lavaca/util/ArrayUtils","lavaca/util/Cache","lavaca/util/Promise","mout/lang/deepClone","mout/object/merge","lavaca/util/Config"],function(e){function t(e,t,n,i,r,s){e.trigger(t,{attribute:n,previous:i===o?null:i,value:r===o?e.get(n):r,messages:s||[]})}function n(e,t,n){var i=e.flags[n];i||(i=e.flags[n]=[]),u.contains(i,t)||i.push(t)}function i(e,t,n){t=!!t;for(var i,r,o=["suppressValidation","suppressEvents","suppressTracking"],s={},a=-1;i=o[++a];)s[i]=e[i],e[i]=t||e[i];for(r=n.call(e),a=-1;i=o[++a];)e[i]=s[i];return r}function r(e){var t=!0;for(var n in e)e[n].length>0&&(t=!1);return e.isValid=t,e}var o,s=e("lavaca/events/EventDispatcher"),a=e("lavaca/net/Connectivity"),u=e("lavaca/util/ArrayUtils"),c=e("lavaca/util/Cache"),l=e("lavaca/util/Promise"),f=e("mout/lang/deepClone"),h=e("mout/object/merge"),d=e("lavaca/util/Config"),p=s.extend(function(e){s.call(this),this.attributes=new c,this.rules=new c,this.unsavedAttributes=[],this.flags={},this.defaults&&(e=h({},this.defaults,e)),e&&(this.suppressEvents=this.suppressTracking=!0,this.apply(e),this.suppressEvents=this.suppressTracking=!1)},{suppressValidation:!1,suppressTracking:!1,get:function(e){var t,n=this.attributes.get(e);return"function"==typeof n?(t=this.flags[p.DO_NOT_COMPUTE],t&&-1!==u.indexOf(t,e)?n:n.call(this)):n},canSet:function(){return!0},set:function(e,r,o,s){return i(this,s,function(){if(!this.canSet(e))return!1;var i=this.attributes.get(e),s=this.suppressValidation?[]:this.validate(e,r);return s.length?(t(this,"invalid",e,i,r,s),!1):(i!==r&&(this.attributes.set(e,r),o&&n(this,e,o),t(this,"change",e,i,r),this.suppressTracking||u.contains(this.unsavedAttributes,e)||this.unsavedAttributes.push(e)),!0)})},has:function(e){return null!==this.get(e)},idAttribute:"id",id:function(){return this.get(this.idAttribute)},isNew:function(){return null===this.id()},parse:function(e){return"string"==typeof e&&(e=JSON.parse(e)),e},apply:function(e,t){i(this,t,function(){e=this.parse(e);for(var t in e)this.set(t,e[t])})},clear:function(e){if(e){var t,n,i=this.flags[e],r=-1;if(i)for(;t=i[++r];)u.remove(this.unsavedAttributes,t),n=this.get(t),n&&n.dispose&&n.dispose(),this.set(t,null)}else this.attributes.dispose(),this.attributes=new c,this.unsavedAttributes.length=0},clone:function(){return new this.constructor(this.attributes.toObject())},addRule:function(e,t,n){this.rules.get(e,[]).push({rule:t,message:n})},validate:function(e,t){var n,i,s,a=-1;if(e){if(n=[],t=t===o?this.get(e,t):t,i=this.rules.get(e))for(;s=i[++a];)s.rule(e,t)||n.push(s.message);return n}return n={},this.rules.each(function(e){n[e]=this.validate(e)},this),r(n)},onFetchSuccess:function(e){e=this.parse(e),this.responseFilter&&"function"==typeof this.responseFilter&&(e=this.responseFilter(e)),this.apply(e,!0),this.trigger("fetchSuccess",{response:e})},onFetchError:function(e){this.trigger("fetchError",{response:e})},fetch:function(e,t){return"object"==typeof e?t=e:(t=f(t||{}),t.url=e),t.url=this.getApiURL(t.url||this.url),l.when(this,a.ajax(t)).success(this.onFetchSuccess).error(this.onFetchError)},getApiURL:function(e){var t,n="/please_set_model_url",i=d.get("apiRoot");return e?t=(i||"")+e:n},save:function(e,t){for(var n,i,r=new l(this),s=this.toObject(),a={},u=-1;n=this.unsavedAttributes[++u];)a[n]=s[n];return r.success(function(e){var t=this.idAttribute;this.isNew()&&e[t]!==o&&this.set(t,e[t]),this.unsavedAttributes=[],this.trigger("saveSuccess",{response:e})}).error(function(e){this.trigger("saveError",{response:e})}),i=e.call(t||this,this,a,s),i instanceof l?r.when(i):i?r.resolve(i):r.reject(i),r},saveToServer:function(e){return this.save(function(t,n,i){var r,o=this.id();return this.isNew()?r=i:(n[this.idAttribute]=o,r=n),l.when(this,a.ajax({url:e,cache:!1,type:"POST",data:r,dataType:"json"}))})},toObject:function(){var e,t=this.attributes.toObject();for(var n in t)"function"==typeof t[n]&&(e=this.flags[p.DO_NOT_COMPUTE],e&&-1!==u.indexOf(e,n)||(t[n]=t[n].call(this)));return t},toJSON:function(){return JSON.stringify(this.toObject())},on:function(e,t,n,i){function r(e){t&&e.attribute!==t||n.call(i||this,e)}return"function"==typeof t&&(i=n,n=t,t=null),r.fn=n,r.thisp=i,s.prototype.on.call(this,e,r,i)},responseFilter:function(e){return e}});return p.SENSITIVE="sensitive",p.DO_NOT_COMPUTE="do_not_compute",p}),define("lavaca/mvc/PageView",["require","$","lavaca/mvc/Model","lavaca/mvc/View","lavaca/ui/Template","lavaca/util/Promise","lavaca/util/delay"],function(e){var t=e("$"),n=e("lavaca/mvc/Model"),i=e("lavaca/mvc/View"),r=e("lavaca/ui/Template"),o=e("lavaca/util/Promise"),s=e("lavaca/util/delay"),a=i.extend(function(e,t,n){i.call(this,e,t),this.layer=n||0},{shell:null,wrapper:function(){return t('<div class="view"></div>')},interior:function(){return t('<div class="view-interior"></div>')},insertInto:function(e){if(this.shell.parent()[0]!==e[0]){for(var n,i=e.children("[data-layer-index]"),r=-1;n=i[++r];)if(n=t(n),n.attr("data-layer-index")>this.index)return this.shell.insertBefore(n),void 0;e.append(this.shell)}},render:function(){var e=new o(this),t=new o(this),i=r.get(this.template),s=this.model;return s instanceof n&&(s=s.toObject()),this.el&&this.el.remove(),this.shell=this.wrapper(),this.el=this.interior(),this.shell.append(this.el),this.shell.attr("data-layer-index",this.layer),this.className&&this.shell.addClass(this.className),e.success(function(e){this.trigger("rendersuccess",{html:e}),t.resolve()}).error(function(e){this.trigger("rendererror",{err:e}),t.reject()}),i.render(s).success(e.resolver()).error(e.rejector()),t},enter:function(e){var n,i=new o(this);return e=t(e),this.hasRendered||(n=this.render().error(i.rejector())),this.insertInto(e),n?i.when(n):s(i.resolver()),i.then(function(){this.trigger("enter")}),i},exit:function(){var e=new o(this);return this.shell.detach(),s(e.resolver()),e.then(function(){this.trigger("exit")}),e}});return a}),define("lavaca/mvc/Route",["require","lavaca/util/Disposable","lavaca/util/delay","mout/lang/deepClone","mout/object/merge"],function(e){function t(){return new RegExp("\\{\\*(.*?)\\}","g")}function n(){return new RegExp("\\{([^\\/]*?)\\}","g")}function i(){return new RegExp("[\\{\\}\\*]","g")}function r(){return new RegExp("^\\d{4}-[0-1]\\d-[0-3]\\d$","g")}function o(e){if("/"===e)return new RegExp("^\\/(\\?.*)?(#.*)?$","g");"/"===e.charAt(0)&&(e=e.slice(1)),e=e.split("/");for(var i,r="^",o=-1;i=e[++o];)r+=t().test(i)?"(/([^/?#]+))*?":n().test(i)?"/([^/?#]+)":"/"+i;return r+="(\\?.*)?(#\\.*)?$",new RegExp(r,"g")}function s(e){return e=decodeURIComponent(e),isNaN(e)?"true"===e.toLowerCase()?e=!0:"false"===e.toLowerCase()?e=!1:r().test(e)&&(e=e.split("-"),e=new Date(Number(e[0]),Number(e[1])-1,Number(e[2]))):e=Number(e),e}var a=e("lavaca/util/Disposable"),u=e("lavaca/util/delay"),c=e("mout/lang/deepClone"),l=e("mout/object/merge"),f=a.extend(function(e,t,n,i){a.call(this),this.pattern=e,this.TController=t,this.action=n,this.params=i||{}},{matches:function(e){return o(this.pattern).test(e)},parse:function(e){var r,o,a,u,l,f,h=c(this.params),d=this.pattern.slice(1),p=e.split("#");if(h.url=e,h.route=this,p=p[1]?p[1].split("?"):p[0].split("?"),o=p[1])for(r=-1,o=o.split("&");u=o[++r];)u=u.split("="),f=decodeURIComponent(u[0]),void 0!==h[f]?(h[f]instanceof Array||(h[f]=[h[f]]),h[f].push(s(u[1]))):h[f]=s(u[1]);r=0,a=p[0].replace(/(^(http(s?)\:\/\/[^\/]+)?\/?)|(\/$)/,"");for(var v=new RegExp(d.replace(t(),"(.+)").replace(n(),"([^/]+)")),m=v.exec(a),g=v.exec(d);u=m[++r];)l=g[r],t().test(l)&&(u=u.split("/")),h[l.replace(i(),"")]=u;return h},exec:function(e,t,n,i,r){function o(){u(s.dispose,s)}var s=new this.TController(t,n),a=this.parse(e),c=s.exec(this.action,l(a,r),i);return c.then(o,o),c}});return f}),define("lavaca/mvc/Router",["require","./Route","lavaca/net/History","lavaca/util/Disposable","lavaca/util/Promise"],function(e){var t=e("./Route"),n=e("lavaca/net/History"),i=e("lavaca/util/Disposable"),r=e("lavaca/util/Promise"),o=i.extend(function(e){i.call(this),this.routes=[],this.viewManager=e},{locked:!1,hasNavigated:!1,startHistory:function(){this.onpopstate=function(e){this.hasNavigated&&(n.isRoutingBack="back"===e.direction,this.exec(e.url,e).always(function(){n.isRoutingBack=!1}))},n.on("popstate",this.onpopstate,this)},setViewManager:function(e){return this.viewManager=e,this},add:function(e,n,i,r){if("object"==typeof e)for(var o in e){var s=e[o];s instanceof Array?(n=s[0],i=s[1],r=s[2]):(n=s.controller,i=s.action,r=s.params),this.add(o,n,i,r)}else this.routes.push(new t(e,n,i,r));return this},exec:function(e,t,n){if(this.locked)return new r(this).reject("locked");this.locked=!0,e||(e="/"),0===e.indexOf("http")&&(e=e.replace(/^http(s?):\/\/.+?/,""));var i,o=-1,s=new r(this);for(s.always(function(){this.unlock()}),this.hasNavigated||s.success(function(){this.hasNavigated=!0});i=this.routes[++o];)if(i.matches(e))return s.when(i.exec(e,this,this.viewManager,t,n));return s.reject(e,t)},unlock:function(){return this.locked=!1,this},dispose:function(){this.onpopstate&&(n.off("popstate",this.onpopstate),this.onpopstate=null),i.prototype.dispose.apply(this,arguments)}});return new o}),define("lavaca/mvc/View",["require","$","lavaca/events/EventDispatcher","lavaca/mvc/Model","lavaca/ui/Template","lavaca/util/Cache","lavaca/util/Promise","lavaca/util/log","lavaca/util/uuid"],function(e){var t=e("$"),n=e("lavaca/events/EventDispatcher"),i=e("lavaca/mvc/Model"),r=e("lavaca/ui/Template"),o=e("lavaca/util/Cache"),s=e("lavaca/util/Promise"),a=e("lavaca/util/log"),u=e("lavaca/util/uuid"),c=n.extend(function(e,i,r){n.call(this),this.model=i||null,this.id=this.className+"-"+u(),this.parentView=r||null,this.el="string"==typeof e?t(e):e||null,this.eventMap={},this.childViewMap={},this.childViews=new o,this.widgetMap={},this.widgets=new o,this.childViewEventMap={},this.on("rendersuccess",this.onRenderSuccess).on("rendererror",this.onRenderError),this.autoRender&&this.render()},{el:null,template:null,className:null,autoRender:!1,render:function(){var e=this,t=new s(this),n=new s(this),o=r.get(this.template),a=this.model;return a instanceof i&&(a=a.toObject()),t.success(function(e){this.trigger("rendersuccess",{html:e}),n.resolve()}).error(function(e){this.trigger("rendererror",{err:e}),n.reject()}),o.render(a).success(t.resolver()).error(t.rejector()).then(function(){e.className&&e.el.addClass(e.className)}),n},redraw:function(e,n){function o(){u.createWidgets(),u.createChildViews(),u.applyChildViewEvents()}var a,u=this,c=new s(this),l=new s(this),f=r.get(this.template);return"object"==typeof e||e instanceof i?(n=e,a=!0,e=null):"boolean"==typeof e?(a=e,e=null):e||(a=!0),n=n||this.model,n instanceof i&&(n=n.toObject()),c.success(function(n){if(a)return this.disposeChildViews(this.el),this.disposeWidgets(this.el),this.el.html(n),o(),l.resolve(n),void 0;if(e){var i=t("<div>"+n+"</div>").find(e),r=this.el.find(e);i.length===r.length?(r.each(function(e){var n=t(this);u.disposeChildViews(n),u.disposeWidgets(n),n.replaceWith(i.eq(e)).remove()}),o(),l.resolve(n)):l.reject("Count of items matching selector is not the same in the original html and in the newly rendered html.")}else l.resolve(n)}).error(l.rejector()),f.render(n).success(c.resolver()).error(c.rejector()),l},disposeChildViews:function(e){var n,i=this;n=e.find("[data-view-id]"),e!==i.el&&e.is("[data-view-id]")&&(n=n.add(e)),n.each(function(e,n){var r=t(n),o=r.data("view");i.childViews.remove(o.id),o.dispose()})},disposeWidgets:function(e){var n=this;e.add(e.find("[data-has-widgets]")).each(function(e,i){var r,o,s=t(i),a=s.data("widgets");for(r in a)o=a[r],n.widgets.remove(o.id),o.dispose()}),e.removeData("widgets")},clearModelEvents:function(){var e,t,i;if(this.eventMap&&this.eventMap.model&&this.model&&this.model instanceof n)for(e in this.eventMap.model)t=this.eventMap.model[e],"object"==typeof t&&(t=t.on),i=e.indexOf("."),-1!==i&&(e=e.substr(0,i)),this.model.off(e,t)},bindMappedEvents:function(){var e,t,n;for(t in this.eventMap){e=this.eventMap[t];for(n in e)"string"==typeof this.eventMap[t][n]&&(this.eventMap[t][n]=this[this.eventMap[t][n]].bind(this))}},applyEvents:function(){var e,t,n,r,o,s,a,u=this.el;for(r in this.eventMap){e=this.eventMap[r],"self"===r&&(r=null);for(o in e)t=e[o],"object"==typeof t?(a=t,t=t.on):a=void 0,"string"==typeof t&&t in this&&(t=this[t].bind(this)),"model"===r?this.model&&this.model instanceof i&&(s=o.indexOf("."),-1!==s&&(n=o.substr(s+1),o=o.substr(0,s)),this.model.on(o,n,t,this)):"animationEnd"===o&&u.animationEnd?u.animationEnd(r,t):"transitionEnd"===o&&u.transitionEnd?u.transitionEnd(r,t):u.on(o,r,t)}},mapEvent:function(e,t,n){var i;if("object"==typeof e){i=e;for(e in i)for(t in i[e])this.mapEvent(e,t,i[e][t])}else i=this.eventMap[e],i||(i=this.eventMap[e]={}),i[t]=n;return this},createWidgets:function(){var e,n,i=this.widgets;for(e in this.widgetMap)n=this.widgetMap[e],("self"===e?this.el:this.el.find(e)).each(function(r,o){var s,a=t(o),u=a.data("widgets")||{};u[e]||(s=new n(t(o)),u[e]=s,i.set(s.id,s),a.data("widgets",u),a.attr("data-has-widgets",""))})},mapWidget:function(e,t){if("object"==typeof e){var n=e;for(e in n)this.mapWidget(e,n[e])}else this.widgetMap[e]=t;return this},createChildViews:function(){var e,n,i=this.childViews,r=this;for(e in this.childViewMap)n=this.childViewMap[e],this.el.find(e).each(function(e,o){var s,a=t(o);a.data("view")||(s=new n.TView(a,n.model||r.model,r),i.set(s.id,s))})},mapChildView:function(e,t,n){if("object"==typeof e){var i=e;for(e in i)this.mapChildView(e,i[e].TView,i[e].model)}else this.childViewMap[e]={TView:t,model:n};return this},mapChildViewEvent:function(e,t,n){if("object"==typeof e){var i=e;for(e in i)this.mapChildViewEvent(e,i[e].callback,i[e].TView)}else this.childViewEventMap[e]={TView:n,callback:t}},applyChildViewEvents:function(){var e,t=this.childViewEventMap;for(e in t)this.childViews.each(function(n,i){var r,o,s=-1;if(!t[e].TView||i instanceof t[e].TView){for(r=i.callbacks[e]||[];o=r[++s];)if(o===t[e].callback)return;i.on(e,t[e].callback)}})},onRenderSuccess:function(e){this.el.html(e.html),this.bindMappedEvents(),this.applyEvents(),this.createWidgets(),this.createChildViews(),this.applyChildViewEvents(),this.el.data("view",this),this.el.attr("data-view-id",this.id),this.hasRendered=!0},onRenderError:function(e){a(e.err)},dispose:function(){this.model&&this.clearModelEvents(),this.childViews.count()&&this.disposeChildViews(this.el),this.widgets.count()&&this.disposeWidgets(this.el),this.template=this.model=this.parentView=null,n.prototype.dispose.apply(this,arguments)}});return c}),define("lavaca/mvc/ViewManager",["require","$","lavaca/mvc/PageView","lavaca/util/ArrayUtils","lavaca/util/Cache","lavaca/util/Disposable","lavaca/util/Promise","lavaca/util/delay","mout/object/merge","lavaca/net/History"],function(e){var t=e("$"),n=e("lavaca/mvc/PageView"),i=e("lavaca/util/ArrayUtils"),r=e("lavaca/util/Cache"),o=e("lavaca/util/Disposable"),s=e("lavaca/util/Promise"),a=e("lavaca/util/delay"),u=e("mout/object/merge"),c=e("lavaca/net/History"),l=o.extend(function(e){o.call(this),this.el=t(e||document.body),this.pageViews=new r,this.layers=[],this.exitingPageViews=[],this.enteringPageViews=[]},{locked:!1,setEl:function(e){return this.el="string"==typeof e?t(e):e,this},load:function(e,t,n,i){function r(){o.enteringPageViews=[f],h.success(function(){a(function(){o.enteringPageViews=[]})}),v=o.dismissLayersAbove(l-1,f),o.layers[l]!==f?(d.when(f.enter(o.el,o.exitingPageViews),v).then(h.resolve),o.layers[l]=f):h.when(v)}if(this.locked)return new s(this).reject("locked");this.locked=!0,i=i||{};var o=this,l=l||0,f=this.pageViews.get(e),h=new s(this),d=new s(h),p=null,v=null;return h.always(function(){this.locked=!1}),"number"==typeof i?l=i:i.layer&&(l=i.layer),f||(c.isRoutingBack&&o.layers[l]instanceof t?f=o.layers[l]:(f=new t(null,n,l),"object"==typeof i&&u(f,i),p=f.render(),null!==e&&(this.pageViews.set(e,f),f.cacheKey=e))),p?p.then(r,h.rejector()):r(),h},dismiss:function(e){if("number"==typeof e)this.dismissLayersAbove(e-1);else if(e instanceof n)this.dismiss(e.layer);else{e=t(e);var i=e.attr("data-layer-index");null===i&&(e=e.closest("[data-layer-index]"),i=e.attr("data-layer-index")),null!==i&&this.dismiss(Number(i))}},dismissLayersAbove:function(e,t){var n,r,o=new s(this),u=!1;for(n=this.layers.length-1;n>e;n--)!(r=this.layers[n])||t&&t===r||(function(e){this.exitingPageViews.push(e),o.when(e.exit(this.el,this.enteringPageViews)).success(function(){a(function(){i.remove(this.exitingPageViews,e),(!e.cacheKey||t&&t.cacheKey===e.cacheKey)&&e.dispose()},this)}),this.layers[n]=null}.call(this,r),u=!0);return u||o.resolve(),o},flush:function(e){if(e)this.pageViews.remove(e);else{for(var t,n=-1;t=this.layers[++n];)t.cacheKey&&this.pageViews.remove(t.cacheKey);this.pageViews.dispose(),this.pageViews=new r}},dispose:function(){o.prototype.dispose.call(this)}});return new l(null)}),define("lavaca/net/Connectivity",["require","$","lavaca/util/Promise","lavaca/util/resolve"],function(e){function t(e){if(e===a)for(var t,n=-1;t=s[++n];)t(e)}var n=e("$"),i=e("lavaca/util/Promise"),r=e("lavaca/util/resolve"),o="boolean"==typeof navigator.onLine,s=[],a="offline",u={};return u.isOffline=function(){var e=r("navigator.connection.type");return null!==e?e===r("Connection.NONE"):o?!navigator.onLine:!1},u.ajax=function(e){var r=new i,o=e.success,s=e.error;return e.success=function(){o&&o.apply(this,arguments),r.resolve.apply(r,arguments)},e.error=function(){s&&s.apply(this,arguments),r.reject.apply(r,arguments)},u.isOffline()?r.reject(a):n.ajax(e),r.error(t),r},u.registerOfflineAjaxHandler=function(e){s.push(e)},u}),define("lavaca/net/History",["require","lavaca/events/EventDispatcher","lavaca/util/uuid"],function(e){function t(e,t,i,r,o,s){e.position=t;var a={id:i,state:r,title:o,url:s};return e.sequence[t]=a,location.hash=n=s+"#@"+i,a}var n,i,r,o=e("lavaca/events/EventDispatcher"),s=e("lavaca/util/uuid"),a=navigator.userAgent.indexOf("Android")>-1,u=!a&&"function"==typeof history.pushState,c=!1,l=0,f=o.extend(function(){o.call(this),this.sequence=[],this.position=-1,this.replace({},document.title,location.pathname);var e=this;if(u){var e=this;this.onPopState=function(t){if(t.state){l--;var n=r;r=t.state.id,e.trigger("popstate",{state:t.state.state,title:t.state.title,url:t.state.url,id:t.state.id,direction:r>n?"forward":"back"})}},window.addEventListener("popstate",this.onPopState,!1)}else this.onPopState=function(){var t,i,r,o,s=location.hash,a=-1;if(s&&(s=s.replace(/^#/,"")),s!==n&&(o=n.split("#@")[1],n=s,s)){for(l--,t=s.split("#@")[1];r=e.sequence[++a];)if(r.id===parseInt(t,10)){i=r,e.position=a;break}i&&(location.hash=i.url+"#@"+i.id,document.title=i.title,e.trigger("popstate",{state:i.state,title:i.title,url:i.url,id:i.id,direction:i.id>parseInt(o,10)?"forward":"back"}))}},window.attachEvent?window.attachEvent("onhashchange",this.onPopState):window.addEventListener("hashchange",this.onPopState,!1)},{current:function(){return this.sequence[this.position]||null},hasHistory:function(){return l>0},push:function(e,n,i){l++,c?(document.title=n,r=s("history"),u?history.pushState({state:e,title:n,url:i,id:r},n,i):t(this,++this.position,r,e,n,i)):this.replace(e,n,i)},replace:function(e,n,i){c=!0,document.title=n,u?history.replaceState({state:e,title:n,url:i,id:r},n,i):(this.position<0&&(this.position=0),t(this,this.position,"undefined"!=typeof r?r:s("history"),e,n,i))},dispose:function(){this.onPopState&&(u?window.removeEventListener("popstate",this.onPopState,!1):window.detachEvent?window.detachEvent("onhashchange",this.onPopState):window.removeEventListener("hashchange",this.onPopState,!1)),o.prototype.dispose.call(this)}});return f.init=function(e){return i||(e&&f.overrideStandardsMode(),i=new f),i},f.push=function(){f.init().push.apply(i,arguments)},f.replace=function(){f.init().replace.apply(i,arguments)},f.back=function(){history.back()},f.forward=function(){history.forward()},f.dispose=function(){i&&(i.dispose(),i=null)},f.on=function(){return f.init().on.apply(i,arguments)},f.off=function(){return f.init().off.apply(i,arguments)},f.overrideStandardsMode=function(){u=!1},f.animationBreadcrumb=[],f.isRoutingBack=!1,f}),define("lavaca/storage/Store",["require","lavaca/util/Disposable"],function(e){function t(){throw"Not implemented"}var n=e("lavaca/util/Disposable"),i=n.extend(function(e){this.id=e},{get:function(){t()},set:function(){t()},remove:function(){t()},all:function(){t()}});return i}),define("docCookies",[],function(){var e=window.escape,t=window.unescape,n={getItem:function(n){return t(document.cookie.replace(new RegExp("(?:(?:^|.*;\\s*)"+e(n).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*)|.*"),"$1"))||null},setItem:function(t,n,i,r,o,s){if(!t||/^(?:expires|max\-age|path|domain|secure)$/i.test(t))return!1;
var a="";if(i)switch(i.constructor){case Number:a=1/0===i?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+i;break;case String:a="; expires="+i;break;case Date:a="; expires="+i.toGMTString()}return document.cookie=e(t)+"="+e(n)+a+(o?"; domain="+o:"")+(r?"; path="+r:"")+(s?"; secure":""),!0},removeItem:function(t,n){return t&&this.hasItem(t)?(document.cookie=e(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(n?"; path="+n:""),!0):!1},hasItem:function(t){return new RegExp("(?:^|;\\s*)"+e(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function(){for(var e=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),n=0;n<e.length;n++)e[n]=t(e[n]);return e}};return n}),define("lavaca/storage/LocalStore",["require","./Store","docCookies","lavaca/util/ArrayUtils"],function(e){function t(e){s.setItem(e.id+"@manifest",JSON.stringify(e.manifest))}var n=e("./Store"),i=e("docCookies"),r=e("lavaca/util/ArrayUtils"),o=function(e){var t="qeTest";if(!e)return!1;try{return e.setItem(t,"1"),e.removeItem(t),!0}catch(n){return!1}}(window.localStorage),s=o?localStorage:i,a=n.extend(function(e){n.call(this,e),this.manifest=JSON.parse(s.getItem(this.id+"@manifest")||"[]")},{key:function(e){return this.id+":"+e},get:function(e){var t,n=s.getItem(this.key(e));if(n)try{return t=JSON.parse(n)}catch(i){return n}return null},set:function(e,n){s.setItem(this.key(e),JSON.stringify(n)),r.pushIfNotExists(this.manifest,e),t(this)},remove:function(e){s.removeItem(this.key(e)),r.remove(this.manifest,e),t(this)},all:function(){for(var e,t=[],n=-1;e=this.manifest[++n];)t.push(this.get(e));return t}});return a}),define("lavaca/ui/DustTemplate",["require","dust","lavaca/ui/Template","lavaca/util/Config","lavaca/util/Promise","lavaca/util/StringUtils","lavaca/util/Translation","dust-helpers"],function(e){var t=e("dust"),n=e("lavaca/ui/Template"),i=e("lavaca/util/Config"),r=e("lavaca/util/Promise"),o=e("lavaca/util/StringUtils"),s=e("lavaca/util/Translation");e("dust-helpers");var a=n.extend(function(){n.apply(this,arguments);var e,i=this.prepareHelpers();t.helpers||(t.helpers=[]);for(e in i)t.helpers[e]=i[e]},{prepareHelpers:function(){return{msg:this.helperMsg,include:this.helperInclude,config:this.helperConfig}},helperMsg:function(e,n,i,r){var a,u=t.helpers.tap(r.key,e,n),c=t.helpers.tap(r.locale,e,n),l=s.get(u,c),f=[l],h=-1;if(!l)return i.block?e.render(i.block,n):e;for(a=r["p"+ ++h];"undefined"!=typeof a;)f.push(t.helpers.tap(a,e,n)),a=r["p"+ ++h];return e.write(o.format.apply(this,f))},helperInclude:function(e,i,r,o){var s,a=t.helpers.tap(o.name,e,i);return n.render(a,i.stack.head).then(function(e){s=e}),e.write(s)},helperConfig:function(e,n,r,s){var a,u,c=t.helpers.tap(s.key,e,n),l=t.helpers.tap(s.environment,e,n),f=l?i.get(l,c):i.get(c),h=[f],d=-1;if(s.only||s.not)return a=i.currentEnvironment(),s.only&&a===s.only||s.not&&a!==s.not?r.block?e.render(r.block,n):e:r["else"]?e.render(r["else"],n):e;if(!f)return r.block?e.render(r.block,n):e;for(u=s["p"+ ++d];"undefined"!=typeof u;)h.push(t.helpers.tap(u,e,n)),u=s["p"+ ++d];return e.write(o.format.apply(this,h))},compile:function(){n.prototype.compile.call(this),t.loadSource(t.compile(this.code,this.name))},render:function(e){var n=new r(this);return!this.code&&this.src&&this.load(this.src),this.code&&!this.compiled&&(this.compile(),this.compiled=!0),t.render(this.name,e,function(e,t){e?n.reject(e):n.resolve(t)}),n},dispose:function(){delete t.cache[this.name],n.prototype.dispose.call(this)}});return a.getCompiledTemplates=function(){return t.cache},n.register("text/dust-template",a),a}),define("lavaca/ui/Widget",["require","$","lavaca/events/EventDispatcher","lavaca/util/uuid"],function(e){var t=e("$"),n=e("lavaca/events/EventDispatcher"),i=e("lavaca/util/uuid"),r=n.extend(function(e){n.call(this),this.el=e=t(e);var r=e.attr("id");r||(r="widget-"+i()),this.id=r});return r}),define("lavaca/ui/Form",["require","$","lavaca/ui/Widget","lavaca/util/Promise"],function(e){function t(e){return e?null:"error_required"}function n(e,t){if(e){var n=new RegExp(t.attr("pattern"));if(!n.test(e))return"error_pattern"}return null}function i(e){return e&&!/^\w+@\w+(\.\w+)*\.\w+$/.test(e)?"error_email":null}function r(e){return e&&!/^\d?(\d{3})?\d{7}$/.test(e.replace(/\D/g,""))?"error_email":null}function o(e){return e&&!/^\d+(\.\d+)?$/.test(e)?"error_number":null}function s(e){return e&&!/^https?:\/\/\w+(\.\w+)*\.\w(:\d+)?\/\S+$/.test(e)?"error_url":null}var a=e("$"),u=e("lavaca/ui/Widget"),c=e("lavaca/util/Promise"),l=u.extend(function(){u.apply(this,arguments);var e=this;this.pendingSync={},this._onChangeInput=function(t){e.onChangeInput(t)},this._onSubmit=function(t){e.onSubmit(t)},this.el.on("submit",this._onSubmit),this.addRule(this.defaultRules())},{onSubmit:function(e){e.preventDefault(),this.validate().success(this.onSubmitSuccess).error(this.onSubmitError)},onSubmitSuccess:function(){},onSubmitError:function(){},onChangeInput:function(e){if(this.model){var t=a(e.target),n=t.attr("name"),i=t.val();this.pendingSync[n]=!0,this.model.set(n,i),this.pendingSync[n]=!1}},onChangeModel:function(e){this.pendingSync[e.attribute]||this.set(e.attribute,e.value)},bind:function(e){this.unbind(),this.model=e,e.on("change",this.onChangeModel,this),this.el.on("change",this._onChangeInput)},unbind:function(){this.model&&(this.el.off("change",this._onChangeInput),this.model.off("change",this.onchangeModel,this),this.model=null)},input:function(e){return this.el.find("input, select, textarea").filter('[name="'+e+'"]')},get:function(e){return this.input(e).val()},set:function(e,t){this.input(e).val(t||null)},defaultRules:function(){return{"[required]":t,"[pattern]":n,"[type=email]":i,"[type=tel]":r,"[type=number]":o,"[type=url]":s}},addRule:function(e,t){if(this.rules||(this.rules=[]),"object"==typeof e)for(var n in e)this.addRule(n,e[n]);else this.rules.push({selector:e,callback:t})},values:function(){for(var e,t,n,i,r,o=this.el.find("input, select, textarea"),s={},u=-1;e=o[++u];)e=a(e),r=e.attr("type"),("radio"!==r&&"checkbox"!==r||e[0].checked)&&(t=e.attr("name"),n=s[t],i=e.val(),n instanceof Array?n.push(i):s[t]=void 0!==n?[n,i]:i);return s},validate:function(e,t,n){e&&"function"!=typeof e&&(n=e,e=null),n&&(n=a(n));for(var i,r,o,s,u,l,f,h,d,p=null,v=new c(this),m=-1;r=this.rules[++m];)for(o=n?n.filter(r.selector):this.el.find(r.selector),i=-1;s=o[++i];)s=a(s),d=s.val(),u=r.callback.call(this,d,s,this),u&&(l=s.attr("name"),p||(p={}),p[l]||(h=s.attr("id"),f=null,h&&(f=this.el.find('label[for="'+h+'"]').text()),p[l]={id:h,name:l,label:f,el:s,value:d,messages:[]}),p[l].messages.push(u));return p?v.reject(p):v.resolve(this.values()),v.error(function(e){this.trigger("invalid",{inputs:e})}).success(function(e){this.trigger("valid",e)}).success(e).error(t)},dispose:function(){this.unbind(),u.prototype.dispose.call(this)}});return l.withSubmit=function(e,t){return l.extend({onSubmitSuccess:function(t){e.call(this,t)},onSubmitError:function(e){t.call(this,e)}})},l}),define("lavaca/ui/Widget",["require","$","lavaca/events/EventDispatcher","lavaca/util/uuid"],function(e){var t=e("$"),n=e("lavaca/events/EventDispatcher"),i=e("lavaca/util/uuid"),r=n.extend(function(e){n.call(this),this.el=e=t(e);var r=e.attr("id");r||(r="widget-"+i()),this.id=r});return r}),define("lavaca/ui/LoadingIndicator",["require","$","./Widget"],function(e){var t=e("$"),n=e("./Widget"),i=n.extend({className:"loading",show:function(){this.el.addClass(this.className)},hide:function(){this.el.removeClass(this.className)}});return i.init=function(e){function n(){o.show()}function r(){o.hide()}e=e||i;var o=new e(document.body);return t(document).on("ajaxStart",n).on("ajaxStop",r).on("ajaxError",r),o},i.init()}),define("lavaca/ui/Template",["require","lavaca/util/Cache","lavaca/util/Map"],function(e){var t=e("lavaca/util/Cache"),n=e("lavaca/util/Map"),i=new t,r=[],o=n.extend({compile:function(){},render:function(){throw"Abstract"},process:function(e){this.code=e}});return o.get=function(e){return i.get(e)},o.init=function(e){for(var t,o,s,a,u=-1;t=r[++u];){var c=function(e,n,i){return new t.js(e,n,i)};if("function"==typeof t.js.getCompiledTemplates){o=t.js.getCompiledTemplates();for(s in o)a=c(s,null,o[s]),a.compiled=!0,i.set(s,a)}t.mime&&n.init(i,t.mime,c,e)}},o.dispose=function(){n.dispose(i)},o.render=function(e,t){var n=o.get(e);if(n)return n.render(t);throw'No template named "'+e+'"'},o.register=function(e,t){"function"==typeof e&&(t=e,e=null),r[r.length]={mime:e,js:t}},o}),define("lavaca/util/ArrayUtils",[],function(){var e={};return e.indexOf=function(e,t){if(e){if(e.indexOf)return e.indexOf(t);for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1}return-1},e.contains=function(t,n){return e.indexOf(t,n)>-1},e.remove=function(t,n){var i=e.indexOf(t,n);return i>-1&&t.splice(i,1),i},e.pushIfNotExists=function(t,n){var i=e.indexOf(t,n);return-1===i&&(t[i=t.length]=n),i},e.isArray=function(e){return"function"===Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},e}),define("lavaca/util/Cache",["require","lavaca/util/Disposable","lavaca/util/uuid"],function(e){var t=e("lavaca/util/Disposable"),n=e("lavaca/util/uuid"),i=t.extend({get:function(e,t){var n=this["@"+e];return void 0===n&&void 0!==t&&(n=this["@"+e]=t),void 0===n?null:n},set:function(e,t){this["@"+e]=t},add:function(e){var t=n();return this.set(t,e),t},remove:function(e){delete this["@"+e]},each:function(e,t){var n,i;for(n in this)if(this.hasOwnProperty(n)&&0===n.indexOf("@")&&(i=e.call(t||this,n.slice(1),this[n]),i===!1))break},toObject:function(){var e={};return this.each(function(t,n){e[t]=n&&"function"==typeof n.toObject?n.toObject():n}),e},toJSON:function(){return JSON.stringify(this.toObject())},toArray:function(){var e=[];return e.ids=[],this.each(function(t,n){e.push("function"==typeof n.toObject?n.toObject():n),e.ids.push(t)}),e},clear:function(){this.each(function(e){this.remove(e)},this)},count:function(){var e=0;return this.each(function(){e++},this),e},dispose:function(){this.clear(),t.prototype.dispose.apply(this,arguments)}});return i}),define("lavaca/util/extend",[],function(){var e=function(t,n,i){function r(){}if("object"==typeof t?(i=t,t=Object,n=function(){}):"object"==typeof n&&(i=n,n=t,t=Object),r.prototype=t.prototype,n.prototype=new r,n.prototype.constructor=n,i)for(var o in i)n.prototype[o]=i[o];return n.extend=function(t,i){return"object"==typeof t&&(i=t,t=function(){n.apply(this,arguments)}),e(n,t,i),t},n};return e}),define("lavaca/util/Disposable",["require","./extend"],function(e){function t(e){var n,i,r;for(n in e)if(e.hasOwnProperty(n)&&(i=e[n]))if("object"==typeof i&&"function"==typeof i.dispose)i.dispose();else if(i instanceof Array)for(r=i.length-1;r>-1;r--)i[r]&&"function"==typeof i[r].dispose?i[r].dispose():t(i[r])}var n=e("./extend"),i=n({dispose:function(){t(this)}});return i}),define("lavaca/util/Map",["require","$","./Cache","./Disposable","lavaca/net/Connectivity"],function(e){function t(e){return e&&0!==e.indexOf("http")&&(e="/"===e.charAt(0)?location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")+(0===e.indexOf("/")?e:"/"+e):location.toString().split("#")[0].split("?")[0].replace(/\w+\.\w+$/,"")+e),e}var n=e("$"),i=e("./Cache"),r=e("./Disposable"),o=e("lavaca/net/Connectivity"),s=r.extend(function(e,n,o){r.call(this),this.hasLoaded=!1,this.name=e,this.src=t(n),this.code=o,this.cache=new i},{is:function(e){return this.name===e},get:function(e){return this.hasLoaded||(this.code?this.add(this.code):this.src&&this.load(this.src),this.hasLoaded=!0),this.cache.get(e)},add:function(e){for(var t in e)this.cache.set(t,e[t])},process:function(e){this.add("string"==typeof e?JSON.parse(e):e)},load:function(e){var t=this;o.ajax({async:!1,url:e,success:function(e){t.process(e)}})}});return s.setDefault=function(e,t){var n=t;"string"==typeof n&&(n=e.get(t)),e.set("default",n)},s.get=function(e,t,n,i){if(n||(n=t,t=i),t){var r=e.get(t);if(r)return r.get(n)}return null},s.init=function(e,t,i,r){n(r||document.documentElement).find('script[type="'+t+'"]').each(function(){var t,r=n(this),o=r.attr("data-src"),a=r.attr("data-name"),u="string"==typeof r.attr("data-default"),c=r.text();t=i(a,o,c),e.set(t.name,t),u&&s.setDefault(e,a)})},s.dispose=function(e){e.dispose()},s}),define("lavaca/util/Config",["require","./Cache","./Map"],function(e){function t(e,t,n){return n&&(n=JSON.parse(n)),new o(e,t,n)}var n=e("./Cache"),i=e("./Map"),r=new n,o=i.extend({});return o.setDefault=function(e){i.setDefault(r,e)},o.currentEnvironment=function(){return r.get("default").name},o.get=function(e,t){return i.get(r,e,t,"default")},o.init=function(e){i.init(r,"text/x-config",t,e)},o.dispose=function(){i.dispose(r)},o.init(),o}),define("lavaca/util/Translation",["require","./Cache","./Map"],function(e){function t(e,t,n){n&&(n=JSON.parse(n));var i=new o(e,t,n);return r.get(i.language)||r.set(i.language,i),i}var n=e("./Cache"),i=e("./Map"),r=new n,o=i.extend(function(e){i.apply(this,arguments);var t=e.toLowerCase().split("_");this.language=t[0],this.country=t[1]||"",this.locale=this.country?this.language+"_"+this.country:this.language},{is:function(e,t){return!(e!==this.language||t&&this.country&&t!==this.country)}});return o.setDefault=function(e){r.remove("default"),i.setDefault(r,o.forLocale(e))},o.forLocale=function(e){return e=(e||"default").toLowerCase(),r.get(e)||r.get(e.split("_")[0])||r.get("default")},o.get=function(e,t){t||(t=e,e="default");var n=o.forLocale(e),i=null;return n&&(i=n.get(t)),null===i&&(n=o.forLocale(e.split("_")[0]),n&&(i=n.get(t))),null===i&&(n=o.forLocale("default"),n&&(i=n.get(t))),i},o.init=function(e,n){i.init(r,"text/x-translation",t,n),o.setDefault(e)},o.dispose=function(){i.dispose(r)},o}),define("lavaca/util/DateUtils",["require","./Translation"],function(e){function t(e){return parseInt(e,10)}function n(e,t){e=e.toLowerCase();for(var n,i=-1;n=t[++i];)if(e===n.toLowerCase()||e===r(n).toLowerCase())return i-1;throw'Invalid code "'+n+'"'}function i(e,t,n){var i=0>e?"-":"";for(n=n||"0",e=Math.abs(e).toString();t-e.length>0;)e=n+e;return i+e}function r(e){return a.get(e)}function o(e){for(var t,n,i=[],r="",o=-1;n=e.charAt(++o);)t=r.charAt(0),t===n||'"'===t||"'"===t?(r+=n,('"'===t&&'"'===n||"'"===t&&"'"===n)&&(i.push(r),r="")):(r&&i.push(r),r=n);return r&&i.push(r),i}function s(e){for(var t,n,i=["^"],r=-1;t=e[++r];)n=u.fn[t],n?i.push("(",n.exp,")"):i.push("(",t.replace(/(^")|(^')|('$)|("$)/g,"").replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),")");return i.push("$"),new RegExp(i.join(""))}var a=e("./Translation"),u={};return u.timeOfDayDesignatorAbbr=["A","P"],u.timeOfDayDesignator=["AM","PM"],u.daysOfWeekAbbr=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],u.daysOfWeek=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],u.monthsAbbr=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],u.months=["January","February","March","April","May","June","July","August","September","October","November","December"],u.fn={d:{exp:"\\d{1,2}",i:function(e,n){n.date=t(e)},o:function(e,t){return(t?e.getUTCDate():e.getDate()).toString()}},dd:{exp:"\\d{2}",i:function(e,n){n.date=t(e)},o:function(e,t){return i(u.fn.d.o(e,t),2)}},ddd:{exp:"[a-z]{3}",i:function(){},o:function(e,t){return r(u.daysOfWeekAbbr[t?e.getUTCDay():e.getDay()])}},dddd:{exp:"[a-z]+",i:function(){},o:function(e,t){return r(u.daysOfWeek[t?e.getUTCDay():e.getDay()])}},f:{exp:"\\d",i:function(e,n){n.ms=100*t(e)},o:function(e,t,n){return n=n||100,i(Math.floor((t?e.getUTCMilliseconds():e.getMilliseconds())/n),3-n.toString().length)}},ff:{exp:"\\d{2}",i:function(e,n){n.ms=10*t(e)},o:function(e,t){return i(u.fn.f.o(e,t,10),2)}},fff:{exp:"\\d{3}",i:function(e,n){n.ms=t(e,10)},o:function(e,t){return i(u.fn.f.o(e,t,1),3)}},h:{exp:"1?\\d",i:function(e,n,i){var r=t(e)-1,o=0===(i.t||i.tt||"A").indexOf("A")?0:12;n.hour=r+o},o:function(e,t){return((t?e.getUTCHours():e.getHours())%12+1).toString()}},hh:{exp:"[0-1]\\d",i:function(e,t,n){u.fn.h.i(e,t,n)},o:function(e,t){return i(u.fn.h.o(e,t),2)}},H:{exp:"[0-2]?\\d",i:function(e,n){n.hour=t(e)},o:function(e,t){return(t?e.getUTCHours():e.getHours()).toString()}},HH:{exp:"[0-2]\\d",i:function(e,n){n.hour=t(e)},o:function(e,t){return i(u.fn.H.o(e,t),2)}},m:{exp:"[1-5]?\\d",i:function(e,n){n.minute=t(e)},o:function(e,t){return(t?e.getUTCMinutes():e.getMinutes()).toString()}},mm:{exp:"[0-5]\\d",i:function(e,t,n){u.fn.m.i(e,t,n)},o:function(e,t){return i(u.fn.m.o(e,t),2)}},M:{exp:"1?\\d",i:function(e,n){n.month=t(e)-1},o:function(e,t){return((t?e.getUTCMonth():e.getMonth())+1).toString()}},MM:{exp:"[0-1]\\d",i:function(e,t,n){u.fn.M.i(e,t,n)},o:function(e,t){return i(u.fn.M.o(e,t),2)}},MMM:{exp:"[a-z]{3}",i:function(e,t){t.month=n(e,u.monthsAbbr)},o:function(e,t){return r(u.monthsAbbr[t?e.getUTCMonth():e.getMonth()])}},MMMM:{exp:"[a-z]+",i:function(e,t){t.month=n(e,u.months)},o:function(e,t){return r(u.months[t?e.getUTCMonth():e.getMonth()])}},s:{exp:"[1-5]?\\d",i:function(e,n){n.second=t(e)},o:function(e,t){return(t?e.getUTCSeconds():e.getSeconds()).toString()}},ss:{exp:"[0-5]\\d",i:function(e,t,n){u.fn.s.i(e,t,n)},o:function(e,t){return i(u.fn.s.o(e,t),2)}},t:{exp:"[a-z]",i:function(){},o:function(e,t){return r(u.timeOfDayDesignatorAbbr[Math.floor((t?e.getUTCHours():e.getHours())/12)])}},tt:{exp:"[a-z]+",i:function(){},o:function(e,t){return r(u.timeOfDayDesignator[Math.floor((t?e.getUTCHours():e.getHours())/12)])}},y:{exp:"\\d?\\d",i:function(e,n){n.year=(new Date).getFullYear()%100+t(e)},o:function(e,t){return((t?e.getUTCFullYear():e.getFullYear())%100).toString()}},yy:{exp:"\\d{2}",i:function(e,t,n){u.fn.y.i(e,t,n)},o:function(e,t){return i(u.fn.y.o(e,t),2)}},yyy:{exp:"\\d*\\d{3}",i:function(e,n){n.year=t(e)},o:function(e,t){return i(t?e.getUTCFullYear():e.getFullYear(),3)}},yyyy:{exp:"\\d*\\d{4}",i:function(e,t,n){u.fn.yyy.i(e,t,n)},o:function(e,t){return i(t?e.getUTCFullYear():e.getFullYear(),4)}},z:{exp:"[-+]?1?\\d",i:function(e,n){n.offset=60*t(e)},o:function(e,t){var n=e.getTimezoneOffset(),r=Math.floor(Math.abs(n/60));return(0>n?"-":"+")+i(r,t)}},zz:{exp:"[-+]?[0-1]\\d",i:function(e,t,n){u.fn.z.i(e,t,n)},o:function(e){return u.fn.z.o(e,2)}},zzz:{exp:"[-+]?[0-1]\\d:\\d{2}",i:function(e,n){var i=e.split(":");n.offset=60*t(i[0])+t(i[1])},o:function(e){var t=e.getTimezoneOffset(),n=t>0?"-":"+",r=t%60,o=Math.abs((t-r)/60);return n+i(o,2)+":"+i(Math.abs(r),2)}}},u.parse=function(e,t){var n,r,a,c=o(t),l=s(c),f={year:0,month:0,date:1,hour:0,minute:0,second:0,ms:0,offset:0},h={},d=-1;if(l.test(e))for(r=l.exec(e);n=c[++d];)h[n]=r[d+1];for(n in h)a=u.fn[n],a&&a.i(h[n],f,h);return new Date(u.monthsAbbr[f.month]+" "+i(f.date,2)+" "+i(f.year,4)+" "+i(f.hour,2)+":"+i(f.minute,2)+":"+i(f.second,2)+(f.ms>0?"."+i(f.ms,3):"")+(f.offset>=0?"+":"-")+i(Math.floor(Math.abs(f.offset/60)),2)+i(Math.abs(f.offset%60),2))},u.stringify=function(e,t,n){for(var i,r,s=o(t),a=-1,c=[];i=s[++a];)r=u.fn[i],r?c.push(r.o(e,n)):c.push(i.replace(/(^")|(^')|('$)|("$)/g,""));return c.join("")},u}),define("lavaca/util/Promise",["require","./extend"],function(e){var t=e("./extend"),n=t(function(e){this.thisp=e,this.resolvedQueue=[],this.rejectedQueue=[]},{succeeded:!1,failed:!1,success:function(e){return e&&(this.succeeded?e.apply(this.thisp,this.resolveArgs):this.resolvedQueue.push(e)),this},error:function(e){return e&&(this.failed?e.apply(this.thisp,this.rejectArgs):this.rejectedQueue.push(e)),this},always:function(e){return this.then(e,e)},then:function(e,t){return this.success(e).error(t)},resolve:function(){if(!this.succeeded&&!this.failed){this.succeeded=!0,this.resolveArgs=[].slice.call(arguments,0);for(var e,t=-1;e=this.resolvedQueue[++t];)e.apply(this.thisp,this.resolveArgs)}return this},reject:function(){if(!this.succeeded&&!this.failed){this.failed=!0,this.rejectArgs=[].slice.call(arguments,0);for(var e,t=-1;e=this.rejectedQueue[++t];)e.apply(this.thisp,this.rejectArgs)}return this},when:function(){for(var e,t=this,n=[],i=-1,r=arguments.length;e=arguments[++i];)!function(i){e.success(function(e){n[i]=e,--r<1&&t.resolve.apply(t,n)}).error(function(){t.reject.apply(t,arguments)})}(i);return e=null,this},resolver:function(){var e=this;return function(){e.resolve.apply(e,arguments)}},rejector:function(){var e=this;return function(){e.reject.apply(e,arguments)}}});return n.when=function(e){var t=e instanceof n,i=new n(t?window:e),r=[].slice.call(arguments,t?0:1);return i.when.apply(i,r)},n}),define("lavaca/util/StringUtils",["require"],function(){function e(e){return e}var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;"},n={};return n.format=function(t){var n,i,r,o=e;for(arguments[1]instanceof Array?(n=arguments[1],o=arguments[2]||e):n=[].slice.call(arguments,1),i=0,r=n.length;r>i;i++)t=t.split("{"+i+"}").join(o(n[i]+""));return t},n.escapeHTML=function(e){e=""+e;for(var n in t)e=e.split(n).join(t[n]);return e},n}),define("lavaca/util/delay",[],function(){var e=function(e,t,n){return setTimeout(function(){e.call(t)},n||0)};return e}),define("lavaca/util/log",[],function(){var e=function(){window.console?console.log.apply(console,arguments):alert([].join.call(arguments," "))};return e}),define("lavaca/util/resolve",[],function(){var e=function(e,t,n){if(!e)return null;e=e.split(".");for(var i,r=n||window,o=n||window,s=-1;i=e[++s];){if(o=o[i],!o){if(!t)return null;o=r[i]={}}r=o}return o};return e}),define("lavaca/util/uuid",[],function(){var e={},t=function(t){return t=t||"__defaultNS","number"!=typeof e[t]&&(e[t]=0),e[t]++};return t})}(),/*!
 * jQuery JavaScript Library v2.0.3
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-07-03T13:30Z
 */
function(e,t){function n(e){var t=e.length,n=ot.type(e);return ot.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}function i(e){var t=pt[e]={};return ot.each(e.match(at)||[],function(e,n){t[n]=!0}),t}function r(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=ot.expando+Math.random()}function o(e,n,i){var r;if(i===t&&1===e.nodeType)if(r="data-"+n.replace(yt,"-$1").toLowerCase(),i=e.getAttribute(r),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:gt.test(i)?JSON.parse(i):i}catch(o){}vt.set(e,n,i)}else i=t;return i}function s(){return!0}function a(){return!1}function u(){try{return U.activeElement}catch(e){}}function c(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function l(e,t,n){if(ot.isFunction(t))return ot.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return ot.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(Ot.test(t))return ot.filter(t,e,n);t=ot.filter(t,e)}return ot.grep(e,function(e){return tt.call(t,e)>=0!==n})}function f(e,t){return ot.nodeName(e,"table")&&ot.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function h(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function d(e){var t=Ht.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function p(e,t){for(var n=e.length,i=0;n>i;i++)mt.set(e[i],"globalEval",!t||mt.get(t[i],"globalEval"))}function v(e,t){var n,i,r,o,s,a,u,c;if(1===t.nodeType){if(mt.hasData(e)&&(o=mt.access(e),s=mt.set(t,o),c=o.events)){delete s.handle,s.events={};for(r in c)for(n=0,i=c[r].length;i>n;n++)ot.event.add(t,r,c[r][n])}vt.hasData(e)&&(a=vt.access(e),u=ot.extend({},a),vt.set(t,u))}}function m(e,n){var i=e.getElementsByTagName?e.getElementsByTagName(n||"*"):e.querySelectorAll?e.querySelectorAll(n||"*"):[];return n===t||n&&ot.nodeName(e,n)?ot.merge([e],i):i}function g(e,t){var n=t.nodeName.toLowerCase();"input"===n&&It.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function y(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,r=Zt.length;r--;)if(t=Zt[r]+n,t in e)return t;return i}function w(e,t){return e=t||e,"none"===ot.css(e,"display")||!ot.contains(e.ownerDocument,e)}function b(t){return e.getComputedStyle(t,null)}function x(e,t){for(var n,i,r,o=[],s=0,a=e.length;a>s;s++)i=e[s],i.style&&(o[s]=mt.get(i,"olddisplay"),n=i.style.display,t?(o[s]||"none"!==n||(i.style.display=""),""===i.style.display&&w(i)&&(o[s]=mt.access(i,"olddisplay",j(i.nodeName)))):o[s]||(r=w(i),(n&&"none"!==n||!r)&&mt.set(i,"olddisplay",r?n:ot.css(i,"display"))));for(s=0;a>s;s++)i=e[s],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?o[s]||"":"none"));return e}function T(e,t,n){var i=zt.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function E(e,t,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===t?1:0,s=0;4>o;o+=2)"margin"===n&&(s+=ot.css(e,n+Gt[o],!0,r)),i?("content"===n&&(s-=ot.css(e,"padding"+Gt[o],!0,r)),"margin"!==n&&(s-=ot.css(e,"border"+Gt[o]+"Width",!0,r))):(s+=ot.css(e,"padding"+Gt[o],!0,r),"padding"!==n&&(s+=ot.css(e,"border"+Gt[o]+"Width",!0,r)));return s}function C(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,o=b(e),s=ot.support.boxSizing&&"border-box"===ot.css(e,"boxSizing",!1,o);if(0>=r||null==r){if(r=Ft(e,t,o),(0>r||null==r)&&(r=e.style[t]),Jt.test(r))return r;i=s&&(ot.support.boxSizingReliable||r===e.style[t]),r=parseFloat(r)||0}return r+E(e,t,n||(s?"border":"content"),i,o)+"px"}function j(e){var t=U,n=Yt[e];return n||(n=S(e,t),"none"!==n&&n||(Wt=(Wt||ot("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(Wt[0].contentWindow||Wt[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=S(e,t),Wt.detach()),Yt[e]=n),n}function S(e,t){var n=ot(t.createElement(e)).appendTo(t.body),i=ot.css(n[0],"display");return n.remove(),i}function k(e,t,n,i){var r;if(ot.isArray(t))ot.each(t,function(t,r){n||tn.test(e)?i(e,r):k(e+"["+("object"==typeof r?t:"")+"]",r,n,i)});else if(n||"object"!==ot.type(t))i(e,t);else for(r in t)k(e+"["+r+"]",t[r],n,i)}function O(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match(at)||[];if(ot.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function M(e,t,n,i){function r(a){var u;return o[a]=!0,ot.each(e[a]||[],function(e,a){var c=a(t,n,i);return"string"!=typeof c||s||o[c]?s?!(u=c):void 0:(t.dataTypes.unshift(c),r(c),!1)}),u}var o={},s=e===wn;return r(t.dataTypes[0])||!o["*"]&&r("*")}function A(e,n){var i,r,o=ot.ajaxSettings.flatOptions||{};for(i in n)n[i]!==t&&((o[i]?e:r||(r={}))[i]=n[i]);return r&&ot.extend(!0,e,r),e}function N(e,n,i){for(var r,o,s,a,u=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),r===t&&(r=e.mimeType||n.getResponseHeader("Content-Type"));if(r)for(o in u)if(u[o]&&u[o].test(r)){c.unshift(o);break}if(c[0]in i)s=c[0];else{for(o in i){if(!c[0]||e.converters[o+" "+c[0]]){s=o;break}a||(a=o)}s=s||a}return s?(s!==c[0]&&c.unshift(s),i[s]):void 0}function D(e,t,n,i){var r,o,s,a,u,c={},l=e.dataTypes.slice();if(l[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(o=l.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=l.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(s=c[u+" "+o]||c["* "+o],!s)for(r in c)if(a=r.split(" "),a[1]===o&&(s=c[u+" "+a[0]]||c["* "+a[0]])){s===!0?s=c[r]:c[r]!==!0&&(o=a[0],l.unshift(a[1]));break}if(s!==!0)if(s&&e["throws"])t=s(t);else try{t=s(t)}catch(f){return{state:"parsererror",error:s?f:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}function q(){return setTimeout(function(){On=t}),On=ot.now()}function P(e,t,n){for(var i,r=(Pn[t]||[]).concat(Pn["*"]),o=0,s=r.length;s>o;o++)if(i=r[o].call(n,t,e))return i}function V(e,t,n){var i,r,o=0,s=qn.length,a=ot.Deferred().always(function(){delete u.elem}),u=function(){if(r)return!1;for(var t=On||q(),n=Math.max(0,c.startTime+c.duration-t),i=n/c.duration||0,o=1-i,s=0,u=c.tweens.length;u>s;s++)c.tweens[s].run(o);return a.notifyWith(e,[c,o,n]),1>o&&u?n:(a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:ot.extend({},t),opts:ot.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:On||q(),duration:n.duration,tweens:[],createTween:function(t,n){var i=ot.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)c.tweens[n].run(1);return t?a.resolveWith(e,[c,t]):a.rejectWith(e,[c,t]),this}}),l=c.props;for(I(l,c.opts.specialEasing);s>o;o++)if(i=qn[o].call(c,e,l,c.opts))return i;return ot.map(l,P,c),ot.isFunction(c.opts.start)&&c.opts.start.call(e,c),ot.fx.timer(ot.extend(u,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function I(e,t){var n,i,r,o,s;for(n in e)if(i=ot.camelCase(n),r=t[i],o=e[n],ot.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),s=ot.cssHooks[i],s&&"expand"in s){o=s.expand(o),delete e[i];for(n in o)n in e||(e[n]=o[n],t[n]=r)}else t[i]=r}function L(e,n,i){var r,o,s,a,u,c,l=this,f={},h=e.style,d=e.nodeType&&w(e),p=mt.get(e,"fxshow");i.queue||(u=ot._queueHooks(e,"fx"),null==u.unqueued&&(u.unqueued=0,c=u.empty.fire,u.empty.fire=function(){u.unqueued||c()}),u.unqueued++,l.always(function(){l.always(function(){u.unqueued--,ot.queue(e,"fx").length||u.empty.fire()})})),1===e.nodeType&&("height"in n||"width"in n)&&(i.overflow=[h.overflow,h.overflowX,h.overflowY],"inline"===ot.css(e,"display")&&"none"===ot.css(e,"float")&&(h.display="inline-block")),i.overflow&&(h.overflow="hidden",l.always(function(){h.overflow=i.overflow[0],h.overflowX=i.overflow[1],h.overflowY=i.overflow[2]}));for(r in n)if(o=n[r],An.exec(o)){if(delete n[r],s=s||"toggle"===o,o===(d?"hide":"show")){if("show"!==o||!p||p[r]===t)continue;d=!0}f[r]=p&&p[r]||ot.style(e,r)}if(!ot.isEmptyObject(f)){p?"hidden"in p&&(d=p.hidden):p=mt.access(e,"fxshow",{}),s&&(p.hidden=!d),d?ot(e).show():l.done(function(){ot(e).hide()}),l.done(function(){var t;mt.remove(e,"fxshow");for(t in f)ot.style(e,t,f[t])});for(r in f)a=P(d?p[r]:0,r,l),r in p||(p[r]=a.start,d&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function R(e,t,n,i,r){return new R.prototype.init(e,t,n,i,r)}function H(e,t){var n,i={height:e},r=0;for(t=t?1:0;4>r;r+=2-t)n=Gt[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function $(e){return ot.isWindow(e)?e:9===e.nodeType&&e.defaultView}var _,F,W=typeof t,B=e.location,U=e.document,z=U.documentElement,J=e.jQuery,X=e.$,Y={},Q=[],K="2.0.3",G=Q.concat,Z=Q.push,et=Q.slice,tt=Q.indexOf,nt=Y.toString,it=Y.hasOwnProperty,rt=K.trim,ot=function(e,t){return new ot.fn.init(e,t,_)},st=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,at=/\S+/g,ut=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ct=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,lt=/^-ms-/,ft=/-([\da-z])/gi,ht=function(e,t){return t.toUpperCase()},dt=function(){U.removeEventListener("DOMContentLoaded",dt,!1),e.removeEventListener("load",dt,!1),ot.ready()};ot.fn=ot.prototype={jquery:K,constructor:ot,init:function(e,n,i){var r,o;if(!e)return this;if("string"==typeof e){if(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:ut.exec(e),!r||!r[1]&&n)return!n||n.jquery?(n||i).find(e):this.constructor(n).find(e);if(r[1]){if(n=n instanceof ot?n[0]:n,ot.merge(this,ot.parseHTML(r[1],n&&n.nodeType?n.ownerDocument||n:U,!0)),ct.test(r[1])&&ot.isPlainObject(n))for(r in n)ot.isFunction(this[r])?this[r](n[r]):this.attr(r,n[r]);return this}return o=U.getElementById(r[2]),o&&o.parentNode&&(this.length=1,this[0]=o),this.context=U,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ot.isFunction(e)?i.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),ot.makeArray(e,this))},selector:"",length:0,toArray:function(){return et.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=ot.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return ot.each(this,e,t)},ready:function(e){return ot.ready.promise().done(e),this},slice:function(){return this.pushStack(et.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(ot.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:Z,sort:[].sort,splice:[].splice},ot.fn.init.prototype=ot.fn,ot.extend=ot.fn.extend=function(){var e,n,i,r,o,s,a=arguments[0]||{},u=1,c=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[1]||{},u=2),"object"==typeof a||ot.isFunction(a)||(a={}),c===u&&(a=this,--u);c>u;u++)if(null!=(e=arguments[u]))for(n in e)i=a[n],r=e[n],a!==r&&(l&&r&&(ot.isPlainObject(r)||(o=ot.isArray(r)))?(o?(o=!1,s=i&&ot.isArray(i)?i:[]):s=i&&ot.isPlainObject(i)?i:{},a[n]=ot.extend(l,s,r)):r!==t&&(a[n]=r));return a},ot.extend({expando:"jQuery"+(K+Math.random()).replace(/\D/g,""),noConflict:function(t){return e.$===ot&&(e.$=X),t&&e.jQuery===ot&&(e.jQuery=J),ot},isReady:!1,readyWait:1,holdReady:function(e){e?ot.readyWait++:ot.ready(!0)},ready:function(e){(e===!0?--ot.readyWait:ot.isReady)||(ot.isReady=!0,e!==!0&&--ot.readyWait>0||(F.resolveWith(U,[ot]),ot.fn.trigger&&ot(U).trigger("ready").off("ready")))},isFunction:function(e){return"function"===ot.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):"object"==typeof e||"function"==typeof e?Y[nt.call(e)]||"object":typeof e},isPlainObject:function(e){if("object"!==ot.type(e)||e.nodeType||ot.isWindow(e))return!1;try{if(e.constructor&&!it.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}return!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||U;var i=ct.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=ot.buildFragment([e],t,r),r&&ot(r).remove(),ot.merge([],i.childNodes))},parseJSON:JSON.parse,parseXML:function(e){var n,i;if(!e||"string"!=typeof e)return null;try{i=new DOMParser,n=i.parseFromString(e,"text/xml")}catch(r){n=t}return(!n||n.getElementsByTagName("parsererror").length)&&ot.error("Invalid XML: "+e),n},noop:function(){},globalEval:function(e){var t,n=eval;e=ot.trim(e),e&&(1===e.indexOf("use strict")?(t=U.createElement("script"),t.text=e,U.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(lt,"ms-").replace(ft,ht)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var r,o=0,s=e.length,a=n(e);if(i){if(a)for(;s>o&&(r=t.apply(e[o],i),r!==!1);o++);else for(o in e)if(r=t.apply(e[o],i),r===!1)break}else if(a)for(;s>o&&(r=t.call(e[o],o,e[o]),r!==!1);o++);else for(o in e)if(r=t.call(e[o],o,e[o]),r===!1)break;return e},trim:function(e){return null==e?"":rt.call(e)},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?ot.merge(i,"string"==typeof e?[e]:e):Z.call(i,e)),i},inArray:function(e,t,n){return null==t?-1:tt.call(t,e,n)},merge:function(e,n){var i=n.length,r=e.length,o=0;if("number"==typeof i)for(;i>o;o++)e[r++]=n[o];else for(;n[o]!==t;)e[r++]=n[o++];return e.length=r,e},grep:function(e,t,n){var i,r=[],o=0,s=e.length;for(n=!!n;s>o;o++)i=!!t(e[o],o),n!==i&&r.push(e[o]);return r},map:function(e,t,i){var r,o=0,s=e.length,a=n(e),u=[];if(a)for(;s>o;o++)r=t(e[o],o,i),null!=r&&(u[u.length]=r);else for(o in e)r=t(e[o],o,i),null!=r&&(u[u.length]=r);return G.apply([],u)},guid:1,proxy:function(e,n){var i,r,o;return"string"==typeof n&&(i=e[n],n=e,e=i),ot.isFunction(e)?(r=et.call(arguments,2),o=function(){return e.apply(n||this,r.concat(et.call(arguments)))},o.guid=e.guid=e.guid||ot.guid++,o):t},access:function(e,n,i,r,o,s,a){var u=0,c=e.length,l=null==i;if("object"===ot.type(i)){o=!0;for(u in i)ot.access(e,n,u,i[u],!0,s,a)}else if(r!==t&&(o=!0,ot.isFunction(r)||(a=!0),l&&(a?(n.call(e,r),n=null):(l=n,n=function(e,t,n){return l.call(ot(e),n)})),n))for(;c>u;u++)n(e[u],i,a?r:r.call(e[u],u,n(e[u],i)));return o?e:l?n.call(e):c?n(e[0],i):s},now:Date.now,swap:function(e,t,n,i){var r,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];r=n.apply(e,i||[]);for(o in t)e.style[o]=s[o];return r}}),ot.ready.promise=function(t){return F||(F=ot.Deferred(),"complete"===U.readyState?setTimeout(ot.ready):(U.addEventListener("DOMContentLoaded",dt,!1),e.addEventListener("load",dt,!1))),F.promise(t)},ot.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Y["[object "+t+"]"]=t.toLowerCase()}),_=ot(U),/*!
 * Sizzle CSS Selector Engine v1.9.4-pre
 * http://sizzlejs.com/
 *
 * Copyright 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-06-03
 */
function(e,t){function n(e,t,n,i){var r,o,s,a,u,c,l,f,p,v;if((t?t.ownerDocument||t:$)!==D&&N(t),t=t||D,n=n||[],!e||"string"!=typeof e)return n;if(1!==(a=t.nodeType)&&9!==a)return[];if(P&&!i){if(r=wt.exec(e))if(s=r[1]){if(9===a){if(o=t.getElementById(s),!o||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(s))&&R(t,o)&&o.id===s)return n.push(o),n}else{if(r[2])return et.apply(n,t.getElementsByTagName(e)),n;if((s=r[3])&&E.getElementsByClassName&&t.getElementsByClassName)return et.apply(n,t.getElementsByClassName(s)),n}if(E.qsa&&(!V||!V.test(e))){if(f=l=H,p=t,v=9===a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(c=h(e),(l=t.getAttribute("id"))?f=l.replace(Tt,"\\$&"):t.setAttribute("id",f),f="[id='"+f+"'] ",u=c.length;u--;)c[u]=f+d(c[u]);p=dt.test(e)&&t.parentNode||t,v=c.join(",")}if(v)try{return et.apply(n,p.querySelectorAll(v)),n}catch(m){}finally{l||t.removeAttribute("id")}}}return x(e.replace(lt,"$1"),t,n,i)}function i(){function e(n,i){return t.push(n+=" ")>j.cacheLength&&delete e[t.shift()],e[n]=i}var t=[];return e}function r(e){return e[H]=!0,e}function o(e){var t=D.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function s(e,t){for(var n=e.split("|"),i=e.length;i--;)j.attrHandle[n[i]]=t}function a(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||Y)-(~e.sourceIndex||Y);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function u(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function c(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function l(e){return r(function(t){return t=+t,r(function(n,i){for(var r,o=e([],n.length,t),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function f(){}function h(e,t){var i,r,o,s,a,u,c,l=B[e+" "];if(l)return t?0:l.slice(0);for(a=e,u=[],c=j.preFilter;a;){(!i||(r=ft.exec(a)))&&(r&&(a=a.slice(r[0].length)||a),u.push(o=[])),i=!1,(r=ht.exec(a))&&(i=r.shift(),o.push({value:i,type:r[0].replace(lt," ")}),a=a.slice(i.length));for(s in j.filter)!(r=gt[s].exec(a))||c[s]&&!(r=c[s](r))||(i=r.shift(),o.push({value:i,type:s,matches:r}),a=a.slice(i.length));if(!i)break}return t?a.length:a?n.error(e):B(e,u).slice(0)}function d(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function p(e,t,n){var i=t.dir,r=n&&"parentNode"===i,o=F++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,o)}:function(t,n,s){var a,u,c,l=_+" "+o;if(s){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,s))return!0}else for(;t=t[i];)if(1===t.nodeType||r)if(c=t[H]||(t[H]={}),(u=c[i])&&u[0]===l){if((a=u[1])===!0||a===C)return a===!0}else if(u=c[i]=[l],u[1]=e(t,n,s)||C,u[1]===!0)return!0}}function v(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function m(e,t,n,i,r){for(var o,s=[],a=0,u=e.length,c=null!=t;u>a;a++)(o=e[a])&&(!n||n(o,i,r))&&(s.push(o),c&&t.push(a));return s}function g(e,t,n,i,o,s){return i&&!i[H]&&(i=g(i)),o&&!o[H]&&(o=g(o,s)),r(function(r,s,a,u){var c,l,f,h=[],d=[],p=s.length,v=r||b(t||"*",a.nodeType?[a]:a,[]),g=!e||!r&&t?v:m(v,h,e,a,u),y=n?o||(r?e:p||i)?[]:s:g;if(n&&n(g,y,a,u),i)for(c=m(y,d),i(c,[],a,u),l=c.length;l--;)(f=c[l])&&(y[d[l]]=!(g[d[l]]=f));if(r){if(o||e){if(o){for(c=[],l=y.length;l--;)(f=y[l])&&c.push(g[l]=f);o(null,y=[],c,u)}for(l=y.length;l--;)(f=y[l])&&(c=o?nt.call(r,f):h[l])>-1&&(r[c]=!(s[c]=f))}}else y=m(y===s?y.splice(p,y.length):y),o?o(null,s,y,u):et.apply(s,y)})}function y(e){for(var t,n,i,r=e.length,o=j.relative[e[0].type],s=o||j.relative[" "],a=o?1:0,u=p(function(e){return e===t},s,!0),c=p(function(e){return nt.call(t,e)>-1},s,!0),l=[function(e,n,i){return!o&&(i||n!==M)||((t=n).nodeType?u(e,n,i):c(e,n,i))}];r>a;a++)if(n=j.relative[e[a].type])l=[p(v(l),n)];else{if(n=j.filter[e[a].type].apply(null,e[a].matches),n[H]){for(i=++a;r>i&&!j.relative[e[i].type];i++);return g(a>1&&v(l),a>1&&d(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(lt,"$1"),n,i>a&&y(e.slice(a,i)),r>i&&y(e=e.slice(i)),r>i&&d(e))}l.push(n)}return v(l)}function w(e,t){var i=0,o=t.length>0,s=e.length>0,a=function(r,a,u,c,l){var f,h,d,p=[],v=0,g="0",y=r&&[],w=null!=l,b=M,x=r||s&&j.find.TAG("*",l&&a.parentNode||a),T=_+=null==b?1:Math.random()||.1;for(w&&(M=a!==D&&a,C=i);null!=(f=x[g]);g++){if(s&&f){for(h=0;d=e[h++];)if(d(f,a,u)){c.push(f);break}w&&(_=T,C=++i)}o&&((f=!d&&f)&&v--,r&&y.push(f))}if(v+=g,o&&g!==v){for(h=0;d=t[h++];)d(y,p,a,u);if(r){if(v>0)for(;g--;)y[g]||p[g]||(p[g]=G.call(c));p=m(p)}et.apply(c,p),w&&!r&&p.length>0&&v+t.length>1&&n.uniqueSort(c)}return w&&(_=T,M=b),y};return o?r(a):a}function b(e,t,i){for(var r=0,o=t.length;o>r;r++)n(e,t[r],i);return i}function x(e,t,n,i){var r,o,s,a,u,c=h(e);if(!i&&1===c.length){if(o=c[0]=c[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&E.getById&&9===t.nodeType&&P&&j.relative[o[1].type]){if(t=(j.find.ID(s.matches[0].replace(Et,Ct),t)||[])[0],!t)return n;e=e.slice(o.shift().value.length)}for(r=gt.needsContext.test(e)?0:o.length;r--&&(s=o[r],!j.relative[a=s.type]);)if((u=j.find[a])&&(i=u(s.matches[0].replace(Et,Ct),dt.test(o[0].type)&&t.parentNode||t))){if(o.splice(r,1),e=i.length&&d(o),!e)return et.apply(n,i),n;break}}return O(e,c)(i,t,!P,n,dt.test(e)),n}var T,E,C,j,S,k,O,M,A,N,D,q,P,V,I,L,R,H="sizzle"+-new Date,$=e.document,_=0,F=0,W=i(),B=i(),U=i(),z=!1,J=function(e,t){return e===t?(z=!0,0):0},X=typeof t,Y=1<<31,Q={}.hasOwnProperty,K=[],G=K.pop,Z=K.push,et=K.push,tt=K.slice,nt=K.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},it="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",rt="[\\x20\\t\\r\\n\\f]",st="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",at=st.replace("w","w#"),ut="\\["+rt+"*("+st+")"+rt+"*(?:([*^$|!~]?=)"+rt+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+at+")|)|)"+rt+"*\\]",ct=":("+st+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+ut.replace(3,8)+")*)|.*)\\)|)",lt=new RegExp("^"+rt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+rt+"+$","g"),ft=new RegExp("^"+rt+"*,"+rt+"*"),ht=new RegExp("^"+rt+"*([>+~]|"+rt+")"+rt+"*"),dt=new RegExp(rt+"*[+~]"),pt=new RegExp("="+rt+"*([^\\]'\"]*)"+rt+"*\\]","g"),vt=new RegExp(ct),mt=new RegExp("^"+at+"$"),gt={ID:new RegExp("^#("+st+")"),CLASS:new RegExp("^\\.("+st+")"),TAG:new RegExp("^("+st.replace("w","w*")+")"),ATTR:new RegExp("^"+ut),PSEUDO:new RegExp("^"+ct),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+rt+"*(even|odd|(([+-]|)(\\d*)n|)"+rt+"*(?:([+-]|)"+rt+"*(\\d+)|))"+rt+"*\\)|)","i"),bool:new RegExp("^(?:"+it+")$","i"),needsContext:new RegExp("^"+rt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+rt+"*((?:-\\d)?\\d*)"+rt+"*\\)|)(?=[^-]|$)","i")},yt=/^[^{]+\{\s*\[native \w/,wt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,bt=/^(?:input|select|textarea|button)$/i,xt=/^h\d$/i,Tt=/'|\\/g,Et=new RegExp("\\\\([\\da-f]{1,6}"+rt+"?|("+rt+")|.)","ig"),Ct=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(55296|i>>10,56320|1023&i)};try{et.apply(K=tt.call($.childNodes),$.childNodes),K[$.childNodes.length].nodeType}catch(jt){et={apply:K.length?function(e,t){Z.apply(e,tt.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}k=n.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},E=n.support={},N=n.setDocument=function(e){var t=e?e.ownerDocument||e:$,n=t.defaultView;return t!==D&&9===t.nodeType&&t.documentElement?(D=t,q=t.documentElement,P=!k(t),n&&n.attachEvent&&n!==n.top&&n.attachEvent("onbeforeunload",function(){N()}),E.attributes=o(function(e){return e.className="i",!e.getAttribute("className")}),E.getElementsByTagName=o(function(e){return e.appendChild(t.createComment("")),!e.getElementsByTagName("*").length}),E.getElementsByClassName=o(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),E.getById=o(function(e){return q.appendChild(e).id=H,!t.getElementsByName||!t.getElementsByName(H).length}),E.getById?(j.find.ID=function(e,t){if(typeof t.getElementById!==X&&P){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},j.filter.ID=function(e){var t=e.replace(Et,Ct);return function(e){return e.getAttribute("id")===t}}):(delete j.find.ID,j.filter.ID=function(e){var t=e.replace(Et,Ct);return function(e){var n=typeof e.getAttributeNode!==X&&e.getAttributeNode("id");return n&&n.value===t}}),j.find.TAG=E.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==X?t.getElementsByTagName(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},j.find.CLASS=E.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==X&&P?t.getElementsByClassName(e):void 0},I=[],V=[],(E.qsa=yt.test(t.querySelectorAll))&&(o(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||V.push("\\["+rt+"*(?:value|"+it+")"),e.querySelectorAll(":checked").length||V.push(":checked")}),o(function(e){var n=t.createElement("input");n.setAttribute("type","hidden"),e.appendChild(n).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&V.push("[*^$]="+rt+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||V.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),V.push(",.*:")})),(E.matchesSelector=yt.test(L=q.webkitMatchesSelector||q.mozMatchesSelector||q.oMatchesSelector||q.msMatchesSelector))&&o(function(e){E.disconnectedMatch=L.call(e,"div"),L.call(e,"[s!='']:x"),I.push("!=",ct)}),V=V.length&&new RegExp(V.join("|")),I=I.length&&new RegExp(I.join("|")),R=yt.test(q.contains)||q.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},J=q.compareDocumentPosition?function(e,n){if(e===n)return z=!0,0;var i=n.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(n);return i?1&i||!E.sortDetached&&n.compareDocumentPosition(e)===i?e===t||R($,e)?-1:n===t||R($,n)?1:A?nt.call(A,e)-nt.call(A,n):0:4&i?-1:1:e.compareDocumentPosition?-1:1}:function(e,n){var i,r=0,o=e.parentNode,s=n.parentNode,u=[e],c=[n];if(e===n)return z=!0,0;if(!o||!s)return e===t?-1:n===t?1:o?-1:s?1:A?nt.call(A,e)-nt.call(A,n):0;if(o===s)return a(e,n);for(i=e;i=i.parentNode;)u.unshift(i);for(i=n;i=i.parentNode;)c.unshift(i);for(;u[r]===c[r];)r++;return r?a(u[r],c[r]):u[r]===$?-1:c[r]===$?1:0},t):D},n.matches=function(e,t){return n(e,null,null,t)},n.matchesSelector=function(e,t){if((e.ownerDocument||e)!==D&&N(e),t=t.replace(pt,"='$1']"),!(!E.matchesSelector||!P||I&&I.test(t)||V&&V.test(t)))try{var i=L.call(e,t);if(i||E.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(r){}return n(t,D,null,[e]).length>0},n.contains=function(e,t){return(e.ownerDocument||e)!==D&&N(e),R(e,t)},n.attr=function(e,n){(e.ownerDocument||e)!==D&&N(e);var i=j.attrHandle[n.toLowerCase()],r=i&&Q.call(j.attrHandle,n.toLowerCase())?i(e,n,!P):t;return r===t?E.attributes||!P?e.getAttribute(n):(r=e.getAttributeNode(n))&&r.specified?r.value:null:r},n.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},n.uniqueSort=function(e){var t,n=[],i=0,r=0;if(z=!E.detectDuplicates,A=!E.sortStable&&e.slice(0),e.sort(J),z){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return e},S=n.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=S(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i];i++)n+=S(t);return n},j=n.selectors={cacheLength:50,createPseudo:r,match:gt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Et,Ct),e[3]=(e[4]||e[5]||"").replace(Et,Ct),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||n.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&n.error(e[0]),e},PSEUDO:function(e){var n,i=!e[5]&&e[2];return gt.CHILD.test(e[0])?null:(e[3]&&e[4]!==t?e[2]=e[4]:i&&vt.test(i)&&(n=h(i,!0))&&(n=i.indexOf(")",i.length-n)-i.length)&&(e[0]=e[0].slice(0,n),e[2]=i.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Et,Ct).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=W[e+" "];return t||(t=new RegExp("(^|"+rt+")"+e+"("+rt+"|$)"))&&W(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==X&&e.getAttribute("class")||"")})},ATTR:function(e,t,i){return function(r){var o=n.attr(r,e);return null==o?"!="===t:t?(o+="","="===t?o===i:"!="===t?o!==i:"^="===t?i&&0===o.indexOf(i):"*="===t?i&&o.indexOf(i)>-1:"$="===t?i&&o.slice(-i.length)===i:"~="===t?(" "+o+" ").indexOf(i)>-1:"|="===t?o===i||o.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,u){var c,l,f,h,d,p,v=o!==s?"nextSibling":"previousSibling",m=t.parentNode,g=a&&t.nodeName.toLowerCase(),y=!u&&!a;if(m){if(o){for(;v;){for(f=t;f=f[v];)if(a?f.nodeName.toLowerCase()===g:1===f.nodeType)return!1;p=v="only"===e&&!p&&"nextSibling"}return!0}if(p=[s?m.firstChild:m.lastChild],s&&y){for(l=m[H]||(m[H]={}),c=l[e]||[],d=c[0]===_&&c[1],h=c[0]===_&&c[2],f=d&&m.childNodes[d];f=++d&&f&&f[v]||(h=d=0)||p.pop();)if(1===f.nodeType&&++h&&f===t){l[e]=[_,d,h];break}}else if(y&&(c=(t[H]||(t[H]={}))[e])&&c[0]===_)h=c[1];else for(;(f=++d&&f&&f[v]||(h=d=0)||p.pop())&&((a?f.nodeName.toLowerCase()!==g:1!==f.nodeType)||!++h||(y&&((f[H]||(f[H]={}))[e]=[_,h]),f!==t)););return h-=r,h===i||0===h%i&&h/i>=0}}},PSEUDO:function(e,t){var i,o=j.pseudos[e]||j.setFilters[e.toLowerCase()]||n.error("unsupported pseudo: "+e);return o[H]?o(t):o.length>1?(i=[e,e,"",t],j.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,n){for(var i,r=o(e,t),s=r.length;s--;)i=nt.call(e,r[s]),e[i]=!(n[i]=r[s])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=O(e.replace(lt,"$1"));return i[H]?r(function(e,t,n,r){for(var o,s=i(e,null,r,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),!n.pop()}}),has:r(function(e){return function(t){return n(e,t).length>0}}),contains:r(function(e){return function(t){return(t.textContent||t.innerText||S(t)).indexOf(e)>-1}}),lang:r(function(e){return mt.test(e||"")||n.error("unsupported lang: "+e),e=e.replace(Et,Ct).toLowerCase(),function(t){var n;do if(n=P?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===q},focus:function(e){return e===D.activeElement&&(!D.hasFocus||D.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!j.pseudos.empty(e)},header:function(e){return xt.test(e.nodeName)},input:function(e){return bt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[0>n?n+t:n]}),even:l(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:l(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}},j.pseudos.nth=j.pseudos.eq;for(T in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})j.pseudos[T]=u(T);for(T in{submit:!0,reset:!0})j.pseudos[T]=c(T);f.prototype=j.filters=j.pseudos,j.setFilters=new f,O=n.compile=function(e,t){var n,i=[],r=[],o=U[e+" "];if(!o){for(t||(t=h(e)),n=t.length;n--;)o=y(t[n]),o[H]?i.push(o):r.push(o);o=U(e,w(r,i))}return o},E.sortStable=H.split("").sort(J).join("")===H,E.detectDuplicates=z,N(),E.sortDetached=o(function(e){return 1&e.compareDocumentPosition(D.createElement("div"))}),o(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||s("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),E.attributes&&o(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||s("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),o(function(e){return null==e.getAttribute("disabled")})||s(it,function(e,t,n){var i;return n?void 0:(i=e.getAttributeNode(t))&&i.specified?i.value:e[t]===!0?t.toLowerCase():null}),ot.find=n,ot.expr=n.selectors,ot.expr[":"]=ot.expr.pseudos,ot.unique=n.uniqueSort,ot.text=n.getText,ot.isXMLDoc=n.isXML,ot.contains=n.contains}(e);var pt={};ot.Callbacks=function(e){e="string"==typeof e?pt[e]||i(e):ot.extend({},e);var n,r,o,s,a,u,c=[],l=!e.once&&[],f=function(t){for(n=e.memory&&t,r=!0,u=s||0,s=0,a=c.length,o=!0;c&&a>u;u++)if(c[u].apply(t[0],t[1])===!1&&e.stopOnFalse){n=!1;break}o=!1,c&&(l?l.length&&f(l.shift()):n?c=[]:h.disable())},h={add:function(){if(c){var t=c.length;!function i(t){ot.each(t,function(t,n){var r=ot.type(n);"function"===r?e.unique&&h.has(n)||c.push(n):n&&n.length&&"string"!==r&&i(n)})}(arguments),o?a=c.length:n&&(s=t,f(n))}return this},remove:function(){return c&&ot.each(arguments,function(e,t){for(var n;(n=ot.inArray(t,c,n))>-1;)c.splice(n,1),o&&(a>=n&&a--,u>=n&&u--)}),this},has:function(e){return e?ot.inArray(e,c)>-1:!(!c||!c.length)},empty:function(){return c=[],a=0,this},disable:function(){return c=l=n=t,this},disabled:function(){return!c},lock:function(){return l=t,n||h.disable(),this},locked:function(){return!l},fireWith:function(e,t){return!c||r&&!l||(t=t||[],t=[e,t.slice?t.slice():t],o?l.push(t):f(t)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!r}};return h},ot.extend({Deferred:function(e){var t=[["resolve","done",ot.Callbacks("once memory"),"resolved"],["reject","fail",ot.Callbacks("once memory"),"rejected"],["notify","progress",ot.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ot.Deferred(function(n){ot.each(t,function(t,o){var s=o[0],a=ot.isFunction(e[t])&&e[t];r[o[1]](function(){var e=a&&a.apply(this,arguments);e&&ot.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s+"With"](this===i?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ot.extend(e,i):i}},r={};return i.pipe=i.then,ot.each(t,function(e,o){var s=o[2],a=o[3];i[o[1]]=s.add,a&&s.add(function(){n=a},t[1^e][2].disable,t[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=s.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,o=et.call(arguments),s=o.length,a=1!==s||e&&ot.isFunction(e.promise)?s:0,u=1===a?e:ot.Deferred(),c=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?et.call(arguments):r,i===t?u.notifyWith(n,i):--a||u.resolveWith(n,i)}};if(s>1)for(t=new Array(s),n=new Array(s),i=new Array(s);s>r;r++)o[r]&&ot.isFunction(o[r].promise)?o[r].promise().done(c(r,i,o)).fail(u.reject).progress(c(r,n,t)):--a;return a||u.resolveWith(i,o),u.promise()}}),ot.support=function(t){var n=U.createElement("input"),i=U.createDocumentFragment(),r=U.createElement("div"),o=U.createElement("select"),s=o.appendChild(U.createElement("option"));return n.type?(n.type="checkbox",t.checkOn=""!==n.value,t.optSelected=s.selected,t.reliableMarginRight=!0,t.boxSizingReliable=!0,t.pixelPosition=!1,n.checked=!0,t.noCloneChecked=n.cloneNode(!0).checked,o.disabled=!0,t.optDisabled=!s.disabled,n=U.createElement("input"),n.value="t",n.type="radio",t.radioValue="t"===n.value,n.setAttribute("checked","t"),n.setAttribute("name","t"),i.appendChild(n),t.checkClone=i.cloneNode(!0).cloneNode(!0).lastChild.checked,t.focusinBubbles="onfocusin"in e,r.style.backgroundClip="content-box",r.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===r.style.backgroundClip,ot(function(){var n,i,o="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",s=U.getElementsByTagName("body")[0];s&&(n=U.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",s.appendChild(n).appendChild(r),r.innerHTML="",r.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",ot.swap(s,null!=s.style.zoom?{zoom:1}:{},function(){t.boxSizing=4===r.offsetWidth}),e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(r,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(r,null)||{width:"4px"}).width,i=r.appendChild(U.createElement("div")),i.style.cssText=r.style.cssText=o,i.style.marginRight=i.style.width="0",r.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(i,null)||{}).marginRight)),s.removeChild(n))}),t):t}({});var vt,mt,gt=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,yt=/([A-Z])/g;r.uid=1,r.accepts=function(e){return e.nodeType?1===e.nodeType||9===e.nodeType:!0},r.prototype={key:function(e){if(!r.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=r.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(i){t[this.expando]=n,ot.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var i,r=this.key(e),o=this.cache[r];if("string"==typeof t)o[t]=n;else if(ot.isEmptyObject(o))ot.extend(this.cache[r],t);else for(i in t)o[i]=t[i];return o},get:function(e,n){var i=this.cache[this.key(e)];return n===t?i:i[n]},access:function(e,n,i){var r;return n===t||n&&"string"==typeof n&&i===t?(r=this.get(e,n),r!==t?r:this.get(e,ot.camelCase(n))):(this.set(e,n,i),i!==t?i:n)},remove:function(e,n){var i,r,o,s=this.key(e),a=this.cache[s];if(n===t)this.cache[s]={};else{ot.isArray(n)?r=n.concat(n.map(ot.camelCase)):(o=ot.camelCase(n),n in a?r=[n,o]:(r=o,r=r in a?[r]:r.match(at)||[])),i=r.length;for(;i--;)delete a[r[i]]}},hasData:function(e){return!ot.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}},vt=new r,mt=new r,ot.extend({acceptData:r.accepts,hasData:function(e){return vt.hasData(e)||mt.hasData(e)},data:function(e,t,n){return vt.access(e,t,n)},removeData:function(e,t){vt.remove(e,t)},_data:function(e,t,n){return mt.access(e,t,n)},_removeData:function(e,t){mt.remove(e,t)}}),ot.fn.extend({data:function(e,n){var i,r,s=this[0],a=0,u=null;if(e===t){if(this.length&&(u=vt.get(s),1===s.nodeType&&!mt.get(s,"hasDataAttrs"))){for(i=s.attributes;a<i.length;a++)r=i[a].name,0===r.indexOf("data-")&&(r=ot.camelCase(r.slice(5)),o(s,r,u[r]));mt.set(s,"hasDataAttrs",!0)}return u}return"object"==typeof e?this.each(function(){vt.set(this,e)}):ot.access(this,function(n){var i,r=ot.camelCase(e);if(s&&n===t){if(i=vt.get(s,e),i!==t)return i;if(i=vt.get(s,r),i!==t)return i;if(i=o(s,r,t),i!==t)return i}else this.each(function(){var i=vt.get(this,r);vt.set(this,r,n),-1!==e.indexOf("-")&&i!==t&&vt.set(this,e,n)})},null,n,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){vt.remove(this,e)})}}),ot.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=mt.get(e,t),n&&(!i||ot.isArray(n)?i=mt.access(e,t,ot.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=ot.queue(e,t),i=n.length,r=n.shift(),o=ot._queueHooks(e,t),s=function(){ot.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,s,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return mt.get(e,n)||mt.access(e,n,{empty:ot.Callbacks("once memory").add(function(){mt.remove(e,[t+"queue",n])})})}}),ot.fn.extend({queue:function(e,n){var i=2;return"string"!=typeof e&&(n=e,e="fx",i--),arguments.length<i?ot.queue(this[0],e):n===t?this:this.each(function(){var t=ot.queue(this,e,n);ot._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&ot.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ot.dequeue(this,e)})},delay:function(e,t){return e=ot.fx?ot.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var i,r=1,o=ot.Deferred(),s=this,a=this.length,u=function(){--r||o.resolveWith(s,[s])};for("string"!=typeof e&&(n=e,e=t),e=e||"fx";a--;)i=mt.get(s[a],e+"queueHooks"),i&&i.empty&&(r++,i.empty.add(u));return u(),o.promise(n)}});var wt,bt,xt=/[\t\r\n\f]/g,Tt=/\r/g,Et=/^(?:input|select|textarea|button)$/i;ot.fn.extend({attr:function(e,t){return ot.access(this,ot.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ot.removeAttr(this,e)})},prop:function(e,t){return ot.access(this,ot.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[ot.propFix[e]||e]})},addClass:function(e){var t,n,i,r,o,s=0,a=this.length,u="string"==typeof e&&e;if(ot.isFunction(e))return this.each(function(t){ot(this).addClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(at)||[];a>s;s++)if(n=this[s],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(xt," "):" ")){for(o=0;r=t[o++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");n.className=ot.trim(i)}return this},removeClass:function(e){var t,n,i,r,o,s=0,a=this.length,u=0===arguments.length||"string"==typeof e&&e;if(ot.isFunction(e))return this.each(function(t){ot(this).removeClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(at)||[];a>s;s++)if(n=this[s],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(xt," "):"")){for(o=0;r=t[o++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");n.className=e?ot.trim(i):""}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):ot.isFunction(e)?this.each(function(n){ot(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var t,i=0,r=ot(this),o=e.match(at)||[];t=o[i++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else(n===W||"boolean"===n)&&(this.className&&mt.set(this,"__className__",this.className),this.className=this.className||e===!1?"":mt.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(xt," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,i,r,o=this[0];{if(arguments.length)return r=ot.isFunction(e),this.each(function(i){var o;1===this.nodeType&&(o=r?e.call(this,i,ot(this).val()):e,null==o?o="":"number"==typeof o?o+="":ot.isArray(o)&&(o=ot.map(o,function(e){return null==e?"":e+""})),n=ot.valHooks[this.type]||ot.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&n.set(this,o,"value")!==t||(this.value=o))});if(o)return n=ot.valHooks[o.type]||ot.valHooks[o.nodeName.toLowerCase()],n&&"get"in n&&(i=n.get(o,"value"))!==t?i:(i=o.value,"string"==typeof i?i.replace(Tt,""):null==i?"":i)}}}),ot.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,o="select-one"===e.type||0>r,s=o?null:[],a=o?r+1:i.length,u=0>r?a:o?r:0;a>u;u++)if(n=i[u],!(!n.selected&&u!==r||(ot.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&ot.nodeName(n.parentNode,"optgroup"))){if(t=ot(n).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var n,i,r=e.options,o=ot.makeArray(t),s=r.length;s--;)i=r[s],(i.selected=ot.inArray(ot(i).val(),o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}},attr:function(e,n,i){var r,o,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return typeof e.getAttribute===W?ot.prop(e,n,i):(1===s&&ot.isXMLDoc(e)||(n=n.toLowerCase(),r=ot.attrHooks[n]||(ot.expr.match.bool.test(n)?bt:wt)),i===t?r&&"get"in r&&null!==(o=r.get(e,n))?o:(o=ot.find.attr(e,n),null==o?t:o):null!==i?r&&"set"in r&&(o=r.set(e,i,n))!==t?o:(e.setAttribute(n,i+""),i):(ot.removeAttr(e,n),void 0))},removeAttr:function(e,t){var n,i,r=0,o=t&&t.match(at);if(o&&1===e.nodeType)for(;n=o[r++];)i=ot.propFix[n]||n,ot.expr.match.bool.test(n)&&(e[i]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!ot.support.radioValue&&"radio"===t&&ot.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(e,n,i){var r,o,s,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return s=1!==a||!ot.isXMLDoc(e),s&&(n=ot.propFix[n]||n,o=ot.propHooks[n]),i!==t?o&&"set"in o&&(r=o.set(e,i,n))!==t?r:e[n]=i:o&&"get"in o&&null!==(r=o.get(e,n))?r:e[n]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||Et.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),bt={set:function(e,t,n){return t===!1?ot.removeAttr(e,n):e.setAttribute(n,n),n}},ot.each(ot.expr.match.bool.source.match(/\w+/g),function(e,n){var i=ot.expr.attrHandle[n]||ot.find.attr;ot.expr.attrHandle[n]=function(e,n,r){var o=ot.expr.attrHandle[n],s=r?t:(ot.expr.attrHandle[n]=t)!=i(e,n,r)?n.toLowerCase():null;return ot.expr.attrHandle[n]=o,s}}),ot.support.optSelected||(ot.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),ot.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ot.propFix[this.toLowerCase()]=this}),ot.each(["radio","checkbox"],function(){ot.valHooks[this]={set:function(e,t){return ot.isArray(t)?e.checked=ot.inArray(ot(e).val(),t)>=0:void 0}},ot.support.checkOn||(ot.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Ct=/^key/,jt=/^(?:mouse|contextmenu)|click/,St=/^(?:focusinfocus|focusoutblur)$/,kt=/^([^.]*)(?:\.(.+)|)$/;ot.event={global:{},add:function(e,n,i,r,o){var s,a,u,c,l,f,h,d,p,v,m,g=mt.get(e);if(g){for(i.handler&&(s=i,i=s.handler,o=s.selector),i.guid||(i.guid=ot.guid++),(c=g.events)||(c=g.events={}),(a=g.handle)||(a=g.handle=function(e){return typeof ot===W||e&&ot.event.triggered===e.type?t:ot.event.dispatch.apply(a.elem,arguments)},a.elem=e),n=(n||"").match(at)||[""],l=n.length;l--;)u=kt.exec(n[l])||[],p=m=u[1],v=(u[2]||"").split(".").sort(),p&&(h=ot.event.special[p]||{},p=(o?h.delegateType:h.bindType)||p,h=ot.event.special[p]||{},f=ot.extend({type:p,origType:m,data:r,handler:i,guid:i.guid,selector:o,needsContext:o&&ot.expr.match.needsContext.test(o),namespace:v.join(".")},s),(d=c[p])||(d=c[p]=[],d.delegateCount=0,h.setup&&h.setup.call(e,r,v,a)!==!1||e.addEventListener&&e.addEventListener(p,a,!1)),h.add&&(h.add.call(e,f),f.handler.guid||(f.handler.guid=i.guid)),o?d.splice(d.delegateCount++,0,f):d.push(f),ot.event.global[p]=!0);
e=null}},remove:function(e,t,n,i,r){var o,s,a,u,c,l,f,h,d,p,v,m=mt.hasData(e)&&mt.get(e);if(m&&(u=m.events)){for(t=(t||"").match(at)||[""],c=t.length;c--;)if(a=kt.exec(t[c])||[],d=v=a[1],p=(a[2]||"").split(".").sort(),d){for(f=ot.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,h=u[d]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=h.length;o--;)l=h[o],!r&&v!==l.origType||n&&n.guid!==l.guid||a&&!a.test(l.namespace)||i&&i!==l.selector&&("**"!==i||!l.selector)||(h.splice(o,1),l.selector&&h.delegateCount--,f.remove&&f.remove.call(e,l));s&&!h.length&&(f.teardown&&f.teardown.call(e,p,m.handle)!==!1||ot.removeEvent(e,d,m.handle),delete u[d])}else for(d in u)ot.event.remove(e,d+t[c],n,i,!0);ot.isEmptyObject(u)&&(delete m.handle,mt.remove(e,"events"))}},trigger:function(n,i,r,o){var s,a,u,c,l,f,h,d=[r||U],p=it.call(n,"type")?n.type:n,v=it.call(n,"namespace")?n.namespace.split("."):[];if(a=u=r=r||U,3!==r.nodeType&&8!==r.nodeType&&!St.test(p+ot.event.triggered)&&(p.indexOf(".")>=0&&(v=p.split("."),p=v.shift(),v.sort()),l=p.indexOf(":")<0&&"on"+p,n=n[ot.expando]?n:new ot.Event(p,"object"==typeof n&&n),n.isTrigger=o?2:3,n.namespace=v.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=r),i=null==i?[n]:ot.makeArray(i,[n]),h=ot.event.special[p]||{},o||!h.trigger||h.trigger.apply(r,i)!==!1)){if(!o&&!h.noBubble&&!ot.isWindow(r)){for(c=h.delegateType||p,St.test(c+p)||(a=a.parentNode);a;a=a.parentNode)d.push(a),u=a;u===(r.ownerDocument||U)&&d.push(u.defaultView||u.parentWindow||e)}for(s=0;(a=d[s++])&&!n.isPropagationStopped();)n.type=s>1?c:h.bindType||p,f=(mt.get(a,"events")||{})[n.type]&&mt.get(a,"handle"),f&&f.apply(a,i),f=l&&a[l],f&&ot.acceptData(a)&&f.apply&&f.apply(a,i)===!1&&n.preventDefault();return n.type=p,o||n.isDefaultPrevented()||h._default&&h._default.apply(d.pop(),i)!==!1||!ot.acceptData(r)||l&&ot.isFunction(r[p])&&!ot.isWindow(r)&&(u=r[l],u&&(r[l]=null),ot.event.triggered=p,r[p](),ot.event.triggered=t,u&&(r[l]=u)),n.result}},dispatch:function(e){e=ot.event.fix(e);var n,i,r,o,s,a=[],u=et.call(arguments),c=(mt.get(this,"events")||{})[e.type]||[],l=ot.event.special[e.type]||{};if(u[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){for(a=ot.event.handlers.call(this,e,c),n=0;(o=a[n++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,i=0;(s=o.handlers[i++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(s.namespace))&&(e.handleObj=s,e.data=s.data,r=((ot.event.special[s.origType]||{}).handle||s.handler).apply(o.elem,u),r!==t&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,n){var i,r,o,s,a=[],u=n.delegateCount,c=e.target;if(u&&c.nodeType&&(!e.button||"click"!==e.type))for(;c!==this;c=c.parentNode||this)if(c.disabled!==!0||"click"!==e.type){for(r=[],i=0;u>i;i++)s=n[i],o=s.selector+" ",r[o]===t&&(r[o]=s.needsContext?ot(o,this).index(c)>=0:ot.find(o,this,null,[c]).length),r[o]&&r.push(s);r.length&&a.push({elem:c,handlers:r})}return u<n.length&&a.push({elem:this,handlers:n.slice(u)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var i,r,o,s=n.button;return null==e.pageX&&null!=n.clientX&&(i=e.target.ownerDocument||U,r=i.documentElement,o=i.body,e.pageX=n.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0),e.pageY=n.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0)),e.which||s===t||(e.which=1&s?1:2&s?3:4&s?2:0),e}},fix:function(e){if(e[ot.expando])return e;var t,n,i,r=e.type,o=e,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=jt.test(r)?this.mouseHooks:Ct.test(r)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,e=new ot.Event(o),t=i.length;t--;)n=i[t],e[n]=o[n];return e.target||(e.target=U),3===e.target.nodeType&&(e.target=e.target.parentNode),s.filter?s.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==u()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===u()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&ot.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return ot.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var r=ot.extend(new ot.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?ot.event.trigger(r,null,t):ot.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},ot.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},ot.Event=function(e,t){return this instanceof ot.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.getPreventDefault&&e.getPreventDefault()?s:a):this.type=e,t&&ot.extend(this,t),this.timeStamp=e&&e.timeStamp||ot.now(),this[ot.expando]=!0,void 0):new ot.Event(e,t)},ot.Event.prototype={isDefaultPrevented:a,isPropagationStopped:a,isImmediatePropagationStopped:a,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=s,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=s,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=s,this.stopPropagation()}},ot.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){ot.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj;return(!r||r!==i&&!ot.contains(i,r))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),ot.support.focusinBubbles||ot.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,i=function(e){ot.event.simulate(t,e.target,ot.event.fix(e),!0)};ot.event.special[t]={setup:function(){0===n++&&U.addEventListener(e,i,!0)},teardown:function(){0===--n&&U.removeEventListener(e,i,!0)}}}),ot.fn.extend({on:function(e,n,i,r,o){var s,u;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=t);for(u in e)this.on(u,n,i,e[u],o);return this}if(null==i&&null==r?(r=n,i=n=t):null==r&&("string"==typeof n?(r=i,i=t):(r=i,i=n,n=t)),r===!1)r=a;else if(!r)return this;return 1===o&&(s=r,r=function(e){return ot().off(e),s.apply(this,arguments)},r.guid=s.guid||(s.guid=ot.guid++)),this.each(function(){ot.event.add(this,e,r,i,n)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,n,i){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,ot(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(o in e)this.off(o,n,e[o]);return this}return(n===!1||"function"==typeof n)&&(i=n,n=t),i===!1&&(i=a),this.each(function(){ot.event.remove(this,e,i,n)})},trigger:function(e,t){return this.each(function(){ot.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?ot.event.trigger(e,t,n,!0):void 0}});var Ot=/^.[^:#\[\.,]*$/,Mt=/^(?:parents|prev(?:Until|All))/,At=ot.expr.match.needsContext,Nt={children:!0,contents:!0,next:!0,prev:!0};ot.fn.extend({find:function(e){var t,n=[],i=this,r=i.length;if("string"!=typeof e)return this.pushStack(ot(e).filter(function(){for(t=0;r>t;t++)if(ot.contains(i[t],this))return!0}));for(t=0;r>t;t++)ot.find(e,i[t],n);return n=this.pushStack(r>1?ot.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},has:function(e){var t=ot(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(ot.contains(this,t[e]))return!0})},not:function(e){return this.pushStack(l(this,e||[],!0))},filter:function(e){return this.pushStack(l(this,e||[],!1))},is:function(e){return!!l(this,"string"==typeof e&&At.test(e)?ot(e):e||[],!1).length},closest:function(e,t){for(var n,i=0,r=this.length,o=[],s=At.test(e)||"string"!=typeof e?ot(e,t||this.context):0;r>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&ot.find.matchesSelector(n,e))){n=o.push(n);break}return this.pushStack(o.length>1?ot.unique(o):o)},index:function(e){return e?"string"==typeof e?tt.call(ot(e),this[0]):tt.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?ot(e,t):ot.makeArray(e&&e.nodeType?[e]:e),i=ot.merge(this.get(),n);return this.pushStack(ot.unique(i))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ot.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ot.dir(e,"parentNode")},parentsUntil:function(e,t,n){return ot.dir(e,"parentNode",n)},next:function(e){return c(e,"nextSibling")},prev:function(e){return c(e,"previousSibling")},nextAll:function(e){return ot.dir(e,"nextSibling")},prevAll:function(e){return ot.dir(e,"previousSibling")},nextUntil:function(e,t,n){return ot.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return ot.dir(e,"previousSibling",n)},siblings:function(e){return ot.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return ot.sibling(e.firstChild)},contents:function(e){return e.contentDocument||ot.merge([],e.childNodes)}},function(e,t){ot.fn[e]=function(n,i){var r=ot.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=ot.filter(i,r)),this.length>1&&(Nt[e]||ot.unique(r),Mt.test(e)&&r.reverse()),this.pushStack(r)}}),ot.extend({filter:function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?ot.find.matchesSelector(i,e)?[i]:[]:ot.find.matches(e,ot.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,n,i){for(var r=[],o=i!==t;(e=e[n])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&ot(e).is(i))break;r.push(e)}return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var Dt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,qt=/<([\w:]+)/,Pt=/<|&#?\w+;/,Vt=/<(?:script|style|link)/i,It=/^(?:checkbox|radio)$/i,Lt=/checked\s*(?:[^=]|=\s*.checked.)/i,Rt=/^$|\/(?:java|ecma)script/i,Ht=/^true\/(.*)/,$t=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,_t={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};_t.optgroup=_t.option,_t.tbody=_t.tfoot=_t.colgroup=_t.caption=_t.thead,_t.th=_t.td,ot.fn.extend({text:function(e){return ot.access(this,function(e){return e===t?ot.text(this):this.empty().append((this[0]&&this[0].ownerDocument||U).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=f(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=f(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?ot.filter(e,this):this,r=0;null!=(n=i[r]);r++)t||1!==n.nodeType||ot.cleanData(m(n)),n.parentNode&&(t&&ot.contains(n.ownerDocument,n)&&p(m(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(ot.cleanData(m(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return ot.clone(this,e,t)})},html:function(e){return ot.access(this,function(e){var n=this[0]||{},i=0,r=this.length;if(e===t&&1===n.nodeType)return n.innerHTML;if("string"==typeof e&&!Vt.test(e)&&!_t[(qt.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Dt,"<$1></$2>");try{for(;r>i;i++)n=this[i]||{},1===n.nodeType&&(ot.cleanData(m(n,!1)),n.innerHTML=e);n=0}catch(o){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=ot.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(n){var i=e[t++],r=e[t++];r&&(i&&i.parentNode!==r&&(i=this.nextSibling),ot(this).remove(),r.insertBefore(n,i))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){e=G.apply([],e);var i,r,o,s,a,u,c=0,l=this.length,f=this,p=l-1,v=e[0],g=ot.isFunction(v);if(g||!(1>=l||"string"!=typeof v||ot.support.checkClone)&&Lt.test(v))return this.each(function(i){var r=f.eq(i);g&&(e[0]=v.call(this,i,r.html())),r.domManip(e,t,n)});if(l&&(i=ot.buildFragment(e,this[0].ownerDocument,!1,!n&&this),r=i.firstChild,1===i.childNodes.length&&(i=r),r)){for(o=ot.map(m(i,"script"),h),s=o.length;l>c;c++)a=i,c!==p&&(a=ot.clone(a,!0,!0),s&&ot.merge(o,m(a,"script"))),t.call(this[c],a,c);if(s)for(u=o[o.length-1].ownerDocument,ot.map(o,d),c=0;s>c;c++)a=o[c],Rt.test(a.type||"")&&!mt.access(a,"globalEval")&&ot.contains(u,a)&&(a.src?ot._evalUrl(a.src):ot.globalEval(a.textContent.replace($t,"")))}return this}}),ot.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ot.fn[e]=function(e){for(var n,i=[],r=ot(e),o=r.length-1,s=0;o>=s;s++)n=s===o?this:this.clone(!0),ot(r[s])[t](n),Z.apply(i,n.get());return this.pushStack(i)}}),ot.extend({clone:function(e,t,n){var i,r,o,s,a=e.cloneNode(!0),u=ot.contains(e.ownerDocument,e);if(!(ot.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ot.isXMLDoc(e)))for(s=m(a),o=m(e),i=0,r=o.length;r>i;i++)g(o[i],s[i]);if(t)if(n)for(o=o||m(e),s=s||m(a),i=0,r=o.length;r>i;i++)v(o[i],s[i]);else v(e,a);return s=m(a,"script"),s.length>0&&p(s,!u&&m(e,"script")),a},buildFragment:function(e,t,n,i){for(var r,o,s,a,u,c,l=0,f=e.length,h=t.createDocumentFragment(),d=[];f>l;l++)if(r=e[l],r||0===r)if("object"===ot.type(r))ot.merge(d,r.nodeType?[r]:r);else if(Pt.test(r)){for(o=o||h.appendChild(t.createElement("div")),s=(qt.exec(r)||["",""])[1].toLowerCase(),a=_t[s]||_t._default,o.innerHTML=a[1]+r.replace(Dt,"<$1></$2>")+a[2],c=a[0];c--;)o=o.lastChild;ot.merge(d,o.childNodes),o=h.firstChild,o.textContent=""}else d.push(t.createTextNode(r));for(h.textContent="",l=0;r=d[l++];)if((!i||-1===ot.inArray(r,i))&&(u=ot.contains(r.ownerDocument,r),o=m(h.appendChild(r),"script"),u&&p(o),n))for(c=0;r=o[c++];)Rt.test(r.type||"")&&n.push(r);return h},cleanData:function(e){for(var n,i,o,s,a,u,c=ot.event.special,l=0;(i=e[l])!==t;l++){if(r.accepts(i)&&(a=i[mt.expando],a&&(n=mt.cache[a]))){if(o=Object.keys(n.events||{}),o.length)for(u=0;(s=o[u])!==t;u++)c[s]?ot.event.remove(i,s):ot.removeEvent(i,s,n.handle);mt.cache[a]&&delete mt.cache[a]}delete vt.cache[i[vt.expando]]}},_evalUrl:function(e){return ot.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),ot.fn.extend({wrapAll:function(e){var t;return ot.isFunction(e)?this.each(function(t){ot(this).wrapAll(e.call(this,t))}):(this[0]&&(t=ot(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return ot.isFunction(e)?this.each(function(t){ot(this).wrapInner(e.call(this,t))}):this.each(function(){var t=ot(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ot.isFunction(e);return this.each(function(n){ot(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){ot.nodeName(this,"body")||ot(this).replaceWith(this.childNodes)}).end()}});var Ft,Wt,Bt=/^(none|table(?!-c[ea]).+)/,Ut=/^margin/,zt=new RegExp("^("+st+")(.*)$","i"),Jt=new RegExp("^("+st+")(?!px)[a-z%]+$","i"),Xt=new RegExp("^([+-])=("+st+")","i"),Yt={BODY:"block"},Qt={position:"absolute",visibility:"hidden",display:"block"},Kt={letterSpacing:0,fontWeight:400},Gt=["Top","Right","Bottom","Left"],Zt=["Webkit","O","Moz","ms"];ot.fn.extend({css:function(e,n){return ot.access(this,function(e,n,i){var r,o,s={},a=0;if(ot.isArray(n)){for(r=b(e),o=n.length;o>a;a++)s[n[a]]=ot.css(e,n[a],!1,r);return s}return i!==t?ot.style(e,n,i):ot.css(e,n)},e,n,arguments.length>1)},show:function(){return x(this,!0)},hide:function(){return x(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){w(this)?ot(this).show():ot(this).hide()})}}),ot.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ft(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,n,i,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,s,a,u=ot.camelCase(n),c=e.style;return n=ot.cssProps[u]||(ot.cssProps[u]=y(c,u)),a=ot.cssHooks[n]||ot.cssHooks[u],i===t?a&&"get"in a&&(o=a.get(e,!1,r))!==t?o:c[n]:(s=typeof i,"string"===s&&(o=Xt.exec(i))&&(i=(o[1]+1)*o[2]+parseFloat(ot.css(e,n)),s="number"),null==i||"number"===s&&isNaN(i)||("number"!==s||ot.cssNumber[u]||(i+="px"),ot.support.clearCloneStyle||""!==i||0!==n.indexOf("background")||(c[n]="inherit"),a&&"set"in a&&(i=a.set(e,i,r))===t||(c[n]=i)),void 0)}},css:function(e,n,i,r){var o,s,a,u=ot.camelCase(n);return n=ot.cssProps[u]||(ot.cssProps[u]=y(e.style,u)),a=ot.cssHooks[n]||ot.cssHooks[u],a&&"get"in a&&(o=a.get(e,!0,i)),o===t&&(o=Ft(e,n,r)),"normal"===o&&n in Kt&&(o=Kt[n]),""===i||i?(s=parseFloat(o),i===!0||ot.isNumeric(s)?s||0:o):o}}),Ft=function(e,n,i){var r,o,s,a=i||b(e),u=a?a.getPropertyValue(n)||a[n]:t,c=e.style;return a&&(""!==u||ot.contains(e.ownerDocument,e)||(u=ot.style(e,n)),Jt.test(u)&&Ut.test(n)&&(r=c.width,o=c.minWidth,s=c.maxWidth,c.minWidth=c.maxWidth=c.width=u,u=a.width,c.width=r,c.minWidth=o,c.maxWidth=s)),u},ot.each(["height","width"],function(e,t){ot.cssHooks[t]={get:function(e,n,i){return n?0===e.offsetWidth&&Bt.test(ot.css(e,"display"))?ot.swap(e,Qt,function(){return C(e,t,i)}):C(e,t,i):void 0},set:function(e,n,i){var r=i&&b(e);return T(e,n,i?E(e,t,i,ot.support.boxSizing&&"border-box"===ot.css(e,"boxSizing",!1,r),r):0)}}}),ot(function(){ot.support.reliableMarginRight||(ot.cssHooks.marginRight={get:function(e,t){return t?ot.swap(e,{display:"inline-block"},Ft,[e,"marginRight"]):void 0}}),!ot.support.pixelPosition&&ot.fn.position&&ot.each(["top","left"],function(e,t){ot.cssHooks[t]={get:function(e,n){return n?(n=Ft(e,t),Jt.test(n)?ot(e).position()[t]+"px":n):void 0}}})}),ot.expr&&ot.expr.filters&&(ot.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},ot.expr.filters.visible=function(e){return!ot.expr.filters.hidden(e)}),ot.each({margin:"",padding:"",border:"Width"},function(e,t){ot.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[e+Gt[i]+t]=o[i]||o[i-2]||o[0];return r}},Ut.test(e)||(ot.cssHooks[e+t].set=T)});var en=/%20/g,tn=/\[\]$/,nn=/\r?\n/g,rn=/^(?:submit|button|image|reset|file)$/i,on=/^(?:input|select|textarea|keygen)/i;ot.fn.extend({serialize:function(){return ot.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ot.prop(this,"elements");return e?ot.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ot(this).is(":disabled")&&on.test(this.nodeName)&&!rn.test(e)&&(this.checked||!It.test(e))}).map(function(e,t){var n=ot(this).val();return null==n?null:ot.isArray(n)?ot.map(n,function(e){return{name:t.name,value:e.replace(nn,"\r\n")}}):{name:t.name,value:n.replace(nn,"\r\n")}}).get()}}),ot.param=function(e,n){var i,r=[],o=function(e,t){t=ot.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=ot.ajaxSettings&&ot.ajaxSettings.traditional),ot.isArray(e)||e.jquery&&!ot.isPlainObject(e))ot.each(e,function(){o(this.name,this.value)});else for(i in e)k(i,e[i],n,o);return r.join("&").replace(en,"+")},ot.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ot.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),ot.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var sn,an,un=ot.now(),cn=/\?/,ln=/#.*$/,fn=/([?&])_=[^&]*/,hn=/^(.*?):[ \t]*([^\r\n]*)$/gm,dn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,pn=/^(?:GET|HEAD)$/,vn=/^\/\//,mn=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,gn=ot.fn.load,yn={},wn={},bn="*/".concat("*");try{an=B.href}catch(xn){an=U.createElement("a"),an.href="",an=an.href}sn=mn.exec(an.toLowerCase())||[],ot.fn.load=function(e,n,i){if("string"!=typeof e&&gn)return gn.apply(this,arguments);var r,o,s,a=this,u=e.indexOf(" ");return u>=0&&(r=e.slice(u),e=e.slice(0,u)),ot.isFunction(n)?(i=n,n=t):n&&"object"==typeof n&&(o="POST"),a.length>0&&ot.ajax({url:e,type:o,dataType:"html",data:n}).done(function(e){s=arguments,a.html(r?ot("<div>").append(ot.parseHTML(e)).find(r):e)}).complete(i&&function(e,t){a.each(i,s||[e.responseText,t,e])}),this},ot.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ot.fn[t]=function(e){return this.on(t,e)}}),ot.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:an,type:"GET",isLocal:dn.test(sn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":bn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ot.parseJSON,"text xml":ot.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?A(A(e,ot.ajaxSettings),t):A(ot.ajaxSettings,e)},ajaxPrefilter:O(yn),ajaxTransport:O(wn),ajax:function(e,n){function i(e,n,i,a){var c,f,y,w,x,E=n;2!==b&&(b=2,u&&clearTimeout(u),r=t,s=a||"",T.readyState=e>0?4:0,c=e>=200&&300>e||304===e,i&&(w=N(h,T,i)),w=D(h,w,T,c),c?(h.ifModified&&(x=T.getResponseHeader("Last-Modified"),x&&(ot.lastModified[o]=x),x=T.getResponseHeader("etag"),x&&(ot.etag[o]=x)),204===e||"HEAD"===h.type?E="nocontent":304===e?E="notmodified":(E=w.state,f=w.data,y=w.error,c=!y)):(y=E,(e||!E)&&(E="error",0>e&&(e=0))),T.status=e,T.statusText=(n||E)+"",c?v.resolveWith(d,[f,E,T]):v.rejectWith(d,[T,E,y]),T.statusCode(g),g=t,l&&p.trigger(c?"ajaxSuccess":"ajaxError",[T,h,c?f:y]),m.fireWith(d,[T,E]),l&&(p.trigger("ajaxComplete",[T,h]),--ot.active||ot.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=t),n=n||{};var r,o,s,a,u,c,l,f,h=ot.ajaxSetup({},n),d=h.context||h,p=h.context&&(d.nodeType||d.jquery)?ot(d):ot.event,v=ot.Deferred(),m=ot.Callbacks("once memory"),g=h.statusCode||{},y={},w={},b=0,x="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!a)for(a={};t=hn.exec(s);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=w[n]=w[n]||e,y[e]=t),this},overrideMimeType:function(e){return b||(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)g[t]=[g[t],e[t]];else T.always(e[T.status]);return this},abort:function(e){var t=e||x;return r&&r.abort(t),i(0,t),this}};if(v.promise(T).complete=m.add,T.success=T.done,T.error=T.fail,h.url=((e||h.url||an)+"").replace(ln,"").replace(vn,sn[1]+"//"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=ot.trim(h.dataType||"*").toLowerCase().match(at)||[""],null==h.crossDomain&&(c=mn.exec(h.url.toLowerCase()),h.crossDomain=!(!c||c[1]===sn[1]&&c[2]===sn[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(sn[3]||("http:"===sn[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=ot.param(h.data,h.traditional)),M(yn,h,n,T),2===b)return T;l=h.global,l&&0===ot.active++&&ot.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!pn.test(h.type),o=h.url,h.hasContent||(h.data&&(o=h.url+=(cn.test(o)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=fn.test(o)?o.replace(fn,"$1_="+un++):o+(cn.test(o)?"&":"?")+"_="+un++)),h.ifModified&&(ot.lastModified[o]&&T.setRequestHeader("If-Modified-Since",ot.lastModified[o]),ot.etag[o]&&T.setRequestHeader("If-None-Match",ot.etag[o])),(h.data&&h.hasContent&&h.contentType!==!1||n.contentType)&&T.setRequestHeader("Content-Type",h.contentType),T.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+bn+"; q=0.01":""):h.accepts["*"]);for(f in h.headers)T.setRequestHeader(f,h.headers[f]);if(h.beforeSend&&(h.beforeSend.call(d,T,h)===!1||2===b))return T.abort();x="abort";for(f in{success:1,error:1,complete:1})T[f](h[f]);if(r=M(wn,h,n,T)){T.readyState=1,l&&p.trigger("ajaxSend",[T,h]),h.async&&h.timeout>0&&(u=setTimeout(function(){T.abort("timeout")},h.timeout));try{b=1,r.send(y,i)}catch(E){if(!(2>b))throw E;i(-1,E)}}else i(-1,"No Transport");return T},getJSON:function(e,t,n){return ot.get(e,t,n,"json")},getScript:function(e,n){return ot.get(e,t,n,"script")}}),ot.each(["get","post"],function(e,n){ot[n]=function(e,i,r,o){return ot.isFunction(i)&&(o=o||r,r=i,i=t),ot.ajax({url:e,type:n,dataType:o,data:i,success:r})}}),ot.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return ot.globalEval(e),e}}}),ot.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),ot.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(i,r){t=ot("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),U.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Tn=[],En=/(=)\?(?=&|$)|\?\?/;ot.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Tn.pop()||ot.expando+"_"+un++;return this[e]=!0,e}}),ot.ajaxPrefilter("json jsonp",function(n,i,r){var o,s,a,u=n.jsonp!==!1&&(En.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&En.test(n.data)&&"data");return u||"jsonp"===n.dataTypes[0]?(o=n.jsonpCallback=ot.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,u?n[u]=n[u].replace(En,"$1"+o):n.jsonp!==!1&&(n.url+=(cn.test(n.url)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return a||ot.error(o+" was not called"),a[0]},n.dataTypes[0]="json",s=e[o],e[o]=function(){a=arguments},r.always(function(){e[o]=s,n[o]&&(n.jsonpCallback=i.jsonpCallback,Tn.push(o)),a&&ot.isFunction(s)&&s(a[0]),a=s=t}),"script"):void 0}),ot.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var Cn=ot.ajaxSettings.xhr(),jn={0:200,1223:204},Sn=0,kn={};e.ActiveXObject&&ot(e).on("unload",function(){for(var e in kn)kn[e]();kn=t}),ot.support.cors=!!Cn&&"withCredentials"in Cn,ot.support.ajax=Cn=!!Cn,ot.ajaxTransport(function(e){var n;return ot.support.cors||Cn&&!e.crossDomain?{send:function(i,r){var o,s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)a[o]=e.xhrFields[o];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(o in i)a.setRequestHeader(o,i[o]);n=function(e){return function(){n&&(delete kn[s],n=a.onload=a.onerror=null,"abort"===e?a.abort():"error"===e?r(a.status||404,a.statusText):r(jn[a.status]||a.status,a.statusText,"string"==typeof a.responseText?{text:a.responseText}:t,a.getAllResponseHeaders()))}},a.onload=n(),a.onerror=n("error"),n=kn[s=Sn++]=n("abort"),a.send(e.hasContent&&e.data||null)},abort:function(){n&&n()}}:void 0});var On,Mn,An=/^(?:toggle|show|hide)$/,Nn=new RegExp("^(?:([+-])=|)("+st+")([a-z%]*)$","i"),Dn=/queueHooks$/,qn=[L],Pn={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),r=Nn.exec(t),o=r&&r[3]||(ot.cssNumber[e]?"":"px"),s=(ot.cssNumber[e]||"px"!==o&&+i)&&Nn.exec(ot.css(n.elem,e)),a=1,u=20;if(s&&s[3]!==o){o=o||s[3],r=r||[],s=+i||1;do a=a||".5",s/=a,ot.style(n.elem,e,s+o);while(a!==(a=n.cur()/i)&&1!==a&&--u)}return r&&(s=n.start=+s||+i||0,n.unit=o,n.end=r[1]?s+(r[1]+1)*r[2]:+r[2]),n}]};ot.Animation=ot.extend(V,{tweener:function(e,t){ot.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,r=e.length;r>i;i++)n=e[i],Pn[n]=Pn[n]||[],Pn[n].unshift(t)},prefilter:function(e,t){t?qn.unshift(e):qn.push(e)}}),ot.Tween=R,R.prototype={constructor:R,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(ot.cssNumber[n]?"":"px")},cur:function(){var e=R.propHooks[this.prop];return e&&e.get?e.get(this):R.propHooks._default.get(this)},run:function(e){var t,n=R.propHooks[this.prop];return this.pos=t=this.options.duration?ot.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):R.propHooks._default.set(this),this}},R.prototype.init.prototype=R.prototype,R.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=ot.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){ot.fx.step[e.prop]?ot.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[ot.cssProps[e.prop]]||ot.cssHooks[e.prop])?ot.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},R.propHooks.scrollTop=R.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ot.each(["toggle","show","hide"],function(e,t){var n=ot.fn[t];ot.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(H(t,!0),e,i,r)}}),ot.fn.extend({fadeTo:function(e,t,n,i){return this.filter(w).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=ot.isEmptyObject(e),o=ot.speed(t,n,i),s=function(){var t=V(this,ot.extend({},e),o);(r||mt.get(this,"finish"))&&t.stop(!0)};return s.finish=s,r||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(e,n,i){var r=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=ot.timers,s=mt.get(this);if(n)s[n]&&s[n].stop&&r(s[n]);else for(n in s)s[n]&&s[n].stop&&Dn.test(n)&&r(s[n]);for(n=o.length;n--;)o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(i),t=!1,o.splice(n,1));(t||!i)&&ot.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=mt.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=ot.timers,s=i?i.length:0;for(n.finish=!0,ot.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;s>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish
})}}),ot.each({slideDown:H("show"),slideUp:H("hide"),slideToggle:H("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ot.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),ot.speed=function(e,t,n){var i=e&&"object"==typeof e?ot.extend({},e):{complete:n||!n&&t||ot.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ot.isFunction(t)&&t};return i.duration=ot.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in ot.fx.speeds?ot.fx.speeds[i.duration]:ot.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){ot.isFunction(i.old)&&i.old.call(this),i.queue&&ot.dequeue(this,i.queue)},i},ot.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},ot.timers=[],ot.fx=R.prototype.init,ot.fx.tick=function(){var e,n=ot.timers,i=0;for(On=ot.now();i<n.length;i++)e=n[i],e()||n[i]!==e||n.splice(i--,1);n.length||ot.fx.stop(),On=t},ot.fx.timer=function(e){e()&&ot.timers.push(e)&&ot.fx.start()},ot.fx.interval=13,ot.fx.start=function(){Mn||(Mn=setInterval(ot.fx.tick,ot.fx.interval))},ot.fx.stop=function(){clearInterval(Mn),Mn=null},ot.fx.speeds={slow:600,fast:200,_default:400},ot.fx.step={},ot.expr&&ot.expr.filters&&(ot.expr.filters.animated=function(e){return ot.grep(ot.timers,function(t){return e===t.elem}).length}),ot.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){ot.offset.setOffset(this,e,t)});var n,i,r=this[0],o={top:0,left:0},s=r&&r.ownerDocument;if(s)return n=s.documentElement,ot.contains(n,r)?(typeof r.getBoundingClientRect!==W&&(o=r.getBoundingClientRect()),i=$(s),{top:o.top+i.pageYOffset-n.clientTop,left:o.left+i.pageXOffset-n.clientLeft}):o},ot.offset={setOffset:function(e,t,n){var i,r,o,s,a,u,c,l=ot.css(e,"position"),f=ot(e),h={};"static"===l&&(e.style.position="relative"),a=f.offset(),o=ot.css(e,"top"),u=ot.css(e,"left"),c=("absolute"===l||"fixed"===l)&&(o+u).indexOf("auto")>-1,c?(i=f.position(),s=i.top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(u)||0),ot.isFunction(t)&&(t=t.call(e,n,a)),null!=t.top&&(h.top=t.top-a.top+s),null!=t.left&&(h.left=t.left-a.left+r),"using"in t?t.using.call(e,h):f.css(h)}},ot.fn.extend({position:function(){if(this[0]){var e,t,n=this[0],i={top:0,left:0};return"fixed"===ot.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ot.nodeName(e[0],"html")||(i=e.offset()),i.top+=ot.css(e[0],"borderTopWidth",!0),i.left+=ot.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-ot.css(n,"marginTop",!0),left:t.left-i.left-ot.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||z;e&&!ot.nodeName(e,"html")&&"static"===ot.css(e,"position");)e=e.offsetParent;return e||z})}}),ot.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(n,i){var r="pageYOffset"===i;ot.fn[n]=function(o){return ot.access(this,function(n,o,s){var a=$(n);return s===t?a?a[i]:n[o]:(a?a.scrollTo(r?e.pageXOffset:s,r?s:e.pageYOffset):n[o]=s,void 0)},n,o,arguments.length,null)}}),ot.each({Height:"height",Width:"width"},function(e,n){ot.each({padding:"inner"+e,content:n,"":"outer"+e},function(i,r){ot.fn[r]=function(r,o){var s=arguments.length&&(i||"boolean"!=typeof r),a=i||(r===!0||o===!0?"margin":"border");return ot.access(this,function(n,i,r){var o;return ot.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+e],o["scroll"+e],n.body["offset"+e],o["offset"+e],o["client"+e])):r===t?ot.css(n,i,a):ot.style(n,i,r,a)},n,s?r:t,s,null)}})}),ot.fn.size=function(){return this.length},ot.fn.andSelf=ot.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=ot:"function"==typeof define&&define.amd&&define("$",[],function(){return ot}),"object"==typeof e&&"object"==typeof e.document&&(e.jQuery=e.$=ot)}(window),define("app/models/TodosCollection",["require","lavaca/mvc/Collection"],function(e){"use strict";function t(){var e=!0;return this.each(function(t,n){return n.get("completed")?void 0:(e=!1,!1)}),e}function n(){return this.filter({completed:!1}).length}function i(){return this.filter({completed:!0}).length}function r(){var e;clearTimeout(this.storeTimer),this.storeTimer=setTimeout(function(){try{e=JSON.stringify(this.toObject().items),localStorage.setItem(s,e)}catch(t){}}.bind(this))}function o(){var e,t;try{if(e=JSON.parse(localStorage.getItem(s)))for(t=0;t<e.length;t++)this.add(e[t])}catch(n){}}var s="todos-lavaca-require",a=e("lavaca/mvc/Collection"),u=a.extend(function(){a.apply(this,arguments),this.apply({allComplete:t,itemsLeft:n,itemsCompleted:i}),o.call(this),this.on("addItem",r),this.on("moveItem",r),this.on("removeItem",r),this.on("changeItem",r)},{removeCompleted:function(){this.remove({completed:!0})}});return new u}),define("app/ui/views/TodoItemView",["require","lavaca/mvc/View","rdust!templates/todo-item"],function(e){"use strict";function t(e){this.model.set("completed",e.currentTarget.checked)}function n(){this.el.addClass("editing"),this.$input.focus(),this.$input.val(this.model.get("title"))}function i(e){e.which===s?r.call(this):e.which===a&&(this.$input.val(this.model.get("title")),r.call(this))}function r(){var e=this.$input.val().trim();this.el.removeClass("editing"),e?this.model.set("title",e):o.call(this)}function o(){this.trigger("removeView",{model:this.model})}var s=13,a=27,u=e("lavaca/mvc/View");e("rdust!templates/todo-item");var c=u.extend(function(){u.apply(this,arguments),this.mapEvent({"input.toggle":{change:t.bind(this)},self:{dblclick:n.bind(this)},"input.edit":{keydown:i.bind(this),blur:r.bind(this)},"button.destroy":{click:o.bind(this)},model:{change:this.onModelChange.bind(this)}}),this.render()},{template:"templates/todo-item",className:"todo-item",onRenderSuccess:function(){u.prototype.onRenderSuccess.apply(this,arguments),this.checkIfCompleted()},redraw:function(){u.prototype.redraw.apply(this,arguments).then(this.checkIfCompleted.bind(this))},checkIfCompleted:function(){this.$input=this.el.find(".edit"),this.model.get("completed")?this.el.addClass("completed"):this.el.removeClass("completed")},onModelChange:function(){this.model&&this.redraw()}});return c}),define("app/ui/views/CollectionView",["require","lavaca/mvc/View","lavaca/util/Promise","$"],function(e){"use strict";var t,n=e("lavaca/mvc/View"),i=e("lavaca/util/Promise"),r=e("$"),o=n.extend(function(){n.apply(this,arguments),this.el.empty(),this.collectionViews=[],this.mapEvent({model:{addItem:this.onItemEvent.bind(this),moveItem:this.onItemEvent.bind(this),removeItem:this.onItemEvent.bind(this),changeItem:this.onItemEvent.bind(this)}})},{className:"collection-view",itemEl:function(){return r("<div/>")},TView:n,render:function(){var e,t=this.model.filter(this.modelFilter.bind(this)),n=document.createDocumentFragment();return t.forEach(function(t){e=this.addItemView(t),n.appendChild(e.el[0])}.bind(this)),this.trigger("rendersuccess",{html:n}),(new i).resolve()},addItemView:function(e,n){var i,r=this.collectionViews.length,o=null===n||n===t?r:n;if(0>o||o>r)throw"Invalid item view insertion index";return i=new this.TView(this.itemEl(e,n),e,this),this.childViews.set(i.id,i),this.collectionViews.splice(o,0,i),this.applyChildViewEvent(i),0===o?this.el.prepend(i.el[0]):o===r?this.el.append(i.el[0]):this.el.children().eq(o-1).after(i.el[0]),i},applyChildViewEvent:function(e){var t,n=this.childViewEventMap;for(t in n)e instanceof n[t].TView&&e.on(t,n[t].callback)},removeItemView:function(e){var t=this.collectionViews.splice(e,1)[0];this.childViews.remove(t.id),t.el.remove(),t.dispose()},getViewIndexByModel:function(e){var t=-1;return this.collectionViews.every(function(n,i){return n.model===e?(t=i,!1):!0}),t},modelFilter:function(){return!0},onItemEvent:function(){for(var e,t,n,i,r,o,s=this.model.filter(this.modelFilter.bind(this)),a=-1;e=s[++a];)n=this.getViewIndexByModel(e),-1===n&&this.addItemView(e,a);for(a=-1;t=this.collectionViews[++a];)r=s.indexOf(t.model),-1===r&&this.removeItemView(a);for(a=-1;e=s[++a];)i=this.getViewIndexByModel(e),i!==a&&(this.swapViews(this.collectionViews[a],this.collectionViews[i]),o=this.collectionViews[i],this.collectionViews[i]=this.collectionViews[a],this.collectionViews[a]=o)},swapViews:function(e,t){var n=e.el[0],i=t.el[0],r=n.parentNode,o=n.nextSibling===i?n:n.nextSibling;i.parentNode.insertBefore(n,i),r.insertBefore(i,o)}});return o}),define("app/ui/views/TodosCollectionView",["require","app/ui/views/CollectionView","app/ui/views/TodoItemView","$"],function(e){"use strict";var t=e("app/ui/views/CollectionView"),n=e("app/ui/views/TodoItemView"),i=e("$"),r=t.extend(function(){t.apply(this,arguments),this.mapChildViewEvent("removeView",this.onRemoveView.bind(this),this.TView),this.render()},{className:"todos-collection-view",itemEl:function(){return i("<li/>")},TView:n,onRenderSuccess:function(e){this.el.html(e.html),this.bindMappedEvents(),this.applyEvents(),this.createWidgets(),this.el.data("view",this),this.el.attr("data-view-id",this.id),this.hasRendered=!0},modelFilter:function(e,t){var n=this.model.get("filter"),i="completed"===n;return"all"===n||t.get("completed")===i?!0:void 0},onRemoveView:function(e){this.model.remove(e.model)}});return r}),define("app/ui/views/TodosView",["require","lavaca/mvc/PageView","app/ui/views/TodosCollectionView","rdust!templates/todos"],function(e){"use strict";function t(){clearTimeout(this.redrawTimeout),this.redrawTimeout=setTimeout(function(){var e=this.model.count();0===e?(this.countIsZero=!0,this.redraw()):this.countIsZero&&e?(this.countIsZero=!1,this.redraw()):this.redraw("#footer, #toggle-all")}.bind(this))}function n(e){var t,n=e.currentTarget;e.which===o&&(t=n.value.trim(),t&&(this.model.add({id:Date.now(),title:t,completed:!1}),n.value=""),e.preventDefault())}function i(e){this.model.each(function(t,n){n.set("completed",e.currentTarget.checked)})}function r(){this.model.removeCompleted()}var o=13,s=e("lavaca/mvc/PageView"),a=e("app/ui/views/TodosCollectionView");e("rdust!templates/todos");var u=s.extend(function(){s.apply(this,arguments),this.mapChildView("#todo-list",a,this.model),this.mapEvent({"#new-todo":{keypress:n.bind(this)},"input#toggle-all":{change:i.bind(this)},"button#clear-completed":{click:r.bind(this)},model:{addItem:t.bind(this),moveItem:t.bind(this),removeItem:t.bind(this),changeItem:t.bind(this)}}),this.countIsZero=!this.model.count()},{template:"templates/todos",className:"todos"});return u}),define("app/net/TodosController",["require","lavaca/mvc/Controller","app/ui/views/TodosView","app/models/TodosCollection"],function(e){"use strict";var t=e("lavaca/mvc/Controller"),n=e("app/ui/views/TodosView"),i=e("app/models/TodosCollection"),r=t.extend({home:function(e){return i.set("filter",e.filter),this.view(null,n,i).then(this.history({},document.title,e.url))}});return r}),define("app/app",["require","lavaca/net/History","lavaca/mvc/Application","app/net/TodosController","$","lavaca/ui/DustTemplate"],function(e){"use strict";var t=e("lavaca/net/History"),n=e("lavaca/mvc/Application"),i=e("app/net/TodosController"),r=e("$");e("lavaca/ui/DustTemplate"),t.overrideStandardsMode(),n.prototype.viewRootSelector="#todoapp";var o=new n(function(){this.router.add({"/":[i,"home",{filter:"all"}],"/active":[i,"home",{filter:"active"}],"/completed":[i,"home",{filter:"completed"}]}),r(document.body).find("aside.learn a").addClass("ignore")});return o}),require.config({baseUrl:"js",paths:{$:"../bower_components/jquery/jquery",jquery:"../bower_components/jquery/jquery",mout:"../bower_components/mout/src",dust:"../bower_components/dustjs-linkedin/dist/dust-full-1.1.1","dust-helpers":"../bower_components/dustjs-linkedin-helpers/dist/dust-helpers-1.1.1",rdust:"libs/require-dust",lavaca:"Lavaca",Lavaca:"lavaca"},shim:{$:{exports:"$"},jquery:{exports:"$"},dust:{exports:"dust"},"dust-helpers":{deps:["dust"]},templates:{deps:["dust"]}}}),require(["app/app"]),define("app/boot",function(){});