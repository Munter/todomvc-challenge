<link rel="import" href="4e36c3f6a7.html" /><polymer-element name="polymer-selector" on-tap="activateHandler" touch-action="none" attributes="selected multi valueattr selectedClass setectedProperty selectedModel notap"><template><polymer-selection id="selection" multi="{{multi}}" on-polymer-select="selectionSelect"></polymer-selection> <content id="items" select="*"></content></template><script>Polymer("polymer-selector",{selected:null,multi:!1,valueattr:"name",selectedClass:"polymer-selected",setectedProperty:"active",selectedModel:null,get items(){var t=this.$.items.getDistributedNodes();return Array.prototype.filter.call(t,function(t){return t&&"template"!==t.localName})},get selection(){return this.$.selection.getSelection()},selectedChanged:function(){this.valueToSelection(this.selected)},valueToSelection:function(t){var e=this.items[this.valueToIndex(t)];this.selectedItem=e,this.$.selection.select(e),this.updateSelectedModel()},updateSelectedModel:function(){if(this.selectedItem){var t=this.selectedItem.templateInstance;this.selectedModel=t?t.model:void 0}else this.selectedModel=null},valueToIndex:function(t){for(var e,i=0,s=this.items;e=s[i];i++)if(this.valueForNode(e)==t)return i;return t},valueForNode:function(t){return t[this.valueattr]||t.getAttribute(this.valueattr)},selectionSelect:function(t,e){e.item&&(this.selectedClass&&e.item.classList.toggle(this.selectedClass,e.isSelected),this.setectedProperty&&(e.item[this.setectedProperty]=e.isSelected))},activateHandler:function(t){if(!this.notap){var e=this.findDistributedTarget(t.target,this.items);if(e>=0){var i=this.valueForNode(this.items[e])||e;this.multi?this.valueToSelection(i):this.selected=i,this.asyncFire("polymer-activate",{item:this.items[e]})}}},findDistributedTarget:function(t,e){for(;t&&t!=this;){var i=Array.prototype.indexOf.call(e,t);if(i>=0)return i;t=t.parentNode}}});</script></polymer-element>