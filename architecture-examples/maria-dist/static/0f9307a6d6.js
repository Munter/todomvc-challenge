!function(){"use strict";function e(){"tastejs.github.io"===location.hostname&&(location.href=location.href.replace("tastejs.github.io/todomvc","todomvc.com"))}function t(){var e;return[/labs/,/\w*-examples/].forEach(function(t){var n=location.href.match(t);!e&&n&&(e=location.href.indexOf(n))}),location.href.substr(0,e)}function n(e,n){if(!location.host)return console.info("Miss the info bar? Run TodoMVC from a server to avoid a cross-origin error.");var r=new XMLHttpRequest;r.open("GET",t()+e,!0),r.send(),r.onload=function(){200===r.status&&n&&n(r.responseText)}}function r(e,t){if(!(this instanceof r))return new r(e,t);var n,i;if("object"!=typeof e)try{e=JSON.parse(e)}catch(o){return}t&&(n=t.template,i=t.framework),!n&&e.templates&&(n=e.templates.todomvc),!i&&document.querySelector("[data-framework]")&&(i=document.querySelector("[data-framework]").getAttribute("data-framework")),n&&e[i]&&(this.frameworkJSON=e[i],this.template=n,this.append())}var i=function(e){e.defaults=function(e){if(!e)return e;for(var t=1,n=arguments.length;n>t;t++){var r=arguments[t];if(r)for(var i in r)null==e[i]&&(e[i]=r[i])}return e},e.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var t=/(.)^/,n={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},r=/\\|'|\r|\n|\t|\u2028|\u2029/g;return e.template=function(i,o,a){var s;a=e.defaults({},a,e.templateSettings);var l=new RegExp([(a.escape||t).source,(a.interpolate||t).source,(a.evaluate||t).source].join("|")+"|$","g"),u=0,c="__p+='";i.replace(l,function(e,t,o,a,s){return c+=i.slice(u,s).replace(r,function(e){return"\\"+n[e]}),t&&(c+="'+\n((__t=("+t+"))==null?'':_.escape(__t))+\n'"),o&&(c+="'+\n((__t=("+o+"))==null?'':__t)+\n'"),a&&(c+="';\n"+a+"\n__p+='"),u=s+e.length,e}),c+="';\n",a.variable||(c="with(obj||{}){\n"+c+"}\n"),c="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+c+"return __p;\n";try{s=new Function(a.variable||"obj","_",c)}catch(d){throw d.source=c,d}if(o)return s(o,e);var f=function(t){return s.call(this,t,e)};return f.source="function("+(a.variable||"obj")+"){\n"+c+"}",f},e}({});"todomvc.com"===location.hostname&&(window._gaq=[["_setAccount","UA-31081062-1"],["_trackPageview"]],function(e,t){var n=e.createElement(t),r=e.getElementsByTagName(t)[0];n.src="//www.google-analytics.com/ga.js",r.parentNode.insertBefore(n,r)}(document,"script")),r.prototype.append=function(){var e=document.createElement("aside");e.innerHTML=i.template(this.template,this.frameworkJSON),e.className="learn";var n=e.querySelectorAll(".demo-link");Array.prototype.forEach.call(n,function(e){e.setAttribute("href",t()+e.getAttribute("href"))}),document.body.className=(document.body.className+" learn-bar").trim(),document.body.insertAdjacentHTML("afterBegin",e.outerHTML)},e(),n("learn.json",r)}(),function(e){function t(){return""===u.hash||"#"===u.hash}function n(e,t){for(var n=0;n<e.length;n+=1)if(t(e[n],n,e)===!1)return}function r(e){for(var t=[],n=0,r=e.length;r>n;n++)t=t.concat(e[n]);return t}function i(e,t,n){if(!e.length)return n();var r=0;!function i(){t(e[r],function(t){t||t===!1?(n(t),n=function(){}):(r+=1,r===e.length?n():i())})}()}function o(e,t,n){n=e;for(var r in t)if(t.hasOwnProperty(r)&&(n=t[r](e),n!==e))break;return n===e?"([._a-zA-Z0-9-]+)":n}function a(e,t){for(var n,r=0,i="";n=e.substr(r).match(/[^\w\d\- %@&]*\*[^\w\d\- %@&]*/);)r=n.index+n[0].length,n[0]=n[0].replace(/^\*/,"([_.()!\\ %@&a-zA-Z0-9-]+)"),i+=e.substr(0,n.index)+n[0];e=i+=e.substr(r);var a,s=e.match(/:([^\/]+)/gi);if(s){a=s.length;for(var l=0;a>l;l++)e=e.replace(s[l],o(s[l],t))}return e}function l(e,t,n,r){var i,o=0,a=0,s=0,n=(n||"(").toString(),r=(r||")").toString();for(i=0;i<e.length;i++){var l=e[i];if(l.indexOf(n,o)>l.indexOf(r,o)||~l.indexOf(n,o)&&!~l.indexOf(r,o)||!~l.indexOf(n,o)&&~l.indexOf(r,o)){if(a=l.indexOf(n,o),s=l.indexOf(r,o),~a&&!~s||!~a&&~s){var u=e.slice(0,(i||1)+1).join(t);e=[u].concat(e.slice((i||1)+1))}o=(s>a?s:a)+1,i=0}else o=0}return e}Array.prototype.filter||(Array.prototype.filter=function(e,t){for(var n,r=[],i=0,o=this.length;o>i;i++)i in this&&e.call(t,n=this[i],i,this)&&r.push(n);return r}),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});var u=document.location,c={mode:"modern",hash:u.hash,history:!1,check:function(){var e=u.hash;e!=this.hash&&(this.hash=e,this.onHashChanged())},fire:function(){"modern"===this.mode?this.history===!0?window.onpopstate():window.onhashchange():this.onHashChanged()},init:function(e,t){function n(e){for(var t=0,n=d.listeners.length;n>t;t++)d.listeners[t](e)}var r=this;if(this.history=t,d.listeners||(d.listeners=[]),"onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7))this.history===!0?setTimeout(function(){window.onpopstate=n},500):window.onhashchange=n,this.mode="modern";else{var i=document.createElement("iframe");i.id="state-frame",i.style.display="none",document.body.appendChild(i),this.writeFrame(""),"onpropertychange"in document&&"attachEvent"in document&&document.attachEvent("onpropertychange",function(){"location"===event.propertyName&&r.check()}),window.setInterval(function(){r.check()},50),this.onHashChanged=n,this.mode="legacy"}return d.listeners.push(e),this.mode},destroy:function(e){if(d&&d.listeners)for(var t=d.listeners,n=t.length-1;n>=0;n--)t[n]===e&&t.splice(n,1)},setHash:function(e){return"legacy"===this.mode&&this.writeFrame(e),this.history===!0?(window.history.pushState({},document.title,e),this.fire()):u.hash="/"===e[0]?e:"/"+e,this},writeFrame:function(e){var t=document.getElementById("state-frame"),n=t.contentDocument||t.contentWindow.document;n.open(),n.write("<script>_hash = '"+e+"'; onload = parent.listener.syncHash;<script>"),n.close()},syncHash:function(){var e=this._hash;return e!=u.hash&&(u.hash=e),this},onHashChanged:function(){}},d=e.Router=function(e){return this instanceof d?(this.params={},this.routes={},this.methods=["on","once","after","before"],this.scope=[],this._methods={},this._insert=this.insert,this.insert=this.insertEx,this.historySupport=null!=(null!=window.history?window.history.pushState:null),this.configure(),this.mount(e||{}),void 0):new d(e)};d.prototype.init=function(e){var n=this;if(this.handler=function(e){var t=e&&e.newURL||window.location.hash,r=n.history===!0?n.getPath():t.replace(/.*#/,"");n.dispatch("on",r)},c.init(this.handler,this.history),this.history===!1)t()&&e?u.hash=e:t()||n.dispatch("on",u.hash.replace(/^#/,""));else{var r=t()&&e?e:t()?null:u.hash.replace(/^#/,"");r&&window.history.replaceState({},document.title,r),(r||this.run_in_init===!0)&&this.handler()}return this},d.prototype.explode=function(){var e=this.history===!0?this.getPath():u.hash;return"/"===e.charAt(1)&&(e=e.slice(1)),e.slice(1,e.length).split("/")},d.prototype.setRoute=function(e,t,n){var r=this.explode();return"number"==typeof e&&"string"==typeof t?r[e]=t:"string"==typeof n?r.splice(e,t,s):r=[e],c.setHash(r.join("/")),r},d.prototype.insertEx=function(e,t,n,r){return"once"===e&&(e="on",n=function(e){var t=!1;return function(){return t?void 0:(t=!0,e.apply(this,arguments))}}(n)),this._insert(e,t,n,r)},d.prototype.getRoute=function(e){var t=e;if("number"==typeof e)t=this.explode()[e];else if("string"==typeof e){var n=this.explode();t=n.indexOf(e)}else t=this.explode();return t},d.prototype.destroy=function(){return c.destroy(this.handler),this},d.prototype.getPath=function(){var e=window.location.pathname;return"/"!==e.substr(0,1)&&(e="/"+e),e},d.prototype.configure=function(e){e=e||{};for(var t=0;t<this.methods.length;t++)this._methods[this.methods[t]]=!0;return this.recurse=e.recurse||this.recurse||!1,this.async=e.async||!1,this.delimiter=e.delimiter||"/",this.strict="undefined"==typeof e.strict?!0:e.strict,this.notfound=e.notfound,this.resource=e.resource,this.history=e.html5history&&this.historySupport||!1,this.run_in_init=this.history===!0&&e.run_handler_in_init!==!1,this.every={after:e.after||null,before:e.before||null,on:e.on||null},this},d.prototype.param=function(e,t){":"!==e[0]&&(e=":"+e);var n=new RegExp(e,"g");this.params[e]=function(e){return e.replace(n,t.source||t)}},d.prototype.on=d.prototype.route=function(e,t,n){var r=this;return n||"function"!=typeof t||(n=t,t=e,e="on"),Array.isArray(t)?t.forEach(function(t){r.on(e,t,n)}):(t.source&&(t=t.source.replace(/\\\//gi,"/")),Array.isArray(e)?e.forEach(function(e){r.on(e.toLowerCase(),t,n)}):(t=t.split(new RegExp(this.delimiter)),t=l(t,this.delimiter),this.insert(e,this.scope.concat(t),n),void 0))},d.prototype.dispatch=function(e,t,n){function r(){o.last=a.after,o.invoke(o.runlist(a),o,n)}var i,o=this,a=this.traverse(e,t,this.routes,""),s=this._invoked;return this._invoked=!0,a&&0!==a.length?("forward"===this.recurse&&(a=a.reverse()),i=this.every&&this.every.after?[this.every.after].concat(this.last):[this.last],i&&i.length>0&&s?(this.async?this.invoke(i,this,r):(this.invoke(i,this),r()),!0):(r(),!0)):(this.last=[],"function"==typeof this.notfound&&this.invoke([this.notfound],{method:e,path:t},n),!1)},d.prototype.invoke=function(e,t,r){var o=this;this.async?i(e,function a(n,r){return Array.isArray(n)?i(n,a,r):("function"==typeof n&&n.apply(t,e.captures.concat(r)),void 0)},function(){r&&r.apply(t,arguments)}):n(e,function s(r){return Array.isArray(r)?n(r,s):"function"==typeof r?r.apply(t,e.captures||[]):("string"==typeof r&&o.resource&&o.resource[r].apply(t,e.captures||[]),void 0)})},d.prototype.traverse=function(e,t,n,r,i){function o(e){function t(e){for(var n=[],r=0;r<e.length;r++)n[r]=Array.isArray(e[r])?t(e[r]):e[r];return n}function n(e){for(var t=e.length-1;t>=0;t--)Array.isArray(e[t])?(n(e[t]),0===e[t].length&&e.splice(t,1)):i(e[t])||e.splice(t,1)}if(!i)return e;var r=t(e);return r.matched=e.matched,r.captures=e.captures,r.after=e.after.filter(i),n(r),r}var a,s,l,u,c=[];if(t===this.delimiter&&n[e])return u=[[n.before,n[e]].filter(Boolean)],u.after=[n.after].filter(Boolean),u.matched=!0,u.captures=[],o(u);for(var d in n)if(n.hasOwnProperty(d)&&(!this._methods[d]||this._methods[d]&&"object"==typeof n[d]&&!Array.isArray(n[d]))){if(a=s=r+this.delimiter+d,this.strict||(s+="["+this.delimiter+"]?"),l=t.match(new RegExp("^"+s)),!l)continue;if(l[0]&&l[0]==t&&n[d][e])return u=[[n[d].before,n[d][e]].filter(Boolean)],u.after=[n[d].after].filter(Boolean),u.matched=!0,u.captures=l.slice(1),this.recurse&&n===this.routes&&(u.push([n.before,n.on].filter(Boolean)),u.after=u.after.concat([n.after].filter(Boolean))),o(u);if(u=this.traverse(e,t,n[d],a),u.matched)return u.length>0&&(c=c.concat(u)),this.recurse&&(c.push([n[d].before,n[d].on].filter(Boolean)),u.after=u.after.concat([n[d].after].filter(Boolean)),n===this.routes&&(c.push([n.before,n.on].filter(Boolean)),u.after=u.after.concat([n.after].filter(Boolean)))),c.matched=!0,c.captures=u.captures,c.after=u.after,o(c)}return!1},d.prototype.insert=function(e,t,n,r){var i,o,s,l,u;if(t=t.filter(function(e){return e&&e.length>0}),r=r||this.routes,u=t.shift(),/\:|\*/.test(u)&&!/\\d|\\w/.test(u)&&(u=a(u,this.params)),t.length>0)return r[u]=r[u]||{},this.insert(e,t,n,r[u]);if(u||t.length||r!==this.routes){if(o=typeof r[u],s=Array.isArray(r[u]),r[u]&&!s&&"object"==o)switch(i=typeof r[u][e]){case"function":return r[u][e]=[r[u][e],n],void 0;case"object":return r[u][e].push(n),void 0;case"undefined":return r[u][e]=n,void 0}else if("undefined"==o)return l={},l[e]=n,r[u]=l,void 0;throw new Error("Invalid route context: "+o)}switch(i=typeof r[e]){case"function":return r[e]=[r[e],n],void 0;case"object":return r[e].push(n),void 0;case"undefined":return r[e]=n,void 0}},d.prototype.extend=function(e){function t(e){r._methods[e]=!0,r[e]=function(){var t=1===arguments.length?[e,""]:[e];r.on.apply(r,t.concat(Array.prototype.slice.call(arguments)))}}var n,r=this,i=e.length;for(n=0;i>n;n++)t(e[n])},d.prototype.runlist=function(e){var t=this.every&&this.every.before?[this.every.before].concat(r(e)):r(e);return this.every&&this.every.on&&t.push(this.every.on),t.captures=e.captures,t.source=e.source,t},d.prototype.mount=function(e,t){function n(t,n){var i=t,o=t.split(r.delimiter),a=typeof e[t],s=""===o[0]||!r._methods[o[0]],u=s?"on":i;return s&&(i=i.slice((i.match(new RegExp(r.delimiter))||[""])[0].length),o.shift()),s&&"object"===a&&!Array.isArray(e[t])?(n=n.concat(o),r.mount(e[t],n),void 0):(s&&(n=n.concat(i.split(r.delimiter)),n=l(n,r.delimiter)),r.insert(u,n,e[t]),void 0)}if(e&&"object"==typeof e&&!Array.isArray(e)){var r=this;t=t||[],Array.isArray(t)||(t=t.split(r.delimiter));for(var i in e)e.hasOwnProperty(i)&&n(i,t.slice(0))}}}("object"==typeof exports?exports:window);var maria=function(){var e={};e.EventTarget=function(){},function(){function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var n=function(){function e(){}return function(t){return e.prototype=t,new e}}();e.EventTarget.prototype.addEventListener=function(e,n){t(this,"_evento_listeners")||(this._evento_listeners={}),t(this._evento_listeners,e)||(this._evento_listeners[e]=[]);for(var r=this._evento_listeners[e],i=0,o=r.length;o>i;i++)if(r[i]===n)return;r.push(n)},e.EventTarget.prototype.removeEventListener=function(e,n){if(t(this,"_evento_listeners")&&t(this._evento_listeners,e))for(var r=this._evento_listeners[e],i=0,o=r.length;o>i;i++)if(r[i]===n)return r.splice(i,1),void 0},e.EventTarget.prototype.addParentEventTarget=function(e){if("function"!=typeof e.dispatchEvent)throw new TypeError("evento.EventTarget.prototype.addParentEventTarget: Parents must have dispatchEvent method.");t(this,"_evento_parents")||(this._evento_parents=[]);for(var n=this._evento_parents,r=0,i=n.length;i>r;r++)if(n[r]===e)return;n.push(e)},e.EventTarget.prototype.removeParentEventTarget=function(e){if(t(this,"_evento_parents"))for(var n=this._evento_parents,r=0,i=n.length;i>r;r++)if(n[r]===e)return n.splice(r,1),void 0},e.EventTarget.prototype.dispatchEvent=function(e){if(e=n(e),"target"in e||(e.target=this),e.currentTarget=this,e._propagationStopped="bubbles"in e?!e.bubbles:!1,e.stopPropagation=function(){e._propagationStopped=!0},t(this,"_evento_listeners")&&t(this._evento_listeners,e.type))for(var r=this._evento_listeners[e.type].slice(0),i=0,o=r.length;o>i;i++){var a=r[i];"function"==typeof a?a.call(this,e):a.handleEvent(e)}if(t(this,"_evento_parents")&&!e._propagationStopped)for(var s=this._evento_parents.slice(0),i=0,o=s.length;o>i;i++)s[i].dispatchEvent(e)},e.EventTarget.call(e.EventTarget.prototype),e.EventTarget.mixin=function(n){var r=e.EventTarget.prototype;for(var i in r)t(r,i)&&"function"==typeof r[i]&&(n[i]=r[i]);e.EventTarget.call(n)}}(),function(){function t(e,t,n,r){var i={element:e,type:t,listener:n};if(arguments.length>3&&(i.auxArg=r),"function"==typeof n){var o=arguments.length>3?r:e;i.wrappedHandler=function(e){n.call(o,e)}}else if("function"==typeof r)i.wrappedHandler=function(e){r.call(n,e)};else{var a=arguments.length>3?r:"handleEvent";i.wrappedHandler=function(e){n[a](e)}}return i}function n(e,t){return e.element===t.element&&e.type===t.type&&e.listener===t.listener&&(!e.hasOwnProperty("auxArg")&&!t.hasOwnProperty("auxArg")||e.hasOwnProperty("auxArg")&&t.hasOwnProperty("auxArg")&&e.auxArg===t.auxArg)}function r(e,t){for(var r=0,i=e.length;i>r;r++)if(n(e[r],t))return r;return-1}e.on=function(e,n,i){var o=t.apply(null,arguments);if(i._evento_bundles){if(r(i._evento_bundles,o)>=0)return}else i._evento_bundles=[];if("function"==typeof o.element.addEventListener)o.element.addEventListener(o.type,o.wrappedHandler,!1);else{if("object"!=typeof o.element.attachEvent||null===o.element.attachEvent)throw new Error("evento.on: Supported EventTarget interface not found.");o.element.attachEvent("on"+o.type,o.wrappedHandler)}i._evento_bundles.push(o)};var i=e.off=function(e,n,i){if(i._evento_bundles){var o=r(i._evento_bundles,t.apply(null,arguments));if(o>=0){var a=i._evento_bundles[o];if("function"==typeof a.element.removeEventListener)a.element.removeEventListener(a.type,a.wrappedHandler,!1);else{if("object"!=typeof a.element.detachEvent||null===a.element.detachEvent)throw new Error("evento.off: Supported EventTarget interface not found.");a.element.detachEvent("on"+a.type,a.wrappedHandler)}i._evento_bundles.splice(o,1)}}};e.purge=function(e){if(e._evento_bundles)for(var t=e._evento_bundles.slice(0),n=0,r=t.length;r>n;n++){var o=t[n];o.hasOwnProperty("auxArg")?i(o.element,o.type,o.listener,o.auxArg):i(o.element,o.type,o.listener)}}}();var t={};t.Leaf=function(){this.parentNode=null,this.previousSibling=null,this.nextSibling=null},t.Leaf.prototype.destroy=function(){this.parentNode=null,this.previousSibling=null,this.nextSibling=null},t.Leaf.call(t.Leaf.prototype),t.Leaf.mixin=function(e){e.destroy=t.Leaf.prototype.destroy,t.Leaf.call(e)},t.Node=function(){t.Leaf.call(this),this.childNodes=[],this.firstChild=null,this.lastChild=null},t.Node.prototype=function(){function e(){}return e.prototype=t.Leaf.prototype,new e}(),t.Node.prototype.constructor=t.Node,t.Node.prototype.destroy=function(){for(var e=this.childNodes.slice(0),n=0,r=e.length;r>n;n++)e[n].destroy();t.Leaf.prototype.destroy.call(this),this.childNodes=null,this.firstChild=null,this.lastChild=null},t.Node.prototype.hasChildNodes=function(){return this.childNodes.length>0},t.Node.prototype.insertBefore=function(e,t){if(arguments.length<2)throw new Error("hijos.Node.prototype.insertBefore: not enough arguments.");if(void 0===t&&(t=null),!(e===t||t&&t.previousSibling===e||null===t&&this.lastChild===e)){for(var n=this;n;){if(n===e)throw new Error("hijos.Node.prototype.insertBefore: Node cannot be inserted at the specified point in the hierarchy.");n=n.parentNode}var r=e.parentNode;r&&r.removeChild(e);var i,o=this.childNodes;if(null===t)i=o.length;else{for(var a=0,s=o.length;s>a;a++)if(o[a]===t){i=a;break}if("number"!=typeof i)throw new Error("hijos.Node.prototype.insertBefore: Node was not found.")}o.splice(i,0,e),this.firstChild=o[0],this.lastChild=o[o.length-1],e.parentNode=this;var l=e.previousSibling=o[i-1]||null;l&&(l.nextSibling=e);var u=e.nextSibling=o[i+1]||null;u&&(u.previousSibling=e)}},t.Node.prototype.appendChild=function(e){if(arguments.length<1)throw new Error("hijos.Node.prototype.appendChild: not enough arguments.");this.insertBefore(e,null)},t.Node.prototype.replaceChild=function(e,t){if(arguments.length<2)throw new Error("hijos.Node.prototype.replaceChild: not enough arguments.");if(!t)throw new Error("hijos.Node.prototype.replaceChild: oldChild must not be falsy.");e!==t&&(this.insertBefore(e,t),this.removeChild(t))},t.Node.prototype.removeChild=function(e){if(arguments.length<1)throw new Error("hijos.Node.prototype.removeChild: not enough arguments.");for(var t=this.childNodes,n=0,r=t.length;r>n;n++)if(t[n]===e){var i=t[n-1];i&&(i.nextSibling=e.nextSibling);var o=t[n+1];return o&&(o.previousSibling=e.previousSibling),e.parentNode=null,e.previousSibling=null,e.nextSibling=null,t.splice(n,1),this.firstChild=t[0]||null,this.lastChild=t[t.length-1]||null,void 0}throw new Error("hijos.Node.prototype.removeChild: node not found.")},t.Node.call(t.Node.prototype),t.Node.mixin=function(e){for(var n in t.Node.prototype)Object.prototype.hasOwnProperty.call(t.Node.prototype,n)&&"function"==typeof t.Node.prototype[n]&&(e[n]=t.Node.prototype[n]);t.Node.call(e)};var n={};!function(){function e(e){return e.replace(l,"").replace(u,"")}function t(e){return e.firstChild}function r(e){return e.firstChild.firstChild}function i(e){return e.firstChild.firstChild.nextSibling}function o(e){return e.firstChild.firstChild.firstChild}function a(e){return e.firstChild.firstChild.firstChild.firstChild}function s(e,t,n){return function(r,i){var o=i.createElement("div"),a=i.createDocumentFragment();o.innerHTML=e+r+t;for(var s,l=n(o);l;)s=l.nextSibling,a.appendChild(l),l=s;return a}}var l=/^\s+/,u=/\s+$/,c=s("","",t),d={td:s("<table><tbody><tr>","</tr></tbody></table>",a),tr:s("<table><tbody>","</tbody></table>",o),tbody:s("<table>","</table>",r),col:s("<table><colgroup>","</colgroup></table>",o),option:s("<select><option>a</option>","</select>",i)};d.th=d.td,d.thead=d.tbody,d.tfoot=d.tbody,d.caption=d.tbody,d.colgroup=d.tbody;var f=/^<([a-z]+)/i;n.parseHTML=function(t,n){t=e(t);var r=c,i=t.match(f);if(i){var o=i[1].toLowerCase();Object.prototype.hasOwnProperty.call(d,o)&&(r=d[o])}return r(t,n||document)}}();var r={};!function(){function e(e){return e.replace(s,"").replace(l,"")}function t(e,t){return"function"==typeof e[t]||"object"==typeof e[t]&&null!==e[t]}function n(e,n){return n.id===e?n:t(n,"getElementById")?n.getElementById(e):t(n,"querySelector")?n.querySelector("#"+e):a(n,function(t){return t.id===e})}function i(e,t){if(e=e?e.toUpperCase():"*",t)var n=new RegExp("(?:^|\\s+)"+t+"(?:\\s+|$)");return function(r){return("*"===e||r.tagName&&r.tagName.toUpperCase()===e)&&(!t||n.test(r.className))}}function o(e,t){function n(e){for(t(e)&&r.push(e),e=e.firstChild;e;)n(e),e=e.nextSibling}var r=[];return n(e),r}function a(e,t){function n(e){if(t(e))return e;for(e=e.firstChild;e;){var r=n(e);if(r)return r;e=e.nextSibling}}return n(e)}var s=/^\s+/,l=/\s+$/,u=/^#(\S+)$/,c=/^([\w-]+)?(?:\.([\w-]+))?$/;r.findAll=function(r,a){r=e(r),a=a||document;var s;if(s=r.match(u)){var l=n(s[1],a);return l?[l]:[]}if(s=r.match(c)){var d=i(s[1],s[2]);if(t(a,"querySelectorAll")){var f,h=[];d(a)&&h.push(a),f=a.querySelectorAll(r);for(var p=0,g=f.length;g>p;p++)h.push(f[p]);return h}return o(a,d)}throw new Error('grail.findAll: Unsupported selector "'+r+'".')},r.find=function(r,o){r=e(r),o=o||document;var s;if(s=r.match(u))return n(s[1],o);if(s=r.match(c)){var l=i(s[1],s[2]);return t(o,"querySelector")?l(o)?o:o.querySelector(r):a(o,l)}throw new Error('grail.find: Unsupported selector "'+r+'".')}}();var i={};!function(){function e(){return n++}function t(e){e._hormigas_ObjectSet_elements={},e.size=0}var n=0;i.ObjectSet=function(){t(this);for(var e=0,n=arguments.length;n>e;e++)this.add(arguments[e])},i.ObjectSet.prototype.has=function(e){return Object.prototype.hasOwnProperty.call(e,"_hormigas_ObjectSet_id")&&Object.prototype.hasOwnProperty.call(this._hormigas_ObjectSet_elements,e._hormigas_ObjectSet_id)},i.ObjectSet.prototype.add=function(t){return this.has(t)?!1:(Object.prototype.hasOwnProperty.call(t,"_hormigas_ObjectSet_id")||(t._hormigas_ObjectSet_id=e()),this._hormigas_ObjectSet_elements[t._hormigas_ObjectSet_id]=t,this.size++,!0)},i.ObjectSet.prototype["delete"]=function(e){return this.has(e)?(delete this._hormigas_ObjectSet_elements[e._hormigas_ObjectSet_id],this.size--,!0):!1},i.ObjectSet.prototype.clear=function(){return this.size>0?(t(this),!0):!1},i.ObjectSet.prototype.toArray=function(){var e=[];for(var t in this._hormigas_ObjectSet_elements)Object.prototype.hasOwnProperty.call(this._hormigas_ObjectSet_elements,t)&&e.push(this._hormigas_ObjectSet_elements[t]);return e},i.ObjectSet.prototype.forEach=function(e){var t=arguments[1];for(var n in this._hormigas_ObjectSet_elements)Object.prototype.hasOwnProperty.call(this._hormigas_ObjectSet_elements,n)&&e.call(t,this._hormigas_ObjectSet_elements[n])},i.ObjectSet.prototype.every=function(e){var t=arguments[1];for(var n in this._hormigas_ObjectSet_elements)if(Object.prototype.hasOwnProperty.call(this._hormigas_ObjectSet_elements,n)&&!e.call(t,this._hormigas_ObjectSet_elements[n]))return!1;return!0},i.ObjectSet.prototype.some=function(e){var t=arguments[1];for(var n in this._hormigas_ObjectSet_elements)if(Object.prototype.hasOwnProperty.call(this._hormigas_ObjectSet_elements,n)&&e.call(t,this._hormigas_ObjectSet_elements[n]))return!0;return!1},i.ObjectSet.prototype.reduce=function(e){var t,n=this.toArray(),r=0,i=n.length;if(arguments.length>1)t=arguments[1];else{if(1>i)throw new TypeError("reduce of empty set with no initial value");r=1,t=n[0]}for(;i>r;)t=e.call(void 0,t,n[r]),r++;return t}}(),i.ObjectSet.call(i.ObjectSet.prototype),i.ObjectSet.mixin=function(e){for(var t in i.ObjectSet.prototype)Object.prototype.hasOwnProperty.call(i.ObjectSet.prototype,t)&&"function"==typeof i.ObjectSet.prototype[t]&&(e[t]=i.ObjectSet.prototype[t]);i.ObjectSet.call(e)};/**
@license
Maria 1.0.0
Copyright (c) 2013, Peter Michaux
All rights reserved.
Licensed under the Simplified BSD License.
http://peter.michaux.ca/downloads/maria/1.0.0/LICENSE
*/
var o={};return o.create=function(){function e(){}return function(t){return e.prototype=t,t=new e,e.prototype=null,t}}(),o.borrow=function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o.subclass=function(e,t,n){n=n||{};var r=n.properties,i=this,a=e[t]=Object.prototype.hasOwnProperty.call(n,"constructor")?n.constructor:function(){i.apply(this,arguments)},s=a.prototype=o.create(i.prototype);s.constructor=a,r&&o.borrow(s,r),a.subclass=function(){i.subclass.apply(this,arguments)}},o.on=e.on,o.off=e.off,o.purge=e.purge,o.Leaf=t.Leaf,o.Node=t.Node,o.Model=function(){e.EventTarget.call(this)},o.Model.prototype=o.create(e.EventTarget.prototype),o.Model.prototype.constructor=o.Model,o.Model.prototype.destroy=function(){this.dispatchEvent({type:"destroy"})},o.SetModel=function(){i.ObjectSet.apply(this,arguments),o.Model.call(this)},o.SetModel.prototype=o.create(o.Model.prototype),o.SetModel.prototype.constructor=o.SetModel,i.ObjectSet.mixin(o.SetModel.prototype),o.SetModel.prototype.add=function(){for(var e=[],t=0,n=arguments.length;n>t;t++){var r=arguments[t];i.ObjectSet.prototype.add.call(this,r)&&(e.push(r),"function"==typeof r.addEventListener&&"function"==typeof r.removeEventListener&&r.addEventListener("destroy",this),"function"==typeof r.addParentEventTarget&&"function"==typeof r.removeParentEventTarget&&r.addParentEventTarget(this))}var o=e.length>0;return o&&this.dispatchEvent({type:"change",addedTargets:e,deletedTargets:[]}),o},o.SetModel.prototype["delete"]=function(){for(var e=[],t=0,n=arguments.length;n>t;t++){var r=arguments[t];i.ObjectSet.prototype["delete"].call(this,r)&&(e.push(r),"function"==typeof r.removeEventListener&&r.removeEventListener("destroy",this),"function"==typeof r.removeParentEventTarget&&r.removeParentEventTarget(this))}var o=e.length>0;return o&&this.dispatchEvent({type:"change",addedTargets:[],deletedTargets:e}),o},o.SetModel.prototype.clear=function(){var e=this.toArray(),t=i.ObjectSet.prototype.clear.call(this);if(t){for(var n=0,r=e.length;r>n;n++){var o=e[n];"function"==typeof o.removeEventListener&&o.removeEventListener("destroy",this),"function"==typeof o.removeParentEventTarget&&o.removeParentEventTarget(this)}this.dispatchEvent({type:"change",addedTargets:[],deletedTargets:e})}return t},o.SetModel.prototype.handleEvent=function(e){"destroy"===e.type&&e.currentTarget===e.target&&this["delete"](e.target)},o.View=function(e,t){o.Node.call(this),this.setModel(e),this.setController(t)},o.View.prototype=o.create(o.Node.prototype),o.View.prototype.constructor=o.View,o.View.prototype.destroy=function(){o.purge(this),this._model=null,this._controller&&(this._controller.destroy(),this._controller=null),o.Node.prototype.destroy.call(this)},o.View.prototype.update=function(){},o.View.prototype.getModel=function(){return this._model},o.View.prototype.setModel=function(e){this._setModelAndController(e,this._controller)},o.View.prototype.getDefaultControllerConstructor=function(){return o.Controller},o.View.prototype.getDefaultController=function(){var e=this.getDefaultControllerConstructor();return new e},o.View.prototype.getController=function(){return this._controller||this.setController(this.getDefaultController()),this._controller},o.View.prototype.setController=function(e){this._setModelAndController(this._model,e)},o.View.prototype.getModelActions=function(){return{change:"update"}},o.View.prototype._setModelAndController=function(e,t){var n,r;if(this._model!==e){if(this._model){r=this._lastModelActions;for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&o.off(this._model,n,this,r[n]);delete this._lastModelActions}if(e){r=this._lastModelActions=this.getModelActions()||{};for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&o.on(e,n,this,r[n])}this._model=e}this._controller!==t&&this._controller&&(this._controller.setView(null),this._controller.setModel(null)),t&&(t.setView(this),t.setModel(e)),this._controller=t},o.ElementView=function(e,t,n){o.View.call(this,e,t),this.setDocument(n)},o.ElementView.prototype=o.create(o.View.prototype),o.ElementView.prototype.constructor=o.ElementView,o.ElementView.prototype.getDocument=function(){return this._doc||document},o.ElementView.prototype.setDocument=function(e){this._doc=e;for(var t=this.childNodes,n=0,r=t.length;r>n;n++)t[n].setDocument(e)},o.ElementView.prototype.getTemplate=function(){return"<div></div>"},o.ElementView.prototype.getUIActions=function(){return{}},o.ElementView.prototype.build=function(){return this._rootEl||(this.buildTemplate(),this.buildUIActions(),this.buildData(),this.buildChildViews()),this._rootEl},o.ElementView.prototype.buildTemplate=function(){this._rootEl=n.parseHTML(this.getTemplate(),this.getDocument()).firstChild},function(){var e=/^(\S+)\s*(.*)$/;o.ElementView.prototype.buildUIActions=function(){var t=this.getUIActions();for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n))for(var r=n.match(e),i=r[1],a=r[2],s=t[n],l=this.findAll(a,this._rootEl),u=0,c=l.length;c>u;u++)o.on(l[u],i,this,s)}}(),o.ElementView.prototype.buildData=function(){},o.ElementView.prototype.buildChildViews=function(){for(var e=this.childNodes,t=0,n=e.length;n>t;t++)this.getContainerEl().appendChild(e[t].build())},o.ElementView.prototype.getContainerEl=function(){return this.build()},o.ElementView.prototype.insertBefore=function(e,t){o.View.prototype.insertBefore.call(this,e,t),this._rootEl&&this.getContainerEl().insertBefore(e.build(),t?t.build():null)},o.ElementView.prototype.removeChild=function(e){o.View.prototype.removeChild.call(this,e),this._rootEl&&this.getContainerEl().removeChild(e.build())},o.ElementView.prototype.find=function(e){return r.find(e,this.build())},o.ElementView.prototype.findAll=function(e){return r.findAll(e,this.build())},o.SetView=function(){o.ElementView.apply(this,arguments)},o.SetView.prototype=o.create(o.ElementView.prototype),o.SetView.prototype.constructor=o.SetView,o.SetView.prototype.buildChildViews=function(){for(var e=this.getModel().toArray(),t=0,n=e.length;n>t;t++)this.appendChild(this.createChildView(e[t]))},o.SetView.prototype.createChildView=function(e){return new o.ElementView(e)},o.SetView.prototype.update=function(e){e.target===this.getModel()&&(e.addedTargets&&e.addedTargets.length&&this.handleAdd(e),e.deletedTargets&&e.deletedTargets.length&&this.handleDelete(e))},o.SetView.prototype.handleAdd=function(e){for(var t=e.addedTargets,n=0,r=t.length;r>n;n++)this.appendChild(this.createChildView(t[n]))},o.SetView.prototype.handleDelete=function(e){for(var t=e.deletedTargets,n=0,r=t.length;r>n;n++)for(var i=t[n],o=this.childNodes,a=0,s=o.length;s>a;a++){var l=o[a];if(l.getModel()===i){this.removeChild(l),l.destroy();break}}},o.Controller=function(){},o.Controller.prototype.destroy=function(){this._model=null,this._view&&(this._view.setController(null),this._view=null)},o.Controller.prototype.getModel=function(){return this._model},o.Controller.prototype.setModel=function(e){this._model=e},o.Controller.prototype.getView=function(){return this._view},o.Controller.prototype.setView=function(e){this._view=e},o.Model.subclass=function(){o.subclass.apply(this,arguments)},o.SetModel.subclass=function(){o.Model.subclass.apply(this,arguments)},o.View.subclass=function(e,t,n){n=n||{};var r=n.controllerConstructor,i=n.controllerConstructorName||t.replace(/(View|)$/,"Controller"),a=n.modelActions,s=n.properties||(n.properties={});Object.prototype.hasOwnProperty.call(s,"getDefaultControllerConstructor")||(s.getDefaultControllerConstructor=function(){return r||e[i]}),a&&!Object.prototype.hasOwnProperty.call(s,"getModelActions")&&(s.getModelActions=function(){return a}),o.subclass.call(this,e,t,n)},o.ElementView.subclass=function(e,t,n){n=n||{};var r=n.template,i=n.templateName||t.replace(/(View|)$/,"Template"),a=n.uiActions,s=n.properties||(n.properties={});if(Object.prototype.hasOwnProperty.call(s,"getTemplate")||(r?s.getTemplate=function(){return r}:i&&(s.getTemplate=function(){return e[i]})),a){Object.prototype.hasOwnProperty.call(s,"getUIActions")||(s.getUIActions=function(){return a});for(var l in a)if(Object.prototype.hasOwnProperty.call(a,l)){var u=a[l];Object.prototype.hasOwnProperty.call(s,u)||u in this.prototype||!function(e){s[e]=function(t){this.getController()[e](t)}}(u)}}o.View.subclass.call(this,e,t,n)},o.SetView.subclass=function(){o.ElementView.subclass.apply(this,arguments)},o.Controller.subclass=function(){o.subclass.apply(this,arguments)},o}(),aristocrat={};!function(){function e(e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:t[e]=new RegExp("(?:^|\\s+)"+e+"(?:\\s+|$)")}var t={},n=aristocrat.hasClass=function(t,n){return e(n).test(t.className)},r=aristocrat.addClass=function(e,t){n(e,t)||(e.className=e.className+" "+t)},i=aristocrat.removeClass=function(t,n){for(var r=e(n);r.test(t.className);)t.className=t.className.replace(r," ")};aristocrat.toggleClass=function(e,t){n(e,t)?i(e,t):r(e,t)}}();var checkit={};checkit.isBlank=function(e){return/^\s*$/.test(e)},checkit.escapeHTML=function(e){return String(e).replace(/&(?!\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},checkit.isEnterKeyCode=function(e){return 13===e},checkit.isEscapeKeyCode=function(e){return 27===e},maria.Model.subclass(checkit,"TodoModel",{properties:{_title:"",_completed:!1,getTitle:function(){return this._title},setTitle:function(e){e=(""+e).trim(),this._title!==e&&(this._title=e,this.dispatchEvent({type:"change"}))},isCompleted:function(){return this._completed},setCompleted:function(e){e=!!e,this._completed!==e&&(this._completed=e,this.dispatchEvent({type:"change"}))},toggleCompleted:function(){this.setCompleted(!this.isCompleted())},toJSON:function(){return{title:this._title,completed:this._completed}}}}),checkit.TodoModel.fromJSON=function(e){var t=new checkit.TodoModel;return t._title=e.title,t._completed=e.completed,t},maria.SetModel.subclass(checkit,"TodosModel",{properties:{_mode:"all",getPossibleModes:function(){return["all","incompleted","completed"]},getMode:function(){return this._mode},setMode:function(e){var t=this.getPossibleModes().some(function(t){return t===e});if(!t)throw new Error('checkit.TodosModel.prototype.setMode: unsupported mode "'+e+'".');this._mode!==e&&(this._mode=e,this.dispatchEvent({type:"change"}))},getCompleted:function(){var e=[];return this.forEach(function(t){t.isCompleted()&&e.push(t)}),e},getIncompleted:function(){var e=[];return this.forEach(function(t){t.isCompleted()||e.push(t)}),e},isAllCompleted:function(){return this.size>0&&this.getCompleted().length===this.size},isEmpty:function(){return 0===this.size},markAllCompleted:function(){this.forEach(function(e){e.setCompleted(!0)})},markAllIncompleted:function(){this.forEach(function(e){e.setCompleted(!1)})},deleteCompleted:function(){this["delete"].apply(this,this.getCompleted())},toJSON:function(){var e=[];return this.forEach(function(t){e.push(t.toJSON())}),e}}}),checkit.TodosModel.fromJSON=function(e){var t,n,r=new checkit.TodosModel;for(t=0,n=e.length;n>t;t++)r.add(checkit.TodoModel.fromJSON(e[t]));return r},checkit.TodosAppTemplate='<section id="todoapp"><header id="header"><h1>todos</h1><input id="new-todo" placeholder="What needs to be done?" autofocus></header><section id="main"><input id="toggle-all" type="checkbox"><label for="toggle-all">Mark all as completed</label><ul id="todo-list"></ul></section><footer id="footer"><span id="todo-count"></span><ul id="filters"><li><a class="all-filter" href="#/">All</a></li><li><a class="incompleted-filter" href="#/active">Active</a></li><li><a class="completed-filter" href="#/completed">Completed</a></li></ul><button id="clear-completed"></button></footer></section>',maria.SetView.subclass(checkit,"TodosAppView",{uiActions:{"keyup #new-todo":"onKeyupNewTodo","click #toggle-all":"onClickToggleAll","click #clear-completed":"onClickClearCompleted"},properties:{buildData:function(){var e=this.getModel(),t=e.size;this.find("#main").style.display=t>0?"":"none",this.find("#footer").style.display=t>0?"":"none";var n=this.find("#toggle-all");n.checked=e.isAllCompleted(),n.disabled=e.isEmpty();var r=this.find("#todo-list");e.getPossibleModes().forEach(function(e){aristocrat.removeClass(r,e)}),aristocrat.addClass(r,e.getMode());var i=e.getIncompleted().length;this.find("#todo-count").innerHTML="<strong>"+i+"</strong> "+(1===i?"item":"items")+" left";var o=this.find(".selected");o&&aristocrat.removeClass(o,"selected"),aristocrat.addClass(this.find("."+e.getMode()+"-filter"),"selected");var a=e.getCompleted().length,s=this.find("#clear-completed");s.style.display=a>0?"":"none",s.innerHTML="Clear completed ("+a+")"},update:function(e){maria.SetView.prototype.update.call(this,e),this.buildData()},getContainerEl:function(){return this.find("#todo-list")},createChildView:function(e){return new checkit.TodoView(e)},getInputValue:function(){return this.find("#new-todo").value},clearInput:function(){this.find("#new-todo").value=""}}}),maria.Controller.subclass(checkit,"TodosAppController",{properties:{onKeyupNewTodo:function(e){if(checkit.isEnterKeyCode(e.keyCode)){var t=this.getView(),n=t.getInputValue();if(!checkit.isBlank(n)){var r=new checkit.TodoModel;r.setTitle(n),this.getModel().add(r),t.clearInput()}}},onClickToggleAll:function(){var e=this.getModel();e.isAllCompleted()?e.markAllIncompleted():e.markAllCompleted()},onClickClearCompleted:function(){this.getModel().deleteCompleted()}}}),checkit.TodoTemplate='<li><div class="view"><input class="toggle" type="checkbox"><label></label><button class="destroy"></span></div><input class="edit"></li>',maria.ElementView.subclass(checkit,"TodoView",{uiActions:{"click .destroy":"onClickDestroy","click .toggle":"onClickToggle","dblclick label":"onDblclickLabel","keyup .edit":"onKeyupEdit","blur .edit":"onBlurEdit"},properties:{buildData:function(){var e=this.getModel(),t=this.find("li");aristocrat.removeClass(t,"(in|)completed"),aristocrat.addClass(t,e.isCompleted()?"completed":"incompleted"),this.find("label").innerHTML=checkit.escapeHTML(e.getTitle()),this.find(".toggle").checked=e.isCompleted()},update:function(){this.buildData()},resetEdit:function(){var e=this.find(".edit");e.value=this.getModel().getTitle()},showEdit:function(){var e=this.find(".edit");this.resetEdit(),aristocrat.addClass(this.find("li"),"editing"),e.focus()},showDisplay:function(){aristocrat.removeClass(this.find("li"),"editing")},getInputValue:function(){return this.find(".edit").value}}}),maria.Controller.subclass(checkit,"TodoController",{properties:{onClickDestroy:function(){this.getModel().destroy()},onClickToggle:function(){this.getModel().toggleCompleted()},onDblclickLabel:function(){this.getView().showEdit()},onKeyupEdit:function(e){var t=e.keyCode;if(checkit.isEnterKeyCode(t))this.onBlurEdit();else if(checkit.isEscapeKeyCode(t)){var n=this.getView();n.resetEdit(),n.showDisplay()}},onBlurEdit:function(){var e=this.getModel(),t=this.getView(),n=t.getInputValue();t.showDisplay(),checkit.isBlank(n)?e.destroy():e.setTitle(n)}}}),maria.on(window,"load",function(){var e;if("object"==typeof localStorage&&"object"==typeof JSON){var t=localStorage.getItem("todos-maria");e=t?checkit.TodosModel.fromJSON(JSON.parse(t)):new checkit.TodosModel,maria.on(e,"change",function(){localStorage.setItem("todos-maria",JSON.stringify(e.toJSON()))})}else e=new checkit.TodosModel;var n={"/":function(){e.setMode("all")},"/active":function(){e.setMode("incompleted")},"/completed":function(){e.setMode("completed")}},r=new Router(n);r.init();var i=new checkit.TodosAppView(e);document.body.insertBefore(i.build(),document.body.firstChild)});