<!doctype html>
<html lang="en" data-framework="backbonejs" data-version="dev"><head><meta charset="utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><title>Backbone.js + RequireJS â€¢ TodoMVC</title><!--[if lt IE 8]><link rel="stylesheet" href="static/base.9f676b3087.css" /><![endif]--><!--[if gte IE 8]><!--><link rel="stylesheet" href="static/117.7842eb1a97.css" /><!--<![endif]--><script>!function(){"use strict";function e(){"tastejs.github.io"===location.hostname&&(location.href=location.href.replace("tastejs.github.io/todomvc","todomvc.com"))}function t(){var e;return[/labs/,/\w*-examples/].forEach(function(t){var n=location.href.match(t);!e&&n&&(e=location.href.indexOf(n))}),location.href.substr(0,e)}function n(e,n){if(!location.host)return console.info("Miss the info bar? Run TodoMVC from a server to avoid a cross-origin error.");var r=new XMLHttpRequest;r.open("GET",t()+e,!0),r.send(),r.onload=function(){200===r.status&&n&&n(r.responseText)}}function r(e,t){if(!(this instanceof r))return new r(e,t);var n,o;if("object"!=typeof e)try{e=JSON.parse(e)}catch(a){return}t&&(n=t.template,o=t.framework),!n&&e.templates&&(n=e.templates.todomvc),!o&&document.querySelector("[data-framework]")&&(o=document.querySelector("[data-framework]").getAttribute("data-framework")),n&&e[o]&&(this.frameworkJSON=e[o],this.template=n,this.append())}var o=function(e){e.defaults=function(e){if(!e)return e;for(var t=1,n=arguments.length;n>t;t++){var r=arguments[t];if(r)for(var o in r)null==e[o]&&(e[o]=r[o])}return e},e.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var t=/(.)^/,n={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},r=/\\|'|\r|\n|\t|\u2028|\u2029/g;return e.template=function(o,a,c){var i;c=e.defaults({},c,e.templateSettings);var u=new RegExp([(c.escape||t).source,(c.interpolate||t).source,(c.evaluate||t).source].join("|")+"|$","g"),s=0,l="__p+='";o.replace(u,function(e,t,a,c,i){return l+=o.slice(s,i).replace(r,function(e){return"\\"+n[e]}),t&&(l+="'+\n((__t=("+t+"))==null?'':_.escape(__t))+\n'"),a&&(l+="'+\n((__t=("+a+"))==null?'':__t)+\n'"),c&&(l+="';\n"+c+"\n__p+='"),s=i+e.length,e}),l+="';\n",c.variable||(l="with(obj||{}){\n"+l+"}\n"),l="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+l+"return __p;\n";try{i=new Function(c.variable||"obj","_",l)}catch(f){throw f.source=l,f}if(a)return i(a,e);var m=function(t){return i.call(this,t,e)};return m.source="function("+(c.variable||"obj")+"){\n"+l+"}",m},e}({});"todomvc.com"===location.hostname&&(window._gaq=[["_setAccount","UA-31081062-1"],["_trackPageview"]],function(e,t){var n=e.createElement(t),r=e.getElementsByTagName(t)[0];n.src="//www.google-analytics.com/ga.js",r.parentNode.insertBefore(n,r)}(document,"script")),r.prototype.append=function(){var e=document.createElement("aside");e.innerHTML=o.template(this.template,this.frameworkJSON),e.className="learn";var n=e.querySelectorAll(".demo-link");Array.prototype.forEach.call(n,function(e){e.setAttribute("href",t()+e.getAttribute("href"))}),document.body.className=(document.body.className+" learn-bar").trim(),document.body.insertAdjacentHTML("afterBegin",e.outerHTML)},e(),n("learn.json",r)}();</script></head><body><section id="todoapp"><header id="header"><h1>todos</h1><input id="new-todo" placeholder="What needs to be done?" autofocus="" /></header> <section id="main"><input id="toggle-all" type="checkbox" /> <label for="toggle-all">Mark all as complete</label><ul id="todo-list"></ul></section><footer id="footer"></footer></section> <footer id="info"><p>Double-click to edit a todo</p><p>Written by <a href="http://addyosmani.github.com/todomvc/">Addy Osmani</a></p><p>Part of <a href="http://todomvc.com">TodoMVC</a></p></footer><script src="static/bundle-110.26e58fb9c5.js"></script><script>"use strict";define("common",[],function(){return{TodoFilter:"",ENTER_KEY:13}});</script><script>define("templates/todos.html",'<div class="view"><input class="toggle" type="checkbox" <%= completed ? \'checked\' : \'\' %>="" /> <label><%- title %></label> <button class="destroy"></button></div><input class="edit" value="<%- title %>" />'),define("views/todos",["jquery","underscore","backbone","templates/todos.html","common"],function(e,t,n,r,i){"use strict";var o=n.View.extend({tagName:"li",template:t.template(r),events:{"click .toggle":"toggleCompleted","dblclick label":"edit","click .destroy":"clear","keypress .edit":"updateOnEnter","blur .edit":"close"},initialize:function(){this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"destroy",this.remove),this.listenTo(this.model,"visible",this.toggleVisible)},render:function(){return this.$el.html(this.template(this.model.toJSON())),this.$el.toggleClass("completed",this.model.get("completed")),this.toggleVisible(),this.$input=this.$(".edit"),this},toggleVisible:function(){this.$el.toggleClass("hidden",this.isHidden())},isHidden:function(){var e=this.model.get("completed");return!e&&"completed"===i.TodoFilter||e&&"active"===i.TodoFilter},toggleCompleted:function(){this.model.toggle()},edit:function(){this.$el.addClass("editing"),this.$input.focus()},close:function(){var e=this.$input.val(),t=e.trim();t?(this.model.save({title:t}),e!==t&&this.model.trigger("change")):this.clear(),this.$el.removeClass("editing")},updateOnEnter:function(e){e.keyCode===i.ENTER_KEY&&this.close()},clear:function(){this.model.destroy()}});return o}),define("templates/stats.html",'<span id="todo-count"><strong><%= remaining %></strong> <%= remaining == 1 ? \'item\' : \'items\' %> left</span><ul id="filters"> <li><a class="selected" href="#/">All</a></li> <li><a href="#/active">Active</a></li> <li><a href="#/completed">Completed</a></li></ul><% if ( completed ) { %>\n<button id="clear-completed">Clear completed (<%= completed %>)</button>\n<% } %>'),define("views/app",["jquery","underscore","backbone","collections/todos","views/todos","templates/stats.html","common"],function(e,t,n,r,i,o,s){"use strict";var a=n.View.extend({el:"#todoapp",template:t.template(o),events:{"keypress #new-todo":"createOnEnter","click #clear-completed":"clearCompleted","click #toggle-all":"toggleAllComplete"},initialize:function(){this.allCheckbox=this.$("#toggle-all")[0],this.$input=this.$("#new-todo"),this.$footer=this.$("#footer"),this.$main=this.$("#main"),this.listenTo(r,"add",this.addOne),this.listenTo(r,"reset",this.addAll),this.listenTo(r,"change:completed",this.filterOne),this.listenTo(r,"filter",this.filterAll),this.listenTo(r,"all",this.render),r.fetch()},render:function(){var e=r.completed().length,t=r.remaining().length;r.length?(this.$main.show(),this.$footer.show(),this.$footer.html(this.template({completed:e,remaining:t})),this.$("#filters li a").removeClass("selected").filter('[href="#/'+(s.TodoFilter||"")+'"]').addClass("selected")):(this.$main.hide(),this.$footer.hide()),this.allCheckbox.checked=!t},addOne:function(t){var n=new i({model:t});e("#todo-list").append(n.render().el)},addAll:function(){this.$("#todo-list").html(""),r.each(this.addOne,this)},filterOne:function(e){e.trigger("visible")},filterAll:function(){r.each(this.filterOne,this)},newAttributes:function(){return{title:this.$input.val().trim(),order:r.nextOrder(),completed:!1}},createOnEnter:function(e){e.which===s.ENTER_KEY&&this.$input.val().trim()&&(r.create(this.newAttributes()),this.$input.val(""))},clearCompleted:function(){return t.invoke(r.completed(),"destroy"),!1},toggleAllComplete:function(){var e=this.allCheckbox.checked;r.each(function(t){t.save({completed:e})})}});return a}),define("routers/router",["jquery","backbone","collections/todos","common"],function(e,t,n,r){"use strict";var i=t.Router.extend({routes:{"*filter":"setFilter"},setFilter:function(e){r.TodoFilter=e||"",n.trigger("filter")}});return i});</script><script>"use strict";require.config({shim:{underscore:{exports:"_"},backbone:{deps:["underscore","jquery"],exports:"Backbone"},backboneLocalstorage:{deps:["backbone"],exports:"Store"}},paths:{jquery:"../bower_components/jquery/jquery",underscore:"../bower_components/underscore/underscore",backbone:"../bower_components/backbone/backbone",backboneLocalstorage:"../bower_components/backbone.localStorage/backbone.localStorage",text:"../bower_components/requirejs-text/text"}}),require(["backbone","views/app","routers/router"],function(e,t,r){new r,e.history.start(),new t}),define("main",function(){});</script></body></html>